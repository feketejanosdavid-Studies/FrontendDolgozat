import{A as _o,B as m_,C as __,D as N,E as We,F as De,G as td,H as v_,I as vo,J as Le,K as Qt,L as ua,M as nd,N as y_,O as Ui,P as yo,Q as D_,R as b_,S as In,T as bt,a as y,b as F,c as ze,d as o_,e as sa,f as s_,g as a_,h as _,i as ji,j as aa,k as l_,l as c_,m as Ee,n as u_,o as ed,p as d_,q as Ft,r as h_,s as f_,t as la,u as _e,v as p_,w as g_,x as st,y as En,z as ca}from"./chunk-DU3LGMPY.js";function w_(e,t){return Object.is(e,t)}var be=null,da=!1,ha=1,Yt=Symbol("SIGNAL");function K(e){let t=be;return be=e,t}function C_(){return be}var bo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function od(e){if(da)throw new Error("");if(be===null)return;be.consumerOnSignalRead(e);let t=be.nextProducerIndex++;if(ma(be),t<be.producerNode.length&&be.producerNode[t]!==e&&Do(be)){let n=be.producerNode[t];ga(n,be.producerIndexOfThis[t])}be.producerNode[t]!==e&&(be.producerNode[t]=e,be.producerIndexOfThis[t]=Do(be)?S_(e,be,t):0),be.producerLastReadVersion[t]=e.version}function v1(){ha++}function E_(e){if(!(Do(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ha)){if(!e.producerMustRecompute(e)&&!ad(e)){e.dirty=!1,e.lastCleanEpoch=ha;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ha}}function I_(e){if(e.liveConsumerNode===void 0)return;let t=da;da=!0;try{for(let n of e.liveConsumerNode)n.dirty||y1(n)}finally{da=t}}function T_(){return be?.consumerAllowSignalWrites!==!1}function y1(e){e.dirty=!0,I_(e),e.consumerMarkedDirty?.(e)}function pa(e){return e&&(e.nextProducerIndex=0),K(e)}function sd(e,t){if(K(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Do(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ga(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ad(e){ma(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(E_(n),i!==n.version))return!0}return!1}function ld(e){if(ma(e),Do(e))for(let t=0;t<e.producerNode.length;t++)ga(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function S_(e,t,n){if(M_(e),e.liveConsumerNode.length===0&&N_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=S_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ga(e,t){if(M_(e),e.liveConsumerNode.length===1&&N_(e))for(let i=0;i<e.producerNode.length;i++)ga(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];ma(r),r.producerIndexOfThis[i]=t}}function Do(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ma(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function M_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function N_(e){return e.producerNode!==void 0}function A_(e){let t=Object.create(D1);t.computation=e;let n=()=>{if(E_(t),od(t),t.value===fa)throw t.error;return t.value};return n[Yt]=t,n}var id=Symbol("UNSET"),rd=Symbol("COMPUTING"),fa=Symbol("ERRORED"),D1=F(y({},bo),{value:id,dirty:!0,error:null,equal:w_,producerMustRecompute(e){return e.value===id||e.value===rd},producerRecomputeValue(e){if(e.value===rd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=rd;let n=pa(e),i;try{i=e.computation()}catch(r){i=fa,e.error=r}finally{sd(e,n)}if(t!==id&&t!==fa&&i!==fa&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function b1(){throw new Error}var O_=b1;function R_(){O_()}function x_(e){O_=e}var w1=null;function k_(e){let t=Object.create(P_);t.value=e;let n=()=>(od(t),t.value);return n[Yt]=t,n}function cd(e,t){T_()||R_(),e.equal(e.value,t)||(e.value=t,C1(e))}function F_(e,t){T_()||R_(),cd(e,t(e.value))}var P_=F(y({},bo),{equal:w_,value:void 0});function C1(e){e.version++,v1(),I_(e),w1?.()}function M(e){return typeof e=="function"}function $i(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _a=$i(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oi(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){t=o instanceof _a?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{L_(o)}catch(s){t=t??[],s instanceof _a?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _a(t)}}add(t){var n;if(t&&t!==this)if(this.closed)L_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&oi(n,t)}remove(t){let{_finalizers:n}=this;n&&oi(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var ud=he.EMPTY;function va(e){return e instanceof he||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function L_(e){M(e)?e():e.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hi={setTimeout(e,t,...n){let{delegate:i}=Hi;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Hi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ya(e){Hi.setTimeout(()=>{let{onUnhandledError:t}=wt;if(t)t(e);else throw e})}function si(){}var V_=dd("C",void 0,void 0);function B_(e){return dd("E",void 0,e)}function j_(e){return dd("N",e,void 0)}function dd(e,t,n){return{kind:e,value:t,error:n}}var ai=null;function Gi(e){if(wt.useDeprecatedSynchronousErrorHandling){let t=!ai;if(t&&(ai={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=ai;if(ai=null,n)throw i}}else e()}function U_(e){wt.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=e)}var li=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,va(t)&&t.add(this)):this.destination=T1}static create(t,n,i){return new Jt(t,n,i)}next(t){this.isStopped?fd(j_(t),this):this._next(t)}error(t){this.isStopped?fd(B_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?fd(V_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},E1=Function.prototype.bind;function hd(e,t){return E1.call(e,t)}var pd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Da(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Da(i)}else Da(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Da(n)}}},Jt=class extends li{constructor(t,n,i){super();let r;if(M(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&hd(t.next,o),error:t.error&&hd(t.error,o),complete:t.complete&&hd(t.complete,o)}):r=t}this.destination=new pd(r)}};function Da(e){wt.useDeprecatedSynchronousErrorHandling?U_(e):ya(e)}function I1(e){throw e}function fd(e,t){let{onStoppedNotification:n}=wt;n&&Hi.setTimeout(()=>n(e,t))}var T1={closed:!0,next:si,error:I1,complete:si};var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ae(e){return e}function gd(...e){return md(e)}function md(e){return e.length===0?Ae:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var A=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=M1(n)?n:new Jt(n,i,r);return Gi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=$_(i),new i((r,o)=>{let s=new Jt({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[zi](){return this}pipe(...n){return md(n)(this)}toPromise(n){return n=$_(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function $_(e){var t;return(t=e??wt.Promise)!==null&&t!==void 0?t:Promise}function S1(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function M1(e){return e&&e instanceof li||S1(e)&&va(e)}function _d(e){return M(e?.lift)}function k(e){return t=>{if(_d(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(e,t,n,i,r){return new vd(e,t,n,i,r)}var vd=class extends li{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Wi(){return k((e,t)=>{let n=null;e._refCount++;let i=O(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var qi=class extends A{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_d(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new he;let n=this.getSubject();t.add(this.source.subscribe(O(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=he.EMPTY)}return t}refCount(){return Wi()(this)}};var H_=$i(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new ba(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new H_}next(n){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?ud:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,oi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new A;return n.source=this,n}}return e.create=(t,n)=>new ba(t,n),e})(),ba=class extends q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:ud}};var Ie=class extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var wo={now(){return(wo.delegate||Date).now()},delegate:void 0};var wa=class extends q{constructor(t=1/0,n=1/0,i=wo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Ca=class extends he{constructor(t,n){super()}schedule(t,n=0){return this}};var Co={setInterval(e,t,...n){let{delegate:i}=Co;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Co;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Zi=class extends Ca{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return Co.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Co.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oi(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Ki=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};Ki.now=wo.now;var Qi=class extends Ki{constructor(t,n=Ki.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var Yi=new Qi(Zi),yd=Yi;var Ea=class extends Zi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var Ia=class extends Qi{};var Dd=new Ia(Ea);var we=new A(e=>e.complete());function Ta(e){return e&&M(e.schedule)}function bd(e){return e[e.length-1]}function Tn(e){return M(bd(e))?e.pop():void 0}function Pt(e){return Ta(bd(e))?e.pop():void 0}function G_(e,t){return typeof bd(e)=="number"?e.pop():t}var Ji=e=>e&&typeof e.length=="number"&&typeof e!="function";function Sa(e){return M(e?.then)}function Ma(e){return M(e[zi])}function Na(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function Aa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oa=N1();function Ra(e){return M(e?.[Oa])}function xa(e){return s_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield sa(n.read());if(r)return yield sa(void 0);yield yield sa(i)}}finally{n.releaseLock()}})}function ka(e){return M(e?.getReader)}function Z(e){if(e instanceof A)return e;if(e!=null){if(Ma(e))return A1(e);if(Ji(e))return O1(e);if(Sa(e))return R1(e);if(Na(e))return z_(e);if(Ra(e))return x1(e);if(ka(e))return k1(e)}throw Aa(e)}function A1(e){return new A(t=>{let n=e[zi]();if(M(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O1(e){return new A(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function R1(e){return new A(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ya)})}function x1(e){return new A(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function z_(e){return new A(t=>{F1(e,t).catch(n=>t.error(n))})}function k1(e){return z_(xa(e))}function F1(e,t){var n,i,r,o;return o_(this,void 0,void 0,function*(){try{for(n=a_(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function qe(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function at(e,t=0){return k((n,i)=>{n.subscribe(O(i,r=>qe(i,e,()=>i.next(r),t),()=>qe(i,e,()=>i.complete(),t),r=>qe(i,e,()=>i.error(r),t)))})}function Ct(e,t=0){return k((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function W_(e,t){return Z(e).pipe(Ct(t),at(t))}function q_(e,t){return Z(e).pipe(Ct(t),at(t))}function Z_(e,t){return new A(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function K_(e,t){return new A(n=>{let i;return qe(n,t,()=>{i=e[Oa](),qe(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Fa(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(n=>{qe(n,t,()=>{let i=e[Symbol.asyncIterator]();qe(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Q_(e,t){return Fa(xa(e),t)}function Y_(e,t){if(e!=null){if(Ma(e))return W_(e,t);if(Ji(e))return Z_(e,t);if(Sa(e))return q_(e,t);if(Na(e))return Fa(e,t);if(Ra(e))return K_(e,t);if(ka(e))return Q_(e,t)}throw Aa(e)}function X(e,t){return t?Y_(e,t):Z(e)}function C(...e){let t=Pt(e);return X(e,t)}function Xi(e,t){let n=M(e)?e:()=>e,i=r=>r.error(n());return new A(t?r=>t.schedule(i,0,r):i)}function wd(e){return!!e&&(e instanceof A||M(e.lift)&&M(e.subscribe))}var Xt=$i(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function J_(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return k((n,i)=>{let r=0;n.subscribe(O(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:P1}=Array;function L1(e,t){return P1(t)?e(...t):e(t)}function er(e){return S(t=>L1(e,t))}var{isArray:V1}=Array,{getPrototypeOf:B1,prototype:j1,keys:U1}=Object;function Pa(e){if(e.length===1){let t=e[0];if(V1(t))return{args:t,keys:null};if($1(t)){let n=U1(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function $1(e){return e&&typeof e=="object"&&B1(e)===j1}function La(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function tr(...e){let t=Pt(e),n=Tn(e),{args:i,keys:r}=Pa(e);if(i.length===0)return X([],t);let o=new A(H1(i,t,r?s=>La(r,s):Ae));return n?o.pipe(er(n)):o}function H1(e,t,n=Ae){return i=>{X_(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)X_(t,()=>{let c=X(e[l],t),u=!1;c.subscribe(O(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function X_(e,t,n){e?qe(n,e,t):t()}function ev(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let D=!1;Z(n(m,u++)).subscribe(O(t,I=>{r?.(I),o?f(I):t.next(I)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){let I=l.shift();s?qe(t,s,()=>p(I)):p(I)}h()}catch(I){t.error(I)}}))};return e.subscribe(O(t,f,()=>{d=!0,h()})),()=>{a?.()}}function le(e,t,n=1/0){return M(t)?le((i,r)=>S((o,s)=>t(i,o,r,s))(Z(e(i,r))),n):(typeof t=="number"&&(n=t),k((i,r)=>ev(i,r,e,n)))}function Sn(e=1/0){return le(Ae,e)}function tv(){return Sn(1)}function Mn(...e){return tv()(X(e,Pt(e)))}function Va(e){return new A(t=>{Z(e()).subscribe(t)})}function Cd(...e){let t=Tn(e),{args:n,keys:i}=Pa(e),r=new A(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Z(n[u]).subscribe(O(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?La(i,a):a),o.complete())}))}});return t?r.pipe(er(t)):r}var G1=["addListener","removeListener"],z1=["addEventListener","removeEventListener"],W1=["on","off"];function lt(e,t,n,i){if(M(n)&&(i=n,n=void 0),i)return lt(e,t,n).pipe(er(i));let[r,o]=K1(e)?z1.map(s=>a=>e[s](t,a,n)):q1(e)?G1.map(nv(e,t)):Z1(e)?W1.map(nv(e,t)):[];if(!r&&Ji(e))return le(s=>lt(s,t,n))(Z(e));if(!r)throw new TypeError("Invalid event target");return new A(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function nv(e,t){return n=>i=>e[n](t,i)}function q1(e){return M(e.addListener)&&M(e.removeListener)}function Z1(e){return M(e.on)&&M(e.off)}function K1(e){return M(e.addEventListener)&&M(e.removeEventListener)}function Ed(e=0,t,n=yd){let i=-1;return t!=null&&(Ta(t)?n=t:i=t),new A(r=>{let o=J_(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function ci(...e){let t=Pt(e),n=G_(e,1/0),i=e;return i.length?i.length===1?Z(i[0]):Sn(n)(X(i,t)):we}var{isArray:Q1}=Array;function Ba(e){return e.length===1&&Q1(e[0])?e[0]:e}function me(e,t){return k((n,i)=>{let r=0;n.subscribe(O(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Id(...e){return e=Ba(e),e.length===1?Z(e[0]):new A(Y1(e))}function Y1(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(Z(e[i]).subscribe(O(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Eo(...e){let t=Tn(e),n=Ba(e);return n.length?new A(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)Z(n[s]).subscribe(O(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):we}function Nn(e){return k((t,n)=>{let i=null,r=!1,o;i=t.subscribe(O(n,void 0,void 0,s=>{o=Z(e(s,Nn(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function iv(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(O(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function en(e,t){return M(t)?le(e,t,1):le(e,1)}function An(e){return k((t,n)=>{let i=!1;t.subscribe(O(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Ze(e){return e<=0?()=>we:k((t,n)=>{let i=0;t.subscribe(O(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Td(e){return S(()=>e)}function ja(e,t=Ae){return e=e??J1,k((n,i)=>{let r,o=!0;n.subscribe(O(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function J1(e,t){return e===t}function Ua(e=X1){return k((t,n)=>{let i=!1;t.subscribe(O(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function X1(){return new Xt}function Sd(...e){return t=>Mn(t,C(...e))}function On(e){return k((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ct(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Ae,Ze(1),n?An(t):Ua(()=>new Xt))}function nr(e){return e<=0?()=>we:k((t,n)=>{let i=[];t.subscribe(O(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Md(e,t){let n=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Ae,nr(1),n?An(t):Ua(()=>new Xt))}function ir(e,t){return k(iv(e,t,arguments.length>=2,!0))}function Io(e={}){let{connector:t=()=>new q,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return k((m,D)=>{c++,!d&&!u&&h();let I=l=l??t();D.add(()=>{c--,c===0&&!d&&!u&&(a=Nd(p,r))}),I.subscribe(D),!s&&c>0&&(s=new Jt({next:L=>I.next(L),error:L=>{d=!0,h(),a=Nd(f,n,L),I.error(L)},complete:()=>{u=!0,h(),a=Nd(f,i),I.complete()}}),Z(m).subscribe(s))})(o)}}function Nd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new Jt({next:()=>{i.unsubscribe(),e()}});return Z(t(...n)).subscribe(i)}function $a(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Io({connector:()=>new wa(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ad(e){return k((t,n)=>{let i=!1,r=0;t.subscribe(O(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function Ha(...e){let t=Pt(e);return k((n,i)=>{(t?Mn(e,n,t):Mn(e,n)).subscribe(i)})}function ne(e,t){return k((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(O(i,l=>{r?.unsubscribe();let c=0,u=o++;Z(e(l,u)).subscribe(r=O(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Ga(e,t){return M(t)?ne(()=>e,t):ne(()=>e)}function Re(e){return k((t,n)=>{Z(e).subscribe(O(n,()=>n.complete(),si)),!n.closed&&t.subscribe(n)})}function fe(e,t,n){let i=M(e)||t||n?{next:e,error:t,complete:n}:e;return i?k((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(O(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Ae}function rr(...e){let t=Tn(e);return k((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Z(e[l]).subscribe(O(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Ae))&&(s=null))},si));n.subscribe(O(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var eI="https://g.co/ng/security#xss",T=class extends Error{constructor(t,n){super(Tl(t,n)),this.code=t}};function Tl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Po(e){return{toString:e}.toString()}var za="__parameters__";function tI(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function Bv(e,t,n){return Po(()=>{let i=tI(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(za)?l[za]:Object.defineProperty(l,za,{value:[]})[za];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var ln=globalThis;function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function nI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Be(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Be).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Gd(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var iI=ie({__forward_ref__:ie});function wr(e){return e.__forward_ref__=wr,e.toString=function(){return Be(this())},e}function Ve(e){return jv(e)?e():e}function jv(e){return typeof e=="function"&&e.hasOwnProperty(iI)&&e.__forward_ref__===wr}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function G(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sl(e){return rv(e,$v)||rv(e,Hv)}function Uv(e){return Sl(e)!==null}function rv(e,t){return e.hasOwnProperty(t)?e[t]:null}function rI(e){let t=e&&(e[$v]||e[Hv]);return t||null}function ov(e){return e&&(e.hasOwnProperty(sv)||e.hasOwnProperty(oI))?e[sv]:null}var $v=ie({\u0275prov:ie}),sv=ie({\u0275inj:ie}),Hv=ie({ngInjectableDef:ie}),oI=ie({ngInjectorDef:ie}),b=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gv(e){return e&&!!e.\u0275providers}var sI=ie({\u0275cmp:ie}),aI=ie({\u0275dir:ie}),lI=ie({\u0275pipe:ie}),cI=ie({\u0275mod:ie}),tl=ie({\u0275fac:ie}),So=ie({__NG_ELEMENT_ID__:ie}),av=ie({__NG_ENV_ID__:ie});function $h(e){return typeof e=="string"?e:e==null?"":String(e)}function uI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():$h(e)}function dI(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,e)}function Hh(e,t){throw new T(-201,!1)}var j=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(j||{}),zd;function zv(){return zd}function ut(e){let t=zd;return zd=e,t}function Wv(e,t,n){let i=Sl(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&j.Optional)return null;if(t!==void 0)return t;Hh(e,"Injector")}var hI={},No=hI,Wd="__NG_DI_FLAG__",nl="ngTempTokenPath",fI="ngTokenPath",pI=/\n/gm,gI="\u0275",lv="__source",cr;function mI(){return cr}function Rn(e){let t=cr;return cr=e,t}function _I(e,t=j.Default){if(cr===void 0)throw new T(-203,!1);return cr===null?Wv(e,void 0,t):cr.get(e,t&j.Optional?null:void 0,t)}function v(e,t=j.Default){return(zv()||_I)(Ve(e),t)}function g(e,t=j.Default){return v(e,Ml(t))}function Ml(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qd(e){let t=[];for(let n=0;n<e.length;n++){let i=Ve(e[n]);if(Array.isArray(i)){if(i.length===0)throw new T(900,!1);let r,o=j.Default;for(let s=0;s<i.length;s++){let a=i[s],l=vI(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(v(r,o))}else t.push(v(i))}return t}function qv(e,t){return e[Wd]=t,e.prototype[Wd]=t,e}function vI(e){return e[Wd]}function yI(e,t,n,i){let r=e[nl];throw t[lv]&&r.unshift(t[lv]),e.message=DI(`
`+e.message,r,n,i),e[fI]=r,e[nl]=null,e}function DI(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==gI?e.slice(2):e;let r=Be(t);if(Array.isArray(t))r=t.map(Be).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(pI,`
  `)}`}var Lo=qv(Bv("Optional"),8);var Gh=qv(Bv("SkipSelf"),4);function dr(e,t){let n=e.hasOwnProperty(tl);return n?e[tl]:null}function bI(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function wI(e){return e.flat(Number.POSITIVE_INFINITY)}function zh(e,t){e.forEach(n=>Array.isArray(n)?zh(n,t):t(n))}function Zv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function il(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function CI(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function EI(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function Wh(e,t,n){let i=Vo(e,t);return i>=0?e[i|1]=n:(i=~i,EI(e,i,t,n)),i}function Od(e,t){let n=Vo(e,t);if(n>=0)return e[n|1]}function Vo(e,t){return II(e,t,1)}function II(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var hr={},Ke=[],fr=new b(""),Kv=new b("",-1),Qv=new b(""),rl=class{get(t,n=No){if(n===No){let i=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw i.name="NullInjectorError",i}return n}},Yv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Yv||{}),Bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bt||{}),Fn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Fn||{});function TI(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Zd(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];MI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function SI(e){return e===3||e===4||e===6}function MI(e){return e.charCodeAt(0)===64}function Ao(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?cv(e,n,r,null,t[++i]):cv(e,n,r,null,null))}}return e}function cv(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var Jv="ng-template";function NI(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&TI(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(qh(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function qh(e){return e.type===4&&e.value!==Jv}function AI(e,t,n){let i=e.type===4&&!n?Jv:e.value;return t===i}function OI(e,t,n){let i=4,r=e.attrs,o=r!==null?kI(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Et(i)&&!Et(l))return!1;if(s&&Et(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!AI(e,l,n)||l===""&&t.length===1){if(Et(i))return!1;s=!0}}else if(i&8){if(r===null||!NI(e,r,l,n)){if(Et(i))return!1;s=!0}}else{let c=t[++a],u=RI(l,r,qh(e),n);if(u===-1){if(Et(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Et(i))return!1;s=!0}}}}return Et(i)||s}function Et(e){return(e&1)===0}function RI(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return FI(t,e)}function Xv(e,t,n=!1){for(let i=0;i<t.length;i++)if(OI(e,t[i],n))return!0;return!1}function xI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function kI(e){for(let t=0;t<e.length;t++){let n=e[t];if(SI(n))return t}return e.length}function FI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function PI(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function uv(e,t){return e?":not("+t.trim()+")":t}function LI(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Et(s)&&(t+=uv(o,r),r=""),i=s,o=o||!Et(i);n++}return r!==""&&(t+=uv(o,r)),t}function VI(e){return e.map(LI).join(",")}function BI(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!Et(r))break;r=o}i++}return{attrs:t,classes:n}}function cn(e){return Po(()=>{let t=ry(e),n=F(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bt.Emulated,styles:e.styles||Ke,_:null,schemas:e.schemas||null,tView:null,id:""});oy(n);let i=e.dependencies;return n.directiveDefs=hv(i,!1),n.pipeDefs=hv(i,!0),n.id=$I(n),n})}function jI(e){return tn(e)||ey(e)}function UI(e){return e!==null}function z(e){return Po(()=>({type:e.type,bootstrap:e.bootstrap||Ke,declarations:e.declarations||Ke,imports:e.imports||Ke,exports:e.exports||Ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dv(e,t){if(e==null)return hr;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Fn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Fn.None?[i,a]:i,t[o]=s):n[o]=i}return n}function pt(e){return Po(()=>{let t=ry(e);return oy(t),t})}function tn(e){return e[sI]||null}function ey(e){return e[aI]||null}function ty(e){return e[lI]||null}function ny(e){let t=tn(e)||ey(e)||ty(e);return t!==null?t.standalone:!1}function iy(e,t){let n=e[cI]||null;if(!n&&t===!0)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return n}function ry(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||hr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dv(e.inputs,t),outputs:dv(e.outputs),debugInfo:null}}function oy(e){e.features?.forEach(t=>t(e))}function hv(e,t){if(!e)return null;let n=t?ty:jI;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(UI)}function $I(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Nl(e){return{\u0275providers:e}}function HI(...e){return{\u0275providers:sy(!0,e),\u0275fromNgModule:!0}}function sy(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return zh(t,s=>{let a=s;Kd(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&ay(r,o),n}function ay(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Zh(r,o=>{t(o,i)})}}function Kd(e,t,n,i){if(e=Ve(e),!e)return!1;let r=null,o=ov(e),s=!o&&tn(e);if(!o&&!s){let l=e.ngModule;if(o=ov(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Kd(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{zh(o.imports,u=>{Kd(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&ay(c,t)}if(!a){let c=dr(r)||(()=>new r);t({provide:r,useFactory:c,deps:Ke},r),t({provide:Qv,useValue:r,multi:!0},r),t({provide:fr,useValue:()=>v(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Zh(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Zh(e,t){for(let n of e)Gv(n)&&(n=n.\u0275providers),Array.isArray(n)?Zh(n,t):t(n)}var GI=ie({provide:String,useValue:ie});function ly(e){return e!==null&&typeof e=="object"&&GI in e}function zI(e){return!!(e&&e.useExisting)}function WI(e){return!!(e&&e.useFactory)}function pr(e){return typeof e=="function"}function qI(e){return!!e.useClass}var Al=new b(""),Qa={},ZI={},Rd;function Ol(){return Rd===void 0&&(Rd=new rl),Rd}var Te=class{},Oo=class extends Te{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yd(t,s=>this.processProvider(s)),this.records.set(Kv,or(void 0,this)),r.has("environment")&&this.records.set(Te,or(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qv,Ke,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=K(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Rn(this),i=ut(void 0),r;try{return t()}finally{Rn(n),ut(i)}}get(t,n=No,i=j.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(av))return t[av](this);i=Ml(i);let r,o=Rn(this),s=ut(void 0);try{if(!(i&j.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=XI(t)&&Sl(t);c&&this.injectableDefInScope(c)?l=or(Qd(t),Qa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&j.Self?Ol():this.parent;return n=i&j.Optional&&n===No?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[nl]=a[nl]||[]).unshift(Be(t)),o)throw a;return yI(a,t,"R3InjectorError",this.source)}else throw a}finally{ut(s),Rn(o)}}resolveInjectorInitializers(){let t=K(null),n=Rn(this),i=ut(void 0),r;try{let o=this.get(fr,Ke,j.Self);for(let s of o)s()}finally{Rn(n),ut(i),K(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Be(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){t=Ve(t);let n=pr(t)?t:Ve(t&&t.provide),i=QI(t);if(!pr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=or(void 0,Qa,!0),r.factory=()=>qd(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=K(null);try{return n.value===Qa&&(n.value=ZI,n.value=n.factory()),typeof n.value=="object"&&n.value&&JI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ve(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qd(e){let t=Sl(e),n=t!==null?t.factory:dr(e);if(n!==null)return n;if(e instanceof b)throw new T(204,!1);if(e instanceof Function)return KI(e);throw new T(204,!1)}function KI(e){if(e.length>0)throw new T(204,!1);let n=rI(e);return n!==null?()=>n.factory(e):()=>new e}function QI(e){if(ly(e))return or(void 0,e.useValue);{let t=cy(e);return or(t,Qa)}}function cy(e,t,n){let i;if(pr(e)){let r=Ve(e);return dr(r)||Qd(r)}else if(ly(e))i=()=>Ve(e.useValue);else if(WI(e))i=()=>e.useFactory(...qd(e.deps||[]));else if(zI(e))i=()=>v(Ve(e.useExisting));else{let r=Ve(e&&(e.useClass||e.provide));if(YI(e))i=()=>new r(...qd(e.deps));else return dr(r)||Qd(r)}return i}function or(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function YI(e){return!!e.deps}function JI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function XI(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function Yd(e,t){for(let n of e)Array.isArray(n)?Yd(n,t):n&&Gv(n)?Yd(n.\u0275providers,t):t(n)}function gt(e,t){e instanceof Oo&&e.assertNotDestroyed();let n,i=Rn(e),r=ut(void 0);try{return t()}finally{Rn(i),ut(r)}}function uy(){return zv()!==void 0||mI()!=null}function eT(e){if(!uy())throw new T(-203,!1)}function tT(e){let t=ln.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function nT(e){return typeof e=="function"}var un=0,V=1,R=2,xe=3,Tt=4,Qe=5,Ro=6,ol=7,St=8,gr=9,nn=10,pe=11,xo=12,fv=13,Cr=14,ht=15,di=16,sr=17,rn=18,Rl=19,dy=20,xn=21,xd=22,dt=23,ft=25,hy=1;var hi=7,sl=8,mr=9,Je=10,al=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(al||{});function kn(e){return Array.isArray(e)&&typeof e[hy]=="object"}function dn(e){return Array.isArray(e)&&e[hy]===!0}function Kh(e){return(e.flags&4)!==0}function xl(e){return e.componentOffset>-1}function kl(e){return(e.flags&1)===1}function Pn(e){return!!e.template}function Jd(e){return(e[R]&512)!==0}var Xd=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function fy(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function Di(){return py}function py(e){return e.type.prototype.ngOnChanges&&(e.setInput=rT),iT}Di.ngInherit=!0;function iT(){let e=my(this),t=e?.current;if(t){let n=e.previous;if(n===hr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function rT(e,t,n,i,r){let o=this.declaredInputs[i],s=my(e)||oT(e,{previous:hr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Xd(c&&c.currentValue,n,l===hr),fy(e,t,r,n)}var gy="__ngSimpleChanges__";function my(e){return e[gy]||null}function oT(e,t){return e[gy]=t}var pv=null;var Lt=function(e,t,n){pv?.(e,t,n)},_y="svg",sT="math";function jt(e){for(;Array.isArray(e);)e=e[un];return e}function vy(e,t){return jt(t[e])}function mt(e,t){return jt(t[e.index])}function yy(e,t){return e.data[t]}function aT(e,t){return e[t]}function jn(e,t){let n=t[e];return kn(n)?n:n[un]}function lT(e){return(e[R]&4)===4}function Qh(e){return(e[R]&128)===128}function cT(e){return dn(e[xe])}function _r(e,t){return t==null?null:e[t]}function Dy(e){e[sr]=0}function by(e){e[R]&1024||(e[R]|=1024,Qh(e)&&Pl(e))}function uT(e,t){for(;e>0;)t=t[Cr],e--;return t}function Fl(e){return!!(e[R]&9216||e[dt]?.dirty)}function eh(e){e[nn].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),Fl(e)&&Pl(e)}function Pl(e){e[nn].changeDetectionScheduler?.notify(0);let t=fi(e);for(;t!==null&&!(t[R]&8192||(t[R]|=8192,!Qh(t)));)t=fi(t)}function wy(e,t){if((e[R]&256)===256)throw new T(911,!1);e[xn]===null&&(e[xn]=[]),e[xn].push(t)}function dT(e,t){if(e[xn]===null)return;let n=e[xn].indexOf(t);n!==-1&&e[xn].splice(n,1)}function fi(e){let t=e[xe];return dn(t)?t[xe]:t}var B={lFrame:Ry(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Cy=!1;function hT(){return B.lFrame.elementDepthCount}function fT(){B.lFrame.elementDepthCount++}function pT(){B.lFrame.elementDepthCount--}function Ey(){return B.bindingsEnabled}function Iy(){return B.skipHydrationRootTNode!==null}function gT(e){return B.skipHydrationRootTNode===e}function mT(){B.skipHydrationRootTNode=null}function J(){return B.lFrame.lView}function Ce(){return B.lFrame.tView}function Er(e){return B.lFrame.contextLView=e,e[St]}function Ir(e){return B.lFrame.contextLView=null,e}function je(){let e=Ty();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ty(){return B.lFrame.currentTNode}function _T(){let e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function bi(e,t){let n=B.lFrame;n.currentTNode=e,n.isParent=t}function Yh(){return B.lFrame.isParent}function Jh(){B.lFrame.isParent=!1}function vT(){return B.lFrame.contextLView}function Sy(){return Cy}function gv(e){Cy=e}function yT(e){return B.lFrame.bindingIndex=e}function Ll(){return B.lFrame.bindingIndex++}function My(e){let t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function DT(){return B.lFrame.inI18n}function bT(e,t){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,th(t)}function wT(){return B.lFrame.currentDirectiveIndex}function th(e){B.lFrame.currentDirectiveIndex=e}function CT(e){let t=B.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Ny(){return B.lFrame.currentQueryIndex}function Xh(e){B.lFrame.currentQueryIndex=e}function ET(e){let t=e[V];return t.type===2?t.declTNode:t.type===1?e[Qe]:null}function Ay(e,t,n){if(n&j.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&j.Host);)if(r=ET(o),r===null||(o=o[Cr],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=B.lFrame=Oy();return i.currentTNode=t,i.lView=e,!0}function ef(e){let t=Oy(),n=e[V];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Oy(){let e=B.lFrame,t=e===null?null:e.child;return t===null?Ry(e):t}function Ry(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function xy(){let e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ky=xy;function tf(){let e=xy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function IT(e){return(B.lFrame.contextLView=uT(e,B.lFrame.contextLView))[St]}function wi(){return B.lFrame.selectedIndex}function pi(e){B.lFrame.selectedIndex=e}function nf(){let e=B.lFrame;return yy(e.tView,e.selectedIndex)}function Vl(){B.lFrame.currentNamespace=_y}function Fy(){TT()}function TT(){B.lFrame.currentNamespace=null}function ST(){return B.lFrame.currentNamespace}var Py=!0;function Bl(){return Py}function jl(e){Py=e}function MT(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=py(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ul(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ya(e,t,n){Ly(e,t,3,n)}function Ja(e,t,n,i){(e[R]&3)===n&&Ly(e,t,n,i)}function kd(e,t){let n=e[R];(n&3)===t&&(n&=16383,n+=1,e[R]=n)}function Ly(e,t,n,i){let r=i!==void 0?e[sr]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[sr]+=65536),(a<o||o==-1)&&(NT(e,n,t,l),e[sr]=(e[sr]&4294901760)+l+2),l++}function mv(e,t){Lt(4,e,t);let n=K(null);try{t.call(e)}finally{K(n),Lt(5,e,t)}}function NT(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[R]>>14<e[sr]>>16&&(e[R]&3)===t&&(e[R]+=16384,mv(a,o)):mv(a,o)}var ur=-1,gi=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function AT(e){return e instanceof gi}function OT(e){return(e.flags&8)!==0}function RT(e){return(e.flags&16)!==0}var Fd={},nh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Ml(i);let r=this.injector.get(t,Fd,i);return r!==Fd||n===Fd?r:this.parentInjector.get(t,n,i)}};function Vy(e){return e!==ur}function ll(e){return e&32767}function xT(e){return e>>16}function cl(e,t){let n=xT(e),i=t;for(;n>0;)i=i[Cr],n--;return i}var ih=!0;function _v(e){let t=ih;return ih=e,t}var kT=256,By=kT-1,jy=5,FT=0,Vt={};function PT(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(So)&&(i=n[So]),i==null&&(i=n[So]=FT++);let r=i&By,o=1<<r;t.data[e+(r>>jy)]|=o}function ul(e,t){let n=Uy(e,t);if(n!==-1)return n;let i=t[V];i.firstCreatePass&&(e.injectorIndex=t.length,Pd(i.data,e),Pd(t,null),Pd(i.blueprint,null));let r=rf(e,t),o=e.injectorIndex;if(Vy(r)){let s=ll(r),a=cl(r,t),l=a[V].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Pd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Uy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function rf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=Wy(r),i===null)return ur;if(n++,r=r[Cr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ur}function rh(e,t,n){PT(e,t,n)}function $y(e,t,n){if(n&j.Optional||e!==void 0)return e;Hh(t,"NodeInjector")}function Hy(e,t,n,i){if(n&j.Optional&&i===void 0&&(i=null),!(n&(j.Self|j.Host))){let r=e[gr],o=ut(void 0);try{return r?r.get(t,i,n&j.Optional):Wv(t,i,n&j.Optional)}finally{ut(o)}}return $y(i,t,n)}function Gy(e,t,n,i=j.Default,r){if(e!==null){if(t[R]&2048&&!(i&j.Self)){let s=jT(e,t,n,i,Vt);if(s!==Vt)return s}let o=zy(e,t,n,i,Vt);if(o!==Vt)return o}return Hy(t,n,i,r)}function zy(e,t,n,i,r){let o=VT(n);if(typeof o=="function"){if(!Ay(t,e,i))return i&j.Host?$y(r,n,i):Hy(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&j.Optional))Hh(n);else return s}finally{ky()}}else if(typeof o=="number"){let s=null,a=Uy(e,t),l=ur,c=i&j.Host?t[ht][Qe]:null;for((a===-1||i&j.SkipSelf)&&(l=a===-1?rf(e,t):t[a+8],l===ur||!yv(i,!1)?a=-1:(s=t[V],a=ll(l),t=cl(l,t)));a!==-1;){let u=t[V];if(vv(o,a,u.data)){let d=LT(a,t,n,s,i,c);if(d!==Vt)return d}l=t[a+8],l!==ur&&yv(i,t[V].data[a+8]===c)&&vv(o,a,t)?(s=u,a=ll(l),t=cl(l,t)):a=-1}}return r}function LT(e,t,n,i,r,o){let s=t[V],a=s.data[e+8],l=i==null?xl(a)&&ih:i!=s&&(a.type&3)!==0,c=r&j.Host&&o===a,u=Xa(a,s,n,l,c);return u!==null?mi(t,s,u,a):Vt}function Xa(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Pn(f)&&f.type===n)return l}return null}function mi(e,t,n,i){let r=e[n],o=t.data;if(AT(r)){let s=r;s.resolving&&dI(uI(o[n]));let a=_v(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ut(s.injectImpl):null,u=Ay(e,i,j.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&MT(n,o[n],t)}finally{c!==null&&ut(c),_v(a),s.resolving=!1,ky()}}return r}function VT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(So)?e[So]:void 0;return typeof t=="number"?t>=0?t&By:BT:t}function vv(e,t,n){let i=1<<e;return!!(n[t+(e>>jy)]&i)}function yv(e,t){return!(e&j.Self)&&!(e&j.Host&&t)}var ui=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Gy(this._tNode,this._lView,t,Ml(i),n)}};function BT(){return new ui(je(),J())}function Tr(e){return Po(()=>{let t=e.prototype.constructor,n=t[tl]||oh(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[tl]||oh(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function oh(e){return jv(e)?()=>{let t=oh(Ve(e));return t&&t()}:dr(e)}function jT(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[R]&2048&&!(s[R]&512);){let a=zy(o,s,n,i|j.Self,Vt);if(a!==Vt)return a;let l=o.parent;if(!l){let c=s[dy];if(c){let u=c.get(n,Vt,i);if(u!==Vt)return u}l=Wy(s),s=s[Cr]}o=l}return r}function Wy(e){let t=e[V],n=t.type;return n===2?t.declTNode:n===1?e[Qe]:null}function Dv(e,t=null,n=null,i){let r=qy(e,t,n,i);return r.resolveInjectorInitializers(),r}function qy(e,t=null,n=null,i,r=new Set){let o=[n||Ke,HI(e)];return i=i||(typeof e=="object"?void 0:Be(e)),new Oo(o,t||Ol(),i||null,r)}var Oe=class e{static{this.THROW_IF_NOT_FOUND=No}static{this.NULL=new rl}static create(t,n){if(Array.isArray(t))return Dv({name:""},n,t,"");{let i=t.name??"";return Dv({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=w({token:e,providedIn:"any",factory:()=>v(Kv)})}static{this.__NG_ELEMENT_ID__=-1}};var UT=new b("");UT.__NG_ELEMENT_ID__=e=>{let t=je();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&j.Optional)return null;throw new T(204,!1)};var $T="ngOriginalError";function Ld(e){return e[$T]}var Zy=!0,$l=(()=>{class e{static{this.__NG_ELEMENT_ID__=HT}static{this.__NG_ENV_ID__=n=>n}}return e})(),sh=class extends $l{constructor(t){super(),this._lView=t}onDestroy(t){return wy(this._lView,t),()=>dT(this._lView,t)}};function HT(){return new sh(J())}var Un=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})();var ah=class extends q{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,uy()&&(this.destroyRef=g($l,{optional:!0})??void 0,this.pendingTasks=g(Un,{optional:!0})??void 0)}emit(t){let n=K(null);try{super.next(t)}finally{K(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof he&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ce=ah;function dl(...e){}function Ky(e){let t,n;function i(){e=dl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function bv(e){return queueMicrotask(()=>e()),()=>{e=dl}}var of="isAngularZone",hl=of+"_ID",GT=0,U=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ce(!1),this.onMicrotaskEmpty=new ce(!1),this.onStable=new ce(!1),this.onError=new ce(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Zy}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,qT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(of)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,zT,dl,dl);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},zT={};function sf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function WT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Ky(()=>{e.callbackScheduled=!1,lh(e),e.isCheckStableRunning=!0,sf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),lh(e)}function qT(e){let t=()=>{WT(e)},n=GT++;e._inner=e._inner.fork({name:"angular",properties:{[of]:!0,[hl]:n,[hl+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(ZT(l))return i.invokeTask(o,s,a,l);try{return wv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Cv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return wv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!KT(l)&&t(),Cv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,lh(e),sf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function lh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function wv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cv(e){e._nesting--,sf(e)}var fl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ce,this.onMicrotaskEmpty=new ce,this.onStable=new ce,this.onError=new ce}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function ZT(e){return Qy(e,"__ignore_ng_zone__")}function KT(e){return Qy(e,"__scheduler_tick__")}function Qy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function QT(e="zone.js",t){return e==="noop"?new fl:e==="zone.js"?new U(t):e}var on=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ld(t);for(;n&&Ld(n);)n=Ld(n);return n||null}},YT=new b("",{providedIn:"root",factory:()=>{let e=g(U),t=g(on);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function JT(){return Sr(je(),J())}function Sr(e,t){return new Xe(mt(e,t))}var Xe=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=JT}}return e})();function XT(e){return e instanceof Xe?e.nativeElement:e}function eS(){return this._results[Symbol.iterator]()}var ch=class e{get changes(){return this._changes??=new ce}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=eS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=wI(t);(this._changesDetected=!bI(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Yy(e){return(e.flags&128)===128}var Jy=new Map,tS=0;function nS(){return tS++}function iS(e){Jy.set(e[Rl],e)}function uh(e){Jy.delete(e[Rl])}var Ev="__ngContext__";function Ln(e,t){kn(t)?(e[Ev]=t[Rl],iS(t)):e[Ev]=t}function Xy(e){return t0(e[xo])}function e0(e){return t0(e[Tt])}function t0(e){for(;e!==null&&!dn(e);)e=e[Tt];return e}var dh;function n0(e){dh=e}function rS(){if(dh!==void 0)return dh;if(typeof document<"u")return document;throw new T(210,!1)}var Hl=new b("",{providedIn:"root",factory:()=>oS}),oS="ng",af=new b(""),ke=new b("",{providedIn:"platform",factory:()=>"unknown"});var lf=new b("",{providedIn:"root",factory:()=>rS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sS="h",aS="b";var lS=()=>null;function cf(e,t,n=!1){return lS(e,t,n)}var i0=!1,cS=new b("",{providedIn:"root",factory:()=>i0});var hh=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eI})`}};function Gl(e){return e instanceof hh?e.changingThisBreaksApplicationSecurity:e}var uS=/^>|^->|<!--|-->|--!>|<!-$/g,dS=/(<|>)/g,hS="\u200B$1\u200B";function fS(e){return e.replace(uS,t=>t.replace(dS,hS))}function r0(e){return e instanceof Function?e():e}function pS(e){return(e??g(Oe)).get(ke)==="browser"}var sn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sn||{}),gS;function uf(e,t){return gS(e,t)}function ar(e,t,n,i,r){if(i!=null){let o,s=!1;dn(i)?o=i:kn(i)&&(s=!0,i=i[un]);let a=jt(i);e===0&&n!==null?r==null?u0(t,n,a):pl(t,n,a,r||null,!0):e===1&&n!==null?pl(t,n,a,r||null,!0):e===2?NS(t,a,s):e===3&&t.destroyNode(a),o!=null&&OS(t,e,o,n,r)}}function mS(e,t){return e.createText(t)}function _S(e,t,n){e.setValue(t,n)}function vS(e,t){return e.createComment(fS(t))}function o0(e,t,n){return e.createElement(t,n)}function yS(e,t){s0(e,t),t[un]=null,t[Qe]=null}function DS(e,t,n,i,r,o){i[un]=r,i[Qe]=t,Wl(e,i,n,1,r,o)}function s0(e,t){t[nn].changeDetectionScheduler?.notify(9),Wl(e,t,t[pe],2,null,null)}function bS(e){let t=e[xo];if(!t)return Vd(e[V],e);for(;t;){let n=null;if(kn(t))n=t[xo];else{let i=t[Je];i&&(n=i)}if(!n){for(;t&&!t[Tt]&&t!==e;)kn(t)&&Vd(t[V],t),t=t[xe];t===null&&(t=e),kn(t)&&Vd(t[V],t),n=t&&t[Tt]}t=n}}function wS(e,t,n,i){let r=Je+i,o=n.length;i>0&&(n[r-1][Tt]=t),i<o-Je?(t[Tt]=n[r],Zv(n,Je+i,t)):(n.push(t),t[Tt]=null),t[xe]=n;let s=t[di];s!==null&&n!==s&&a0(s,t);let a=t[rn];a!==null&&a.insertView(e),eh(t),t[R]|=128}function a0(e,t){let n=e[mr],i=t[xe];if(kn(i))e[R]|=al.HasTransplantedViews;else{let r=i[xe][ht];t[ht]!==r&&(e[R]|=al.HasTransplantedViews)}n===null?e[mr]=[t]:n.push(t)}function df(e,t){let n=e[mr],i=n.indexOf(t);n.splice(i,1)}function fh(e,t){if(e.length<=Je)return;let n=Je+t,i=e[n];if(i){let r=i[di];r!==null&&r!==e&&df(r,i),t>0&&(e[n-1][Tt]=i[Tt]);let o=il(e,Je+t);yS(i[V],i);let s=o[rn];s!==null&&s.detachView(o[V]),i[xe]=null,i[Tt]=null,i[R]&=-129}return i}function l0(e,t){if(!(t[R]&256)){let n=t[pe];n.destroyNode&&Wl(e,t,n,3,null,null),bS(t)}}function Vd(e,t){if(t[R]&256)return;let n=K(null);try{t[R]&=-129,t[R]|=256,t[dt]&&ld(t[dt]),ES(e,t),CS(e,t),t[V].type===1&&t[pe].destroy();let i=t[di];if(i!==null&&dn(t[xe])){i!==t[xe]&&df(i,t);let r=t[rn];r!==null&&r.detachView(e)}uh(t)}finally{K(n)}}function CS(e,t){let n=e.cleanup,i=t[ol];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[ol]=null);let r=t[xn];if(r!==null){t[xn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function ES(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof gi)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Lt(4,a,l);try{l.call(a)}finally{Lt(5,a,l)}}else{Lt(4,r,o);try{o.call(r)}finally{Lt(5,r,o)}}}}}function c0(e,t,n){return IS(e,t.parent,n)}function IS(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[un];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Bt.None||o===Bt.Emulated)return null}return mt(i,n)}}function pl(e,t,n,i,r){e.insertBefore(t,n,i,r)}function u0(e,t,n){e.appendChild(t,n)}function Iv(e,t,n,i,r){i!==null?pl(e,t,n,i,r):u0(e,t,n)}function d0(e,t){return e.parentNode(t)}function TS(e,t){return e.nextSibling(t)}function h0(e,t,n){return MS(e,t,n)}function SS(e,t,n){return e.type&40?mt(e,n):null}var MS=SS,Tv;function zl(e,t,n,i){let r=c0(e,i,t),o=t[pe],s=i.parent||t[Qe],a=h0(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Iv(o,r,n[l],a,!1);else Iv(o,r,n,a,!1);Tv!==void 0&&Tv(o,i,t,n,r)}function To(e,t){if(t!==null){let n=t.type;if(n&3)return mt(t,e);if(n&4)return ph(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return To(e,i);{let r=e[t.index];return dn(r)?ph(-1,r):jt(r)}}else{if(n&128)return To(e,t.next);if(n&32)return uf(t,e)()||jt(e[t.index]);{let i=f0(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=fi(e[ht]);return To(r,i)}else return To(e,t.next)}}}return null}function f0(e,t){if(t!==null){let i=e[ht][Qe],r=t.projection;return i.projection[r]}return null}function ph(e,t){let n=Je+e+1;if(n<t.length){let i=t[n],r=i[V].firstChild;if(r!==null)return To(i,r)}return t[hi]}function NS(e,t,n){e.removeChild(null,t,n)}function hf(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Ln(jt(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)hf(e,t,n.child,i,r,o,!1),ar(t,e,r,a,o);else if(l&32){let c=uf(n,i),u;for(;u=c();)ar(t,e,r,u,o);ar(t,e,r,a,o)}else l&16?p0(e,t,i,n,r,o):ar(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Wl(e,t,n,i,r,o){hf(n,i,e.firstChild,t,r,o,!1)}function AS(e,t,n){let i=t[pe],r=c0(e,n,t),o=n.parent||t[Qe],s=h0(o,n,t);p0(i,0,t,n,r,s)}function p0(e,t,n,i,r,o){let s=n[ht],l=s[Qe].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ar(t,e,r,u,o)}else{let c=l,u=s[xe];Yy(i)&&(c.flags|=128),hf(e,t,c,u,r,o,!0)}}function OS(e,t,n,i,r){let o=n[hi],s=jt(n);o!==s&&ar(t,e,i,o,r);for(let a=Je;a<n.length;a++){let l=n[a];Wl(l[V],l,e,t,i,o)}}function RS(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:sn.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=sn.Important),e.setStyle(n,i,r,o))}}function xS(e,t,n){e.setAttribute(t,"style",n)}function g0(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function m0(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Zd(e,t,i),r!==null&&g0(e,t,r),o!==null&&xS(e,t,o)}var $n={};function Mt(e=1){_0(Ce(),J(),wi()+e,!1)}function _0(e,t,n,i){if(!i)if((t[R]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ya(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Ja(t,o,0,n)}pi(n)}function oe(e,t=j.Default){let n=J();if(n===null)return v(e,t);let i=je();return Gy(i,n,Ve(e),t)}function v0(){let e="invalid";throw new Error(e)}function y0(e,t,n,i,r,o){let s=K(null);try{let a=null;r&Fn.SignalBased&&(a=t[i][Yt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Fn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):fy(t,a,i,o)}finally{K(s)}}function kS(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)pi(~r);else{let o=r,s=n[++i],a=n[++i];bT(s,o);let l=t[o];a(2,l)}}}finally{pi(-1)}}function ql(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[un]=r,d[R]=i|4|128|8|64,(c!==null||e&&e[R]&2048)&&(d[R]|=2048),Dy(d),d[xe]=d[Cr]=e,d[St]=n,d[nn]=s||e&&e[nn],d[pe]=a||e&&e[pe],d[gr]=l||e&&e[gr]||null,d[Qe]=o,d[Rl]=nS(),d[Ro]=u,d[dy]=c,d[ht]=t.type==2?e[ht]:d,d}function Mr(e,t,n,i,r){let o=e.data[t];if(o===null)o=FS(e,t,n,i,r),DT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=_T();o.injectorIndex=s===null?-1:s.injectorIndex}return bi(o,!0),o}function FS(e,t,n,i,r){let o=Ty(),s=Yh(),a=s?o:o&&o.parent,l=e.data[t]=US(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function D0(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function b0(e,t,n,i,r){let o=wi(),s=i&2;try{pi(-1),s&&t.length>ft&&_0(e,t,ft,!1),Lt(s?2:0,r),n(i,r)}finally{pi(o),Lt(s?3:1,r)}}function ff(e,t,n){if(Kh(t)){let i=K(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{K(i)}}}function pf(e,t,n){Ey()&&(qS(e,t,n,mt(n,t)),(n.flags&64)===64&&I0(e,t,n))}function gf(e,t,n=mt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function w0(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=mf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function mf(e,t,n,i,r,o,s,a,l,c,u){let d=ft+i,h=d+r,f=PS(d,h),p=typeof c=="function"?c():c;return f[V]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function PS(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:$n);return n}function LS(e,t,n,i){let o=i.get(cS,i0)||n===Bt.ShadowDom,s=e.selectRootElement(t,o);return VS(s),s}function VS(e){BS(e)}var BS=()=>null;function jS(e,t,n,i){let r=M0(t);r.push(n),e.firstCreatePass&&N0(e).push(i,r.length-1)}function US(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Iy()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Sv(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Fn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?Mv(i,n,c,a,l):Mv(i,n,c,a)}return i}function Mv(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function $S(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Sv(0,d.inputs,u,l,f),c=Sv(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!qh(t)?rM(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function HS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function C0(e,t,n,i,r,o,s,a){let l=mt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(vf(e,n,u,i,r),xl(t)&&GS(n,t.index)):t.type&3?(i=HS(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function GS(e,t){let n=jn(t,e);n[R]&16||(n[R]|=64)}function _f(e,t,n,i){if(Ey()){let r=i===null?null:{"":-1},o=KS(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&E0(e,t,n,s,r,a),r&&QS(n,i,r)}n.mergedAttrs=Ao(n.mergedAttrs,n.attrs)}function E0(e,t,n,i,r,o){for(let c=0;c<i.length;c++)rh(ul(n,t),e,i[c].type);JS(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=D0(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ao(n.mergedAttrs,u.hostAttrs),XS(e,n,t,l,u),YS(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}$S(e,n,o)}function zS(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;WS(s)!=a&&s.push(a),s.push(n,i,o)}}function WS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function qS(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;xl(n)&&eM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ul(n,t),Ln(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=mi(t,e,a,n);if(Ln(c,t),s!==null&&iM(t,a-r,c,l,n,s),Pn(l)){let u=jn(n.index,t);u[St]=mi(t,e,a,n)}}}function I0(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=wT();try{pi(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];th(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ZS(l,c)}}finally{pi(-1),th(s)}}function ZS(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function KS(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Xv(t,s.selectors,!1))if(i||(i=[]),Pn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;gh(e,t,l)}else i.unshift(s),gh(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function gh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function QS(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new T(-301,!1);i.push(t[r],o)}}}function YS(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Pn(t)&&(n[""]=e)}}function JS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function XS(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=dr(r.type,!0)),s=new gi(o,Pn(r),oe);e.blueprint[i]=s,n[i]=s,zS(e,t,i,D0(e,n,r.hostVars,$n),r)}function eM(e,t,n){let i=mt(t,e),r=w0(n),o=e[nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Zl(e,ql(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function tM(e,t,n,i,r,o){let s=mt(e,t);nM(t[pe],s,o,e.value,n,i,r)}function nM(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?$h(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function iM(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];y0(i,n,l,c,u,d)}}function rM(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function T0(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function S0(e,t){let n=e.contentQueries;if(n!==null){let i=K(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Xh(o),a.contentQueries(2,t[s],s)}}}finally{K(i)}}}function Zl(e,t){return e[xo]?e[fv][Tt]=t:e[xo]=t,e[fv]=t,t}function mh(e,t,n){Xh(0);let i=K(null);try{t(e,n)}finally{K(i)}}function M0(e){return e[ol]??=[]}function N0(e){return e.cleanup??=[]}function A0(e,t){let n=e[gr],i=n?n.get(on,null):null;i&&i.handleError(t)}function vf(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];y0(u,c,i,a,l,r)}}function oM(e,t,n){let i=vy(t,e);_S(e[pe],i,n)}function sM(e,t){let n=jn(t,e),i=n[V];aM(i,n);let r=n[un];r!==null&&n[Ro]===null&&(n[Ro]=cf(r,n[gr])),yf(i,n,n[St])}function aM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function yf(e,t,n){ef(t);try{let i=e.viewQuery;i!==null&&mh(1,i,n);let r=e.template;r!==null&&b0(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[rn]?.finishViewCreation(e),e.staticContentQueries&&S0(e,t),e.staticViewQueries&&mh(2,e.viewQuery,n);let o=e.components;o!==null&&lM(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[R]&=-5,tf()}}function lM(e,t){for(let n=0;n<t.length;n++)sM(e,t[n])}function O0(e,t,n,i){let r=K(null);try{let o=t.tView,a=e[R]&4096?4096:16,l=ql(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[di]=c;let u=e[rn];return u!==null&&(l[rn]=u.createEmbeddedView(o)),yf(o,l,n),l}finally{K(r)}}function _h(e,t){return!t||t.firstChild===null||Yy(e)}function R0(e,t,n,i=!0){let r=t[V];if(wS(r,t,e,n),i){let s=ph(n,e),a=t[pe],l=d0(a,e[hi]);l!==null&&DS(r,e[Qe],a,t,l,s)}let o=t[Ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gl(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(jt(o)),dn(o)&&cM(o,i);let s=n.type;if(s&8)gl(e,t,n.child,i);else if(s&32){let a=uf(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=f0(t,n);if(Array.isArray(a))i.push(...a);else{let l=fi(t[ht]);gl(l[V],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function cM(e,t){for(let n=Je;n<e.length;n++){let i=e[n],r=i[V].firstChild;r!==null&&gl(i[V],i,r,t)}e[hi]!==e[un]&&t.push(e[hi])}var x0=[];function uM(e){return e[dt]??dM(e)}function dM(e){let t=x0.pop()??Object.create(fM);return t.lView=e,t}function hM(e){e.lView[dt]!==e&&(e.lView=null,x0.push(e))}var fM=F(y({},bo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Pl(e.lView)},consumerOnSignalRead(){this.lView[dt]=this}});function pM(e){let t=e[dt]??Object.create(gM);return t.lView=e,t}var gM=F(y({},bo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=fi(e.lView);for(;t&&!k0(t[V]);)t=fi(t);t&&by(t)},consumerOnSignalRead(){this.lView[dt]=this}});function k0(e){return e.type!==2}var mM=100;function F0(e,t=!0,n=0){let i=e[nn],r=i.rendererFactory,o=!1;o||r.begin?.();try{_M(e,n)}catch(s){throw t&&A0(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function _M(e,t){let n=Sy();try{gv(!0),vh(e,t);let i=0;for(;Fl(e);){if(i===mM)throw new T(103,!1);i++,vh(e,1)}}finally{gv(n)}}function vM(e,t,n,i){let r=t[R];if((r&256)===256)return;let o=!1,s=!1;!o&&t[nn].inlineEffectRunner?.flush(),ef(t);let a=!0,l=null,c=null;o||(k0(e)?(c=uM(t),l=pa(c)):C_()===null?(a=!1,c=pM(t),l=pa(c)):t[dt]&&(ld(t[dt]),t[dt]=null));try{Dy(t),yT(e.bindingStartIndex),n!==null&&b0(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ya(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Ja(t,f,0,null),kd(t,0)}if(s||yM(t),P0(t,0),e.contentQueries!==null&&S0(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ya(t,f)}else{let f=e.contentHooks;f!==null&&Ja(t,f,1),kd(t,1)}kS(e,t);let d=e.components;d!==null&&V0(t,d,0);let h=e.viewQuery;if(h!==null&&mh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ya(t,f)}else{let f=e.viewHooks;f!==null&&Ja(t,f,2),kd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[xd]){for(let f of t[xd])f();t[xd]=null}o||(t[R]&=-73)}catch(u){throw o||Pl(t),u}finally{c!==null&&(sd(c,l),a&&hM(c)),tf()}}function P0(e,t){for(let n=Xy(e);n!==null;n=e0(n))for(let i=Je;i<n.length;i++){let r=n[i];L0(r,t)}}function yM(e){for(let t=Xy(e);t!==null;t=e0(t)){if(!(t[R]&al.HasTransplantedViews))continue;let n=t[mr];for(let i=0;i<n.length;i++){let r=n[i];by(r)}}}function DM(e,t,n){let i=jn(t,e);L0(i,n)}function L0(e,t){Qh(e)&&vh(e,t)}function vh(e,t){let i=e[V],r=e[R],o=e[dt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&ad(o)),s||=!1,o&&(o.dirty=!1),e[R]&=-9217,s)vM(i,e,i.template,e[St]);else if(r&8192){P0(e,1);let a=i.components;a!==null&&V0(e,a,1)}}function V0(e,t,n){for(let i=0;i<t.length;i++)DM(e,t[i],n)}function Df(e,t){let n=Sy()?64:1088;for(e[nn].changeDetectionScheduler?.notify(t);e;){e[R]|=n;let i=fi(e);if(Jd(e)&&!i)return e;e=i}return null}var _i=class{get rootNodes(){let t=this._lView,n=t[V];return gl(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(t){this._lView[St]=t}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[xe];if(dn(t)){let n=t[sl],i=n?n.indexOf(this):-1;i>-1&&(fh(t,i),il(n,i))}this._attachedToViewContainer=!1}l0(this._lView[V],this._lView)}onDestroy(t){wy(this._lView,t)}markForCheck(){Df(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){eh(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,F0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Jd(this._lView),n=this._lView[di];n!==null&&!t&&df(n,this._lView),s0(this._lView[V],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=Jd(this._lView),i=this._lView[di];i!==null&&!n&&a0(i,this._lView),eh(this._lView)}},an=(()=>{class e{static{this.__NG_ELEMENT_ID__=CM}}return e})(),bM=an,wM=class extends bM{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=O0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new _i(r)}};function CM(){return Kl(je(),J())}function Kl(e,t){return e.type&4?new wM(t,e,Sr(e,t)):null}var l3=new RegExp(`^(\\d+)*(${aS}|${sS})*(.*)`);var EM=()=>null;function yh(e,t){return EM(e,t)}var vr=class{},bf=new b("",{providedIn:"root",factory:()=>!1});var B0=new b(""),j0=new b(""),Dh=class{},ml=class{};function IM(e){let t=Error(`No component factory found for ${Be(e)}.`);return t[TM]=e,t}var TM="ngComponent";var bh=class{resolveComponentFactory(t){throw IM(t)}},yr=class{static{this.NULL=new bh}},Dr=class{},Nr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>SM()}}return e})();function SM(){let e=J(),t=je(),n=jn(t.index,e);return(kn(n)?n:e)[pe]}var MM=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>null})}}return e})();function _l(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=Gd(r,a);else if(o==2){let l=a,c=t[++s];i=Gd(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var vl=class extends yr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=tn(t);return new vi(n,this.ngModule)}};function Nv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Fn.None;t?n.push({propName:s,templateName:i,isSignal:(a&Fn.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function NM(e){let t=e.toLowerCase();return t==="svg"?_y:t==="math"?sT:null}var vi=class extends ml{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=Nv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Nv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=VI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=K(null);try{r=r||this.ngModule;let s=r instanceof Te?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new nh(t,s):t,l=a.get(Dr,null);if(l===null)throw new T(407,!1);let c=a.get(MM,null),u=a.get(vr,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?LS(h,i,this.componentDef.encapsulation,a):o0(h,f,NM(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let D=null;p!==null&&(D=cf(p,a,!0));let I=mf(0,null,null,1,0,null,null,null,null,null,null),L=ql(null,I,null,m,null,null,d,h,a,null,D);ef(L);let E,te,de=null;try{let ye=this.componentDef,Kt,Xu=null;ye.findHostDirectiveDefs?(Kt=[],Xu=new Map,ye.findHostDirectiveDefs(ye,Kt,Xu),Kt.push(ye)):Kt=[ye];let _1=AM(L,p);de=OM(_1,p,ye,Kt,L,d,h),te=yy(I,ft),p&&kM(h,ye,p,i),n!==void 0&&FM(te,this.ngContentSelectors,n),E=xM(de,ye,Kt,Xu,L,[PM]),yf(I,L,null)}catch(ye){throw de!==null&&uh(de),uh(L),ye}finally{tf()}return new wh(this.componentType,E,Sr(te,L),L,te)}finally{K(o)}}},wh=class extends Dh{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _i(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;vf(o[V],o,r,t,n),this.previousInputValues.set(t,n);let s=jn(this._tNode.index,o);Df(s,1)}}get injector(){return new ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function AM(e,t){let n=e[V],i=ft;return e[i]=t,Mr(n,i,2,"#host",null)}function OM(e,t,n,i,r,o,s){let a=r[V];RM(i,e,t,s);let l=null;t!==null&&(l=cf(t,r[gr]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=ql(r,w0(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&gh(a,e,i.length-1),Zl(r,d),r[e.index]=d}function RM(e,t,n,i){for(let r of e)t.mergedAttrs=Ao(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(_l(t,t.mergedAttrs,!0),n!==null&&m0(i,n,t))}function xM(e,t,n,i,r,o){let s=je(),a=r[V],l=mt(s,r);E0(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=mi(r,a,d,s);Ln(h,r)}I0(a,r,s),l&&Ln(l,r);let c=mi(r,a,s.directiveStart+s.componentOffset,s);if(e[St]=r[St]=c,o!==null)for(let u of o)u(c,t);return ff(a,s,r),c}function kM(e,t,n,i){if(i)Zd(e,n,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=BI(t.selectors[0]);r&&Zd(e,n,r),o&&o.length>0&&g0(e,n,o.join(" "))}}function FM(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function PM(){let e=je();Ul(J()[V],e)}var hn=(()=>{class e{static{this.__NG_ELEMENT_ID__=LM}}return e})();function LM(){let e=je();return $0(e,J())}var VM=hn,U0=class extends VM{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Sr(this._hostTNode,this._hostLView)}get injector(){return new ui(this._hostTNode,this._hostLView)}get parentInjector(){let t=rf(this._hostTNode,this._hostLView);if(Vy(t)){let n=cl(t,this._hostLView),i=ll(t),r=n[V].data[i+8];return new ui(r,n)}else return new ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Av(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=yh(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,_h(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!nT(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new vi(tn(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Te,null);m&&(o=m)}let u=tn(l.componentType??{}),d=yh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,_h(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(cT(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[xe],c=new U0(l,l[Qe],l[xe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return R0(s,r,o,i),t.attachToViewContainerRef(),Zv(Bd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Av(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=fh(this._lContainer,n);i&&(il(Bd(this._lContainer),n),l0(i[V],i))}detach(t){let n=this._adjustIndex(t,-1),i=fh(this._lContainer,n);return i&&il(Bd(this._lContainer),n)!=null?new _i(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Av(e){return e[sl]}function Bd(e){return e[sl]||(e[sl]=[])}function $0(e,t){let n,i=t[e.index];return dn(i)?n=i:(n=T0(i,t,null,e),t[e.index]=n,Zl(t,n)),jM(n,t,e,i),new U0(n,e,t)}function BM(e,t){let n=e[pe],i=n.createComment(""),r=mt(t,e),o=d0(n,r);return pl(n,o,i,TS(n,r),!1),i}var jM=HM,UM=()=>!1;function $M(e,t,n){return UM(e,t,n)}function HM(e,t,n,i){if(e[hi])return;let r;n.type&8?r=jt(i):r=BM(t,n),e[hi]=r}var Ch=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Eh=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)wf(t,n).matches!==null&&this.queries[n].setDirty()}},Ih=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=YM(t):this.predicate=t}},Th=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Sh=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,GM(n,o)),this.matchTNodeWithReadOption(t,n,Xa(n,t,o,!1,!1))}else i===an?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Xa(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Xe||r===hn||r===an&&n.type&4)this.addMatch(n.index,-2);else{let o=Xa(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function GM(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function zM(e,t){return e.type&11?Sr(e,t):e.type&4?Kl(e,t):null}function WM(e,t,n,i){return n===-1?zM(t,e):n===-2?qM(e,t,i):mi(e,e[V],n,t)}function qM(e,t,n){if(n===Xe)return Sr(t,e);if(n===an)return Kl(t,e);if(n===hn)return $0(t,e)}function H0(e,t,n,i){let r=t[rn].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(WM(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function Mh(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=H0(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=Je;d<u.length;d++){let h=u[d];h[di]===h[xe]&&Mh(h[V],h,c,i)}if(u[mr]!==null){let d=u[mr];for(let h=0;h<d.length;h++){let f=d[h];Mh(f[V],f,c,i)}}}}}return i}function ZM(e,t){return e[rn].queries[t].queryList}function KM(e,t,n){let i=new ch((n&4)===4);return jS(e,t,i,i.destroy),(t[rn]??=new Eh).queries.push(new Ch(i))-1}function QM(e,t,n){let i=Ce();return i.firstCreatePass&&(JM(i,new Ih(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),KM(i,J(),t)}function YM(e){return e.split(",").map(t=>t.trim())}function JM(e,t,n){e.queries===null&&(e.queries=new Th),e.queries.track(new Sh(t,n))}function wf(e,t){return e.queries.getByIndex(t)}function XM(e,t){let n=e[V],i=wf(n,t);return i.crossesNgTemplate?Mh(n,e,t,[]):H0(n,e,i,t)}var Ov=new Set;function Ar(e){Ov.has(e)||(Ov.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eN(e){return typeof e=="function"&&e[Yt]!==void 0}function Ql(e,t){Ar("NgSignals");let n=k_(e),i=n[Yt];return t?.equal&&(i.equal=t.equal),n.set=r=>cd(i,r),n.update=r=>F_(i,r),n.asReadonly=tN.bind(n),n}function tN(){let e=this[Yt];if(e.readonlyFn===void 0){let t=()=>this();t[Yt]=e,e.readonlyFn=t}return e.readonlyFn}function G0(e){return eN(e)&&typeof e.set=="function"}function nN(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(sN))}return o}return yl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>aN(o));t.push(l)}),rN(),Promise.all(t).then(()=>{})}var yl=new Map,iN=new Set;function rN(){let e=yl;return yl=new Map,e}function oN(){return yl.size===0}function sN(e){return typeof e=="string"?e:e.text()}function aN(e){iN.delete(e)}function lN(e){return Object.getPrototypeOf(e.prototype).constructor}function Ci(e){let t=lN(e.type),n=!0,i=[e];for(;t;){let r;if(Pn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=Wa(e.inputs),s.inputTransforms=Wa(e.inputTransforms),s.declaredInputs=Wa(e.declaredInputs),s.outputs=Wa(e.outputs);let a=r.hostBindings;a&&fN(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&dN(e,l),c&&hN(e,c),cN(e,r),nI(e.outputs,r.outputs),Pn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ci&&(n=!1)}}t=Object.getPrototypeOf(t)}uN(i)}function cN(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function uN(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ao(r.hostAttrs,n=Ao(n,r.hostAttrs))}}function Wa(e){return e===hr?{}:e===Ke?[]:e}function dN(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function hN(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function fN(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}var Vn=class{},ko=class{};var Dl=class extends Vn{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vl(this);let o=iy(t);this._bootstrapComponents=r0(o.bootstrap),this._r3Injector=qy(t,n,[{provide:Vn,useValue:this},{provide:yr,useValue:this.componentFactoryResolver},...i],Be(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bl=class extends ko{constructor(t){super(),this.moduleType=t}create(t){return new Dl(this.moduleType,t,[])}};function pN(e,t,n){return new Dl(e,t,n,!1)}var Nh=class extends Vn{constructor(t){super(),this.componentFactoryResolver=new vl(this),this.instance=null;let n=new Oo([...t.providers,{provide:Vn,useValue:this},{provide:yr,useValue:this.componentFactoryResolver}],t.parent||Ol(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Yl(e,t,n=null){return new Nh({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function z0(e){return mN(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function gN(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function mN(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Or(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function _N(e){return(e.flags&32)===32}function vN(e,t,n,i,r,o,s,a,l){let c=t.consts,u=Mr(t,e,4,s||null,a||null);_f(t,n,u,_r(c,l)),Ul(t,u);let d=u.tView=mf(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function W0(e,t,n,i,r,o,s,a,l,c){let u=n+ft,d=t.firstCreatePass?vN(u,t,e,i,r,o,s,a,l):t.data[u];bi(d,!1);let h=yN(t,e,d,n);Bl()&&zl(t,e,h,d),Ln(h,e);let f=T0(h,e,h,d);return e[u]=f,Zl(e,f),$M(f,d,e),kl(d)&&pf(t,e,d),l!=null&&gf(e,d,c),d}function fn(e,t,n,i,r,o,s,a){let l=J(),c=Ce(),u=_r(c.consts,o);return W0(l,c,e,t,n,i,r,u,s,a),fn}var yN=DN;function DN(e,t,n,i){return jl(!0),t[pe].createComment("")}var lr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(lr||{}),q0=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Ah=class e{constructor(){this.ngZone=g(U),this.scheduler=g(vr),this.errorHandler=g(on,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[lr.EarlyRead,lr.Write,lr.MixedReadWrite,lr.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}},Oh=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Cf(e,t){!t?.injector&&eT(Cf);let n=t?.injector??g(Oe);return pS(n)?(Ar("NgAfterNextRender"),wN(e,n,t,!0)):CN}function bN(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function wN(e,t,n,i){let r=t.get(q0);r.impl??=t.get(Ah);let o=n?.phase??lr.MixedReadWrite,s=n?.manualCleanup!==!0?t.get($l):null,a=new Oh(r.impl,bN(e,o),i,s);return r.impl.register(a),a}var CN={destroy(){}};function Bo(e,t,n,i){let r=J(),o=Ll();if(Or(r,o,t)){let s=Ce(),a=nf();tM(a,r,e,t,n,i)}return Bo}function EN(e,t,n,i){return Or(e,Ll(),n)?t+$h(n)+i:$n}function qa(e,t){return e<<17|t<<2}function yi(e){return e>>17&32767}function IN(e){return(e&2)==2}function TN(e,t){return e&131071|t<<17}function Rh(e){return e|2}function br(e){return(e&131068)>>2}function jd(e,t){return e&-131069|t<<2}function SN(e){return(e&1)===1}function xh(e){return e|1}function MN(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=yi(s),l=br(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Vo(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=yi(e[a+1]);e[i+1]=qa(h,a),h!==0&&(e[h+1]=jd(e[h+1],i)),e[a+1]=TN(e[a+1],i)}else e[i+1]=qa(a,0),a!==0&&(e[a+1]=jd(e[a+1],i)),a=i;else e[i+1]=qa(l,0),a===0?a=i:e[l+1]=jd(e[l+1],i),l=i;c&&(e[i+1]=Rh(e[i+1])),Rv(e,u,i,!0),Rv(e,u,i,!1),NN(t,u,e,i,o),s=qa(a,l),o?t.classBindings=s:t.styleBindings=s}function NN(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Vo(o,t)>=0&&(n[i+1]=xh(n[i+1]))}function Rv(e,t,n,i){let r=e[n+1],o=t===null,s=i?yi(r):br(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];AN(l,t)&&(a=!0,e[s+1]=i?xh(c):Rh(c)),s=i?yi(c):br(c)}a&&(e[n+1]=i?Rh(r):xh(r))}function AN(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Vo(e,t)>=0:!1}var It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ON(e){return e.substring(It.key,It.keyEnd)}function RN(e){return xN(e),Z0(e,K0(e,0,It.textEnd))}function Z0(e,t){let n=It.textEnd;return n===t?-1:(t=It.keyEnd=kN(e,It.key=t,n),K0(e,t,n))}function xN(e){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=e.length}function K0(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function kN(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Nt(e,t,n){let i=J(),r=Ll();if(Or(i,r,t)){let o=Ce(),s=nf();C0(o,s,i,e,t,i[pe],n,!1)}return Nt}function kh(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";vf(e,n,o[s],s,i)}function Rr(e,t){return PN(e,t,null,!0),Rr}function Jl(e){LN(HN,FN,e,!0)}function FN(e,t){for(let n=RN(t);n>=0;n=Z0(t,n))Wh(e,ON(t),!0)}function PN(e,t,n,i){let r=J(),o=Ce(),s=My(2);if(o.firstUpdatePass&&Y0(o,e,s,i),t!==$n&&Or(r,s,t)){let a=o.data[wi()];J0(o,a,r,r[pe],e,r[s+1]=zN(t,n),i,s)}}function LN(e,t,n,i){let r=Ce(),o=My(2);r.firstUpdatePass&&Y0(r,null,o,i);let s=J();if(n!==$n&&Or(s,o,n)){let a=r.data[wi()];if(X0(a,i)&&!Q0(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Gd(l,n||"")),kh(r,a,s,n,i)}else GN(r,a,s,s[pe],s[o+1],s[o+1]=$N(e,t,n),i,o)}}function Q0(e,t){return t>=e.expandoStartIndex}function Y0(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[wi()],s=Q0(e,n);X0(o,i)&&t===null&&!s&&(t=!1),t=VN(r,o,t,i),MN(r,o,t,n,s,i)}}function VN(e,t,n,i){let r=CT(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Ud(null,e,t,n,i),n=Fo(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=Ud(r,e,t,n,i),o===null){let l=BN(e,t,i);l!==void 0&&Array.isArray(l)&&(l=Ud(null,e,t,l[1],i),l=Fo(l,t.attrs,i),jN(e,t,i,l))}else o=UN(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function BN(e,t,n){let i=n?t.classBindings:t.styleBindings;if(br(i)!==0)return e[yi(i)]}function jN(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[yi(r)]=i}function UN(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Fo(i,s,n)}return Fo(i,t.attrs,n)}function Ud(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Fo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Fo(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Wh(e,s,n?!0:t[++o]))}return e===void 0?null:e}function $N(e,t,n){if(n==null||n==="")return Ke;let i=[],r=Gl(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function HN(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&Wh(e,i,n)}function GN(e,t,n,i,r,o,s,a){r===$n&&(r=Ke);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&J0(e,t,n,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function J0(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=SN(c)?xv(l,t,n,r,br(c),s):void 0;if(!wl(u)){wl(o)||IN(c)&&(o=xv(l,null,n,r,a,s));let d=vy(wi(),n);RS(i,s,d,r,o)}}function xv(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===$n&&(h=d?Ke:void 0);let f=d?Od(h,i):u===i?h:void 0;if(c&&!wl(f)&&(f=Od(l,i)),wl(f)&&(a=f,s))return a;let p=e[r+1];r=s?yi(p):br(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Od(l,i))}return a}function wl(e){return e!==void 0}function zN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Be(Gl(e)))),e}function X0(e,t){return(e.flags&(t?8:16))!==0}function WN(e,t,n,i,r,o){let s=t.consts,a=_r(s,r),l=Mr(t,e,2,i,a);return _f(t,n,l,_r(s,o)),l.attrs!==null&&_l(l,l.attrs,!1),l.mergedAttrs!==null&&_l(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function ge(e,t,n,i){let r=J(),o=Ce(),s=ft+e,a=r[pe],l=o.firstCreatePass?WN(s,o,r,t,n,i):o.data[s],c=qN(o,r,l,a,t,e);r[s]=c;let u=kl(l);return bi(l,!0),m0(a,c,l),!_N(l)&&Bl()&&zl(o,r,c,l),hT()===0&&Ln(c,r),fT(),u&&(pf(o,r,l),ff(o,l,r)),i!==null&&gf(r,l),ge}function Fe(){let e=je();Yh()?Jh():(e=e.parent,bi(e,!1));let t=e;gT(t)&&mT(),pT();let n=Ce();return n.firstCreatePass&&(Ul(n,e),Kh(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&OT(t)&&kh(n,t,J(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&RT(t)&&kh(n,t,J(),t.stylesWithoutHost,!1),Fe}function Ut(e,t,n,i){return ge(e,t,n,i),Fe(),Ut}var qN=(e,t,n,i,r,o)=>(jl(!0),o0(i,r,ST()));function ZN(e,t,n,i,r){let o=t.consts,s=_r(o,i),a=Mr(t,e,8,"ng-container",s);s!==null&&_l(a,s,!0);let l=_r(o,r);return _f(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function jo(e,t,n){let i=J(),r=Ce(),o=e+ft,s=r.firstCreatePass?ZN(o,r,i,t,n):r.data[o];bi(s,!0);let a=KN(r,i,s,e);return i[o]=a,Bl()&&zl(r,i,a,s),Ln(a,i),kl(s)&&(pf(r,i,s),ff(r,s,i)),n!=null&&gf(i,s),jo}function Uo(){let e=je(),t=Ce();return Yh()?Jh():(e=e.parent,bi(e,!1)),t.firstCreatePass&&(Ul(t,e),Kh(e)&&t.queries.elementEnd(e)),Uo}var KN=(e,t,n,i)=>(jl(!0),vS(t[pe],""));function $o(){return J()}var Cl="en-US";var QN=Cl;function YN(e){typeof e=="string"&&(QN=e.toLowerCase().replace(/_/g,"-"))}var JN=(e,t,n)=>{};function pn(e,t,n,i){let r=J(),o=Ce(),s=je();return eD(o,r,r[pe],s,e,t,i),pn}function XN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[ol],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function eD(e,t,n,i,r,o,s){let a=kl(i),c=e.firstCreatePass&&N0(e),u=t[St],d=M0(t),h=!0;if(i.type&3||s){let m=mt(i,t),D=s?s(m):m,I=d.length,L=s?te=>s(jt(te[i.index])):i.index,E=null;if(!s&&a&&(E=XN(e,t,r,i.index)),E!==null){let te=E.__ngLastListenerFn__||E;te.__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1}else{o=Fv(i,t,u,o),JN(m,r,o);let te=n.listen(D,r,o);d.push(o,te),c&&c.push(r,L,I,I+1)}}else o=Fv(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let D=0;D<m;D+=2){let I=p[D],L=p[D+1],de=t[I][L].subscribe(o),ye=d.length;d.push(o,de),c&&c.push(r,i.index,ye,-(ye+1))}}}function kv(e,t,n,i){let r=K(null);try{return Lt(6,t,n),n(i)!==!1}catch(o){return A0(e,o),!1}finally{Lt(7,t,n),K(r)}}function Fv(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?jn(e.index,t):t;Df(s,5);let a=kv(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=kv(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Ue(e=1){return IT(e)}function eA(e,t){let n=null,i=xI(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?Xv(e,o,!0):PI(i,o))return r}return n}function tD(e){let t=J()[ht][Qe];if(!t.projection){let n=e?e.length:1,i=t.projection=CI(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?eA(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function nD(e,t=0,n,i,r,o){let s=J(),a=Ce(),l=i?e+1:null;l!==null&&W0(s,a,l,i,r,o,null,n);let c=Mr(a,ft+e,16,null,n||null);c.projection===null&&(c.projection=t),Jh();let d=!s[Ro]||Iy();s[ht][Qe].projection[c.projection]===null&&l!==null?tA(s,a,l):d&&(c.flags&32)!==32&&AS(a,s,c)}function tA(e,t,n){let i=ft+n,r=t.data[i],o=e[i],s=yh(o,r.tView.ssrId),a=O0(e,r,void 0,{dehydratedView:s});R0(o,a,0,_h(r,s))}function iD(e,t,n){QM(e,t,n)}function Ef(e){let t=J(),n=Ce(),i=Ny();Xh(i+1);let r=wf(n,i);if(e.dirty&&lT(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=XM(t,i);e.reset(o,XT),e.notifyOnChanges()}return!0}return!1}function If(){return ZM(J(),Ny())}function Xl(e){let t=vT();return aT(t,ft+e)}function Ho(e,t=""){let n=J(),i=Ce(),r=e+ft,o=i.firstCreatePass?Mr(i,r,1,t,null):i.data[r],s=nA(i,n,o,t,e);n[r]=s,Bl()&&zl(i,n,s,o),bi(o,!1)}var nA=(e,t,n,i,r)=>(jl(!0),mS(t[pe],i));function Go(e,t,n){let i=J(),r=EN(i,e,t,n);return r!==$n&&oM(i,wi(),r),Go}function ec(e,t,n){G0(t)&&(t=t());let i=J(),r=Ll();if(Or(i,r,t)){let o=Ce(),s=nf();C0(o,s,i,e,t,i[pe],n,!1)}return ec}function Tf(e,t){let n=G0(e);return n&&e.set(t),n}function tc(e,t){let n=J(),i=Ce(),r=je();return eD(i,n,n[pe],r,e,t),tc}function iA(e,t,n){let i=Ce();if(i.firstCreatePass){let r=Pn(e);Fh(n,i.data,i.blueprint,r,!0),Fh(t,i.data,i.blueprint,r,!1)}}function Fh(e,t,n,i,r){if(e=Ve(e),Array.isArray(e))for(let o=0;o<e.length;o++)Fh(e[o],t,n,i,r);else{let o=Ce(),s=J(),a=je(),l=pr(e)?e:Ve(e.provide),c=cy(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(pr(e)||!e.multi){let f=new gi(c,r,oe),p=Hd(l,t,r?u:u+h,d);p===-1?(rh(ul(a,s),o,l),$d(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Hd(l,t,u+h,d),p=Hd(l,t,u,u+h),m=f>=0&&n[f],D=p>=0&&n[p];if(r&&!D||!r&&!m){rh(ul(a,s),o,l);let I=sA(r?oA:rA,n.length,r,i,c);!r&&D&&(n[p].providerFactory=I),$d(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else{let I=rD(n[r?p:f],c,!r&&i);$d(o,e,f>-1?f:p,I)}!r&&i&&D&&n[p].componentProviders++}}}function $d(e,t,n,i){let r=pr(t),o=qI(t);if(r||o){let l=(o?Ve(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function rD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hd(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function rA(e,t,n,i){return Ph(this.multi,[])}function oA(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=mi(n,n[V],this.providerFactory.index,i);o=a.slice(0,s),Ph(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ph(r,o);return o}function Ph(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function sA(e,t,n,i,r){let o=new gi(e,n,oe);return o.multi=[],o.index=t,o.componentProviders=0,rD(o,r,i&&!n),o}function nc(e,t=[]){return n=>{n.providersResolver=(i,r)=>iA(i,r?r(e):e,t)}}var aA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=sy(!1,n.type),r=i.length>0?Yl([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(v(Te))})}}return e})();function zo(e){Ar("NgStandalone"),e.getStandaloneInjector=t=>t.get(aA).getOrCreateStandaloneInjector(e)}function ic(e,t){return Kl(e,t)}var Za=null;function lA(e){Za!==null&&(e.defaultEncapsulation!==Za.defaultEncapsulation||e.preserveWhitespaces!==Za.preserveWhitespaces)||(Za=e)}var Bn=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var rc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Sf=new b(""),Wo=new b(""),oc=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Mf||(cA(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(v(U),v(sc),v(Wo))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),sc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Mf?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function cA(e){Mf=e}var Mf;function Ei(e){return!!e&&typeof e.then=="function"}function oD(e){return!!e&&typeof e.subscribe=="function"}var ac=new b(""),sD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=g(ac,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(Ei(o))n.push(o);else if(oD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lc=new b("");function uA(){x_(()=>{throw new T(600,!1)})}function dA(e){return e.isBoundToModule}var hA=10;function fA(e,t,n){try{let i=n();return Ei(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function aD(e,t){return Array.isArray(t)?t.reduce(aD,e):y(y({},e),t)}var At=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(YT),this.afterRenderManager=g(q0),this.zonelessEnabled=g(bf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new q,this.afterTick=new q,this.componentTypes=[],this.components=[],this.isStable=g(Un).hasPendingTasks.pipe(S(n=>!n)),this._injector=g(Te)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof ml;if(!this._injector.get(sD).done){let h=!r&&ny(n),f=!1;throw new T(405,f)}let s;r?s=n:s=this._injector.get(yr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=dA(s)?void 0:this._injector.get(Vn),l=i||s.selector,c=s.create(Oe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Sf,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),el(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new T(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,K(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Dr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<hA;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)pA(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;el(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(lc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>el(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function el(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function pA(e,t,n,i){if(!n&&!Fl(e))return;F0(e,t,n&&!i?0:1)}var Lh=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},cc=(()=>{class e{compileModuleSync(n){return new bl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=iy(n),o=r0(r.declarations).reduce((s,a)=>{let l=tn(a);return l&&s.push(new vi(l)),s},[]);return new Lh(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gA=new b("");function mA(e,t,n){let i=new bl(n);return Promise.resolve(i)}function Pv(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var _A=(()=>{class e{constructor(){this.zone=g(U),this.changeDetectionScheduler=g(vr),this.applicationRef=g(At)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new U(F(y({},lD()),{scheduleInRootZone:n})),[{provide:U,useFactory:e},{provide:fr,multi:!0,useFactory:()=>{let i=g(_A,{optional:!0});return()=>i.initialize()}},{provide:fr,multi:!0,useFactory:()=>{let i=g(yA);return()=>{i.initialize()}}},t===!0?{provide:B0,useValue:!0}:[],{provide:j0,useValue:n??Zy}]}function lD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var yA=(()=>{class e{constructor(){this.subscription=new he,this.initialized=!1,this.zone=g(U),this.pendingTasks=g(Un)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{U.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var DA=(()=>{class e{constructor(){this.appRef=g(At),this.taskService=g(Un),this.ngZone=g(U),this.zonelessEnabled=g(bf),this.disableScheduling=g(B0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(j0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?bv:Ky;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bA(){return typeof $localize<"u"&&$localize.locale||Cl}var uc=new b("",{providedIn:"root",factory:()=>g(uc,j.Optional|j.SkipSelf)||bA()});var El=new b("");function Ka(e){return!e.moduleRef}function wA(e){let t=Ka(e)?e.r3Injector:e.moduleRef.injector,n=t.get(U);return n.run(()=>{Ka(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(on,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Ka(e)){let o=()=>t.destroy(),s=e.platformInjector.get(El);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(El);s.add(o),e.moduleRef.onDestroy(()=>{el(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return fA(i,n,()=>{let o=t.get(sD);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(uc,Cl);if(YN(s||Cl),Ka(e)){let a=t.get(At);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return CA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function CA(e,t){let n=e.injector.get(At);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}var cD=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>QT(i?.ngZone,F(y({},lD({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[vA({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:vr,useExisting:DA}],l=pN(n.moduleType,this.injector,a);return wA({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=aD({},i);return mA(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(El,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(v(Oe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Mo=null,uD=new b("");function EA(e){if(Mo&&!Mo.get(uD,!1))throw new T(400,!1);uA(),Mo=e;let t=e.get(cD);return SA(e),t}function Nf(e,t,n=[]){let i=`Platform: ${t}`,r=new b(i);return(o=[])=>{let s=dD();if(!s||s.injector.get(uD,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):EA(IA(a,i))}return TA(r)}}function IA(e=[],t){return Oe.create({name:t,providers:[{provide:Al,useValue:"platform"},{provide:El,useValue:new Set([()=>Mo=null])},...e]})}function TA(e){let t=dD();if(!t)throw new T(401,!1);return t}function dD(){return Mo?.get(cD)??null}function SA(e){e.get(af,null)?.forEach(n=>n())}function Af(){return!1}var gn=(()=>{class e{static{this.__NG_ELEMENT_ID__=MA}}return e})();function MA(e){return NA(je(),J(),(e&16)===16)}function NA(e,t,n){if(xl(e)&&!n){let i=jn(e.index,t);return new _i(i,i)}else if(e.type&175){let i=t[ht];return new _i(i,t)}return null}var Vh=class{constructor(){}supports(t){return z0(t)}create(t){return new Bh(t)}},AA=(e,t)=>t,Bh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||AA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<Lv(i,r,o)?n:i,a=Lv(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!z0(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,gN(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new jh(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},jh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Uh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Il=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new Uh,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Lv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function Vv(){return new Of([new Vh])}var Of=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:Vv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Vv()),deps:[[e,new Gh,new Lo]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new T(901,!1)}}return e})();var hD=Nf(null,"core",[]),fD=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(v(At))}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();function dc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function hc(e,t){Ar("NgSignals");let n=A_(e);return t?.equal&&(n[Yt].equal=t.equal),n}function Hn(e){let t=K(null);try{return e()}finally{K(t)}}function fc(e,t){let n=tn(e),i=t.elementInjector||Ol();return new vi(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function pD(e){let t=tn(e);if(!t)return null;let n=new vi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var DD=null;function $t(){return DD}function bD(e){DD??=e}var pc=class{};var ve=new b(""),Pf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(kA),providedIn:"platform"})}}return e})(),wD=new b(""),kA=(()=>{class e extends Pf{constructor(){super(),this._doc=g(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $t().getBaseHref(this._doc)}onPopState(n){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Lf(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function gD(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function mn(e){return e&&e[0]!=="?"?"?"+e:e}var Ii=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(Vf),providedIn:"root"})}}return e})(),CD=new b(""),Vf=(()=>{class e extends Ii{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lf(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+mn(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+mn(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+mn(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(v(Pf),v(CD,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ED=(()=>{class e extends Ii{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Lf(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+mn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+mn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(v(Pf),v(CD,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),kr=(()=>{class e{constructor(n){this._subject=new ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=LA(gD(mD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+mn(i))}normalize(n){return e.stripTrailingSlash(PA(this._basePath,mD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mn(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=mn}static{this.joinWithSlash=Lf}static{this.stripTrailingSlash=gD}static{this.\u0275fac=function(i){return new(i||e)(v(Ii))}}static{this.\u0275prov=w({token:e,factory:()=>FA(),providedIn:"root"})}}return e})();function FA(){return new kr(v(Ii))}function PA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function mD(e){return e.replace(/\/index.html$/,"")}function LA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function gc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Rf=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ID=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Rf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),_D(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);_D(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(oe(hn),oe(an),oe(Of))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function _D(e,t){e.context.$implicit=t.item}var TD=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new xf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(oe(hn),oe(an))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),xf=class{constructor(){this.$implicit=null,this.ngIf=null}};function vD(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Be(t)}'.`)}var SD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})(),Bf="browser",VA="server";function MD(e){return e===Bf}function Fr(e){return e===VA}var ND=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>MD(g(ke))?new kf(g(ve),window):new Ff})}}return e})(),kf=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=BA(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function BA(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var Ff=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},xr=class{};var Zo=class{},_c=class{},_n=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Uf=class{encodeKey(t){return OD(t)}encodeValue(t){return OD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function jA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var UA=/%(\d[a-f0-9])/gi,$A={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OD(e){return encodeURIComponent(e).replace(UA,(t,n)=>$A[n]??t)}function mc(e){return`${e}`}var zn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Uf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(mc):[mc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(mc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(mc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var $f=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function HA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function RD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function xD(e){return typeof Blob<"u"&&e instanceof Blob}function kD(e){return typeof FormData<"u"&&e instanceof FormData}function GA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var qo=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(HA(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new _n,this.context??=new $f,!this.params)this.params=new zn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||RD(this.body)||xD(this.body)||kD(this.body)||GA(this.body)?this.body:this.body instanceof zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||kD(this.body)?null:xD(this.body)?this.body.type||null:RD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new e(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Wn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Wn||{}),Ko=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new _n,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},vc=class e extends Ko{constructor(t={}){super(t),this.type=Wn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qo=class e extends Ko{constructor(t={}){super(t),this.type=Wn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Gn=class extends Ko{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},VD=200,zA=204;function jf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var zf=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof qo)o=n;else{let l;r.headers instanceof _n?l=r.headers:l=new _n(r.headers);let c;r.params&&(r.params instanceof zn?c=r.params:c=new zn({fromObject:r.params})),o=new qo(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(en(l=>this.handler.handle(l)));if(n instanceof qo||r.observe==="events")return s;let a=s.pipe(me(l=>l instanceof Qo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(S(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(S(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(S(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new zn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,jf(r,i))}post(n,i,r={}){return this.request("POST",n,jf(r,i))}put(n,i,r={}){return this.request("PUT",n,jf(r,i))}static{this.\u0275fac=function(i){return new(i||e)(v(Zo))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),WA=/^\)\]\}',?\n/,qA="X-Request-URL";function FD(e){if(e.url)return e.url;let t=qA.toLocaleLowerCase();return e.headers.get(t)}var ZA=(()=>{class e{constructor(){this.fetchImpl=g(Hf,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=g(U)}handle(n){return new A(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(Gf,o=>i.error(new Gn({error:o}))),()=>r.abort()})}doRequest(n,i,r){return ze(this,null,function*(){let o=this.createRequestInit(n),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,y({signal:i},o)));KA(f),r.next({type:Wn.Sent}),s=yield f}catch(f){r.error(new Gn({error:f,status:f.status??0,statusText:f.statusText,url:n.urlWithParams,headers:f.headers}));return}let a=new _n(s.headers),l=s.statusText,c=FD(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&r.next(new vc({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),D=0,I,L,E=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ze(this,null,function*(){for(;;){let{done:de,value:ye}=yield m.read();if(de)break;if(p.push(ye),D+=ye.length,n.reportProgress){L=n.responseType==="text"?(L??"")+(I??=new TextDecoder).decode(ye,{stream:!0}):void 0;let Kt=()=>r.next({type:Wn.DownloadProgress,total:f?+f:void 0,loaded:D,partialText:L});E?E.run(Kt):Kt()}}}));let te=this.concatChunks(p,D);try{let de=s.headers.get("Content-Type")??"";d=this.parseBody(n,te,de)}catch(de){r.error(new Gn({error:de,headers:new _n(s.headers),status:s.status,statusText:s.statusText,url:FD(s)??n.urlWithParams}));return}}u===0&&(u=d?VD:0),u>=200&&u<300?(r.next(new Qo({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Gn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(n,i,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(i).replace(WA,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>i[o]=s.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),o=0;for(let s of n)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Hf=class{};function Gf(){}function KA(e){e.then(Gf,Gf)}function QA(e,t){return t(e)}function YA(e,t,n){return(i,r)=>gt(n,()=>t(i,o=>e(o,r)))}var BD=new b(""),JA=new b(""),XA=new b("",{providedIn:"root",factory:()=>!0});var PD=(()=>{class e extends Zo{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=g(Un),this.contributeToStability=g(XA)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(BD),...this.injector.get(JA,[])]));this.chain=i.reduceRight((r,o)=>YA(r,o,this.injector),QA)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(On(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(v(_c),v(Te))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();var eO=/^\)\]\}',?\n/;function tO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var LD=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new T(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?X(i.\u0275loadImpl()):C(null)).pipe(ne(()=>new A(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((m,D)=>s.setRequestHeader(m,D.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",D=new _n(s.getAllResponseHeaders()),I=tO(s)||n.url;return l=new vc({headers:D,status:s.status,statusText:m,url:I}),l},u=()=>{let{headers:m,status:D,statusText:I,url:L}=c(),E=null;D!==zA&&(E=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=E?VD:0);let te=D>=200&&D<300;if(n.responseType==="json"&&typeof E=="string"){let de=E;E=E.replace(eO,"");try{E=E!==""?JSON.parse(E):null}catch(ye){E=de,te&&(te=!1,E={error:ye,text:E})}}te?(o.next(new Qo({body:E,headers:m,status:D,statusText:I,url:L||void 0})),o.complete()):o.error(new Gn({error:E,headers:m,status:D,statusText:I,url:L||void 0}))},d=m=>{let{url:D}=c(),I=new Gn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(I)},h=!1,f=m=>{h||(o.next(c()),h=!0);let D={type:Wn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),n.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},p=m=>{let D={type:Wn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Wn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(v(xr))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),jD=new b(""),nO="XSRF-TOKEN",iO=new b("",{providedIn:"root",factory:()=>nO}),rO="X-XSRF-TOKEN",oO=new b("",{providedIn:"root",factory:()=>rO}),yc=class{},sO=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=gc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(v(ve),v(ke),v(iO))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function aO(e,t){let n=e.url.toLowerCase();if(!g(jD)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=g(yc).getToken(),r=g(oO);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function UD(...e){let t=[zf,LD,PD,{provide:Zo,useExisting:PD},{provide:_c,useFactory:()=>g(ZA,{optional:!0})??g(LD)},{provide:BD,useValue:aO,multi:!0},{provide:jD,useValue:!0},{provide:yc,useClass:sO}];for(let n of e)t.push(...n.\u0275providers);return Nl(t)}var Zf=class extends pc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kf=class e extends Zf{static makeCurrent(){bD(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=cO();return n==null?null:uO(n)}resetBaseElement(){Yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gc(document.cookie,t)}},Yo=null;function cO(){return Yo=Yo||document.querySelector("base"),Yo?Yo.getAttribute("href"):null}function uO(e){return new URL(e,document.baseURI).pathname}var Qf=class{addToWindow(t){ln.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new T(5103,!1);return o},ln.getAllAngularTestabilities=()=>t.getAllTestabilities(),ln.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=ln.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};ln.frameworkStabilizers||(ln.frameworkStabilizers=[]),ln.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?$t().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},dO=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Yf=new b(""),zD=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(v(Yf),v(U))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Dc=class{constructor(t){this._doc=t}},Wf="ng-app-id",WD=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fr(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Wf}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(Wf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(Wf,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(v(ve),v(Hl),v(lf,8),v(ke))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xf=/%COMP%/g,qD="%COMP%",hO=`_nghost-${qD}`,fO=`_ngcontent-${qD}`,pO=!0,gO=new b("",{providedIn:"root",factory:()=>pO});function mO(e){return fO.replace(Xf,e)}function _O(e){return hO.replace(Xf,e)}function ZD(e,t){return t.map(n=>n.replace(Xf,e))}var $D=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Fr(a),this.defaultRenderer=new Jo(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bt.ShadowDom&&(i=F(y({},i),{encapsulation:Bt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof bc?r.applyToHost(n):r instanceof Xo&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Bt.Emulated:o=new bc(l,c,i,this.appId,u,s,a,d);break;case Bt.ShadowDom:return new Jf(l,c,n,i,s,a,this.nonce,d);default:o=new Xo(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(v(zD),v(WD),v(Hl),v(gO),v(ve),v(ke),v(U),v(lf))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Jo=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(qf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(HD(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(HD(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new T(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=qf[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=qf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(sn.DashCase|sn.Important)?t.style.setProperty(n,i,r&sn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=$t().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function HD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Jf=class extends Jo{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ZD(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Jo{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?ZD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bc=class extends Xo{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=mO(c),this.hostAttr=_O(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},vO=(()=>{class e extends Dc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(v(ve))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),GD=["alt","control","meta","shift"],yO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},bO=(()=>{class e extends Dc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$t().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),GD.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=yO[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),GD.forEach(s=>{if(s!==r){let a=DO[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(v(ve))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function wO(){Kf.makeCurrent()}function CO(){return new on}function EO(){return n0(document),document}var IO=[{provide:ke,useValue:Bf},{provide:af,useValue:wO,multi:!0},{provide:ve,useFactory:EO,deps:[]}],KD=Nf(hD,"browser",IO),TO=new b(""),SO=[{provide:Wo,useClass:Qf,deps:[]},{provide:Sf,useClass:oc,deps:[U,sc,Wo]},{provide:oc,useClass:oc,deps:[U,sc,Wo]}],MO=[{provide:Al,useValue:"root"},{provide:on,useFactory:CO,deps:[]},{provide:Yf,useClass:vO,multi:!0,deps:[ve,U,ke]},{provide:Yf,useClass:bO,multi:!0,deps:[ve]},$D,WD,zD,{provide:Dr,useExisting:$D},{provide:xr,useClass:dO,deps:[]},[]],QD=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Hl,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(v(TO,12))}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({providers:[...MO,...SO],imports:[SD,fD]})}}return e})();var YD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(v(ve))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var P="primary",ps=Symbol("RouteTitle"),rp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ur(e){return new rp(e)}function AO(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function OO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ht(e[n],t[n]))return!1;return!0}function Ht(e,t){let n=e?op(e):void 0,i=t?op(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!cb(e[r],t[r]))return!1;return!0}function op(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function cb(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function ub(e){return e.length>0?e[e.length-1]:null}function Zn(e){return wd(e)?e:Ei(e)?X(Promise.resolve(e)):C(e)}var RO={exact:hb,subset:fb},db={exact:xO,subset:kO,ignored:()=>!0};function XD(e,t,n){return RO[n.paths](e.root,t.root,n.matrixParams)&&db[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function xO(e,t){return Ht(e,t)}function hb(e,t,n){if(!Si(e.segments,t.segments)||!Ec(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!hb(e.children[i],t.children[i],n))return!1;return!0}function kO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cb(e[n],t[n]))}function fb(e,t,n){return pb(e,t,t.segments,n)}function pb(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Si(r,n)||t.hasChildren()||!Ec(r,n,i))}else if(e.segments.length===n.length){if(!Si(e.segments,n)||!Ec(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!fb(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Si(e.segments,r)||!Ec(e.segments,r,i)||!e.children[P]?!1:pb(e.children[P],t,o,i)}}function Ec(e,t,n){return t.every((i,r)=>db[n](e[r].parameters,i.parameters))}var yn=class{constructor(t=new ee([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ur(this.queryParams),this._queryParamMap}toString(){return LO.serialize(this)}},ee=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ic(this)}},Ti=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ur(this.parameters),this._parameterMap}toString(){return mb(this)}};function FO(e,t){return Si(e,t)&&e.every((n,i)=>Ht(n.parameters,t[i].parameters))}function Si(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function PO(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===P&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==P&&(n=n.concat(t(r,i)))}),n}var gs=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>new $r,providedIn:"root"})}}return e})(),$r=class{parse(t){let n=new ap(t);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${es(t.root,!0)}`,i=jO(t.queryParams),r=typeof t.fragment=="string"?`#${VO(t.fragment)}`:"";return`${n}${i}${r}`}},LO=new $r;function Ic(e){return e.segments.map(t=>mb(t)).join("/")}function es(e,t){if(!e.hasChildren())return Ic(e);if(t){let n=e.children[P]?es(e.children[P],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==P&&i.push(`${r}:${es(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=PO(e,(i,r)=>r===P?[es(e.children[P],!1)]:[`${r}:${es(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[P]!=null?`${Ic(e)}/${n[0]}`:`${Ic(e)}/(${n.join("//")})`}}function gb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(e){return gb(e).replace(/%3B/gi,";")}function VO(e){return encodeURI(e)}function sp(e){return gb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(e){return decodeURIComponent(e)}function eb(e){return Tc(e.replace(/\+/g,"%20"))}function mb(e){return`${sp(e.path)}${BO(e.parameters)}`}function BO(e){return Object.entries(e).map(([t,n])=>`;${sp(t)}=${sp(n)}`).join("")}function jO(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${wc(n)}=${wc(r)}`).join("&"):`${wc(n)}=${wc(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var UO=/^[^\/()?;#]+/;function ep(e){let t=e.match(UO);return t?t[0]:""}var $O=/^[^\/()?;=#]+/;function HO(e){let t=e.match($O);return t?t[0]:""}var GO=/^[^=?&#]+/;function zO(e){let t=e.match(GO);return t?t[0]:""}var WO=/^[^&#]+/;function qO(e){let t=e.match(WO);return t?t[0]:""}var ap=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[P]=new ee(t,n)),i}parseSegment(){let t=ep(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Ti(Tc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=HO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=ep(this.remaining);r&&(i=r,this.capture(i))}t[Tc(n)]=Tc(i)}parseQueryParam(t){let n=zO(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=qO(this.remaining);s&&(i=s,this.capture(i))}let r=eb(n),o=eb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=ep(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new T(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function _b(e){return e.segments.length>0?new ee([],{[P]:e}):e}function vb(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=vb(r);if(i===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new ee(e.segments,t);return ZO(n)}function ZO(e){if(e.numberOfChildren===1&&e.children[P]){let t=e.children[P];return new ee(e.segments.concat(t.segments),t.children)}return e}function ss(e){return e instanceof yn}function KO(e,t,n=null,i=null){let r=yb(e);return Db(r,t,n,i)}function yb(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ee(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=_b(i);return t??r}function Db(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return tp(r,r,r,n,i);let o=QO(t);if(o.toRoot())return tp(r,r,new ee([],{}),n,i);let s=YO(o,r,e),a=s.processChildren?is(s.segmentGroup,s.index,o.commands):wb(s.segmentGroup,s.index,o.commands);return tp(r,s.segmentGroup,a,n,i)}function Sc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function as(e){return typeof e=="object"&&e!=null&&e.outlets}function tp(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=bb(e,t,n);let a=_b(vb(s));return new yn(a,o,r)}function bb(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=bb(o,t,n)}),new ee(e.segments,i)}var Mc=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Sc(i[0]))throw new T(4003,!1);let r=i.find(as);if(r&&r!==ub(i))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Mc(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Mc(n,t,i)}var Vr=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function YO(e,t,n){if(e.isAbsolute)return new Vr(t,!0,0);if(!n)return new Vr(t,!1,NaN);if(n.parent===null)return new Vr(n,!0,0);let i=Sc(e.commands[0])?0:1,r=n.segments.length-1+i;return JO(n,r,e.numberOfDoubleDots)}function JO(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new T(4005,!1);r=i.segments.length}return new Vr(i,!1,r-o)}function XO(e){return as(e[0])?e[0].outlets:{[P]:e}}function wb(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return is(e,t,n);let i=eR(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,i.pathIndex),{});return o.children[P]=new ee(e.segments.slice(i.pathIndex),e.children),is(o,0,r)}else return i.match&&r.length===0?new ee(e.segments,{}):i.match&&!e.hasChildren()?lp(e,t,n):i.match?is(e,0,r):lp(e,t,n)}function is(e,t,n){if(n.length===0)return new ee(e.segments,{});{let i=XO(n),r={};if(Object.keys(i).some(o=>o!==P)&&e.children[P]&&e.numberOfChildren===1&&e.children[P].segments.length===0){let o=is(e.children[P],t,n);return new ee(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=wb(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ee(e.segments,r)}}function eR(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(as(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!nb(l,c,s))return o;i+=2}else{if(!nb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function lp(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(as(o)){let l=tR(o.outlets);return new ee(i,l)}if(r===0&&Sc(n[0])){let l=e.segments[t];i.push(new Ti(l.path,tb(n[0]))),r++;continue}let s=as(o)?o.outlets[P]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Sc(a)?(i.push(new Ti(s,tb(a))),r+=2):(i.push(new Ti(s,{})),r++)}return new ee(i,{})}function tR(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=lp(new ee([],{}),0,i))}),t}function tb(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function nb(e,t,n){return e==n.path&&Ht(t,n.parameters)}var rs="imperative",Se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Se||{}),_t=class{constructor(t,n){this.id=t,this.url=n}},Hr=class extends _t{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Se.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends _t{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(tt||{}),Nc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Nc||{}),vn=class extends _t{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qn=class extends _t{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Se.NavigationSkipped}},ls=class extends _t{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ac=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cp=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends _t{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dp=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends _t{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class{constructor(t){this.route=t,this.type=Se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pp=class{constructor(t){this.route=t,this.type=Se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gp=class{constructor(t){this.snapshot=t,this.type=Se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(t){this.snapshot=t,this.type=Se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_p=class{constructor(t){this.snapshot=t,this.type=Se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(t){this.snapshot=t,this.type=Se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oc=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Se.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},cs=class{},Gr=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function nR(e,t){return e.providers&&!e._injector&&(e._injector=Yl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ot(e){return e.outlet||P}function iR(e,t){let n=e.filter(i=>Ot(i)===t);return n.push(...e.filter(i=>Ot(i)!==t)),n}function ms(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yp=class{get injector(){return ms(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new _s(this.rootInjector),this.attachRef=null}},_s=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new yp(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(v(Te))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Dp(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=Dp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=bp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return bp(t,this._root).map(n=>n.value)}};function Dp(e,t){if(e===t.value)return t;for(let n of t.children){let i=Dp(e,n);if(i)return i}return null}function bp(e,t){if(e===t.value)return[t];for(let n of t.children){let i=bp(e,n);if(i.length)return i.unshift(t),i}return[]}var et=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lr(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var xc=class extends Rc{constructor(t,n){super(t),this.snapshot=n,Ap(this,t)}toString(){return this.snapshot.toString()}};function Cb(e){let t=rR(e),n=new Ie([new Ti("",{})]),i=new Ie({}),r=new Ie({}),o=new Ie({}),s=new Ie(""),a=new zr(n,i,o,s,r,P,e,t.root);return a.snapshot=t.root,new xc(new et(a,[]),t)}function rR(e){let t={},n={},i={},r="",o=new Br([],t,i,r,n,P,e,null,{});return new Fc("",new et(o,[]))}var zr=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[ps]))??C(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>Ur(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>Ur(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kc(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:y(y({},t.params),e.params),data:y(y({},t.data),e.data),resolve:y(y(y(y({},e.data),t.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&Ib(r)&&(i.resolve[ps]=r.title),i}var Br=class{get title(){return this.data?.[ps]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ur(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ur(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fc=class extends Rc{constructor(t,n){super(n),this.url=t,Ap(this,n)}toString(){return Eb(this._root)}};function Ap(e,t){t.value._routerState=e,t.children.forEach(n=>Ap(e,n))}function Eb(e){let t=e.children.length>0?` { ${e.children.map(Eb).join(", ")} } `:"";return`${e.value}${t}`}function np(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ht(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ht(t.params,n.params)||e.paramsSubject.next(n.params),OO(t.url,n.url)||e.urlSubject.next(n.url),Ht(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function wp(e,t){let n=Ht(e.params,t.params)&&FO(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||wp(e.parent,t.parent))}function Ib(e){return typeof e.title=="string"||e.title===null}var Op=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=P,this.activateEvents=new ce,this.deactivateEvents=new ce,this.attachEvents=new ce,this.detachEvents=new ce,this.parentContexts=g(_s),this.location=g(hn),this.changeDetector=g(gn),this.inputBinder=g(jc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cp(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Di]})}}return e})(),Cp=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===zr?this.route:t===_s?this.childContexts:this.parent.get(t,n)}},jc=new b(""),ib=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=tr([i.queryParams,i.params,i.data]).pipe(ne(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=pD(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function oR(e,t,n){let i=us(e,t._root,n?n._root:void 0);return new xc(i,t)}function us(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=sR(e,t,n);return new et(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>us(e,a)),s}}let i=aR(t.value),r=t.children.map(o=>us(e,o));return new et(i,r)}}function sR(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return us(e,i,r);return us(e,i)})}function aR(e){return new zr(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var ds=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Tb="ngNavigationCancelingError";function Pc(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=ss(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Sb(!1,tt.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Sb(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Tb]=!0,n.cancellationCode=t,n}function lR(e){return Mb(e)&&ss(e.url)}function Mb(e){return!!e&&e[Tb]}var cR=(e,t,n,i)=>S(r=>(new Ep(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),Ep=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),np(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=Lr(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=Lr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=Lr(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new vp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new mp(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(np(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),np(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},Lc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jr=class{constructor(t,n){this.component=t,this.route=n}};function uR(e,t,n){let i=e._root,r=t?t._root:null;return ts(i,r,n,[i.value])}function dR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qr(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!Uv(e)?e:t.get(e):i}function ts(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lr(t);return e.children.forEach(s=>{hR(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>os(a,n.getContext(s),r)),r}function hR(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=fR(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Lc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ts(e,t,a?a.children:null,i,r):ts(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new jr(a.outlet.component,s))}else s&&os(t,a,r),r.canActivateChecks.push(new Lc(i)),o.component?ts(e,null,a?a.children:null,i,r):ts(e,null,n,i,r);return r}function fR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Si(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Si(e.url,t.url)||!Ht(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(e,t)||!Ht(e.queryParams,t.queryParams);case"paramsChange":default:return!wp(e,t)}}function os(e,t,n){let i=Lr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?os(s,t.children.getContext(o),n):os(s,null,n):os(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new jr(t.outlet.component,r)):n.canDeactivateChecks.push(new jr(null,r)):n.canDeactivateChecks.push(new jr(null,r))}function vs(e){return typeof e=="function"}function pR(e){return typeof e=="boolean"}function gR(e){return e&&vs(e.canLoad)}function mR(e){return e&&vs(e.canActivate)}function _R(e){return e&&vs(e.canActivateChild)}function vR(e){return e&&vs(e.canDeactivate)}function yR(e){return e&&vs(e.canMatch)}function Nb(e){return e instanceof Xt||e?.name==="EmptyError"}var Cc=Symbol("INITIAL_VALUE");function Wr(){return ne(e=>tr(e.map(t=>t.pipe(Ze(1),Ha(Cc)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Cc)return Cc;if(n===!1||DR(n))return n}return!0}),me(t=>t!==Cc),Ze(1)))}function DR(e){return ss(e)||e instanceof ds}function bR(e,t){return le(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?C(F(y({},n),{guardsResult:!0})):wR(s,i,r,e).pipe(le(a=>a&&pR(a)?CR(i,o,e,t):C(a)),S(a=>F(y({},n),{guardsResult:a})))})}function wR(e,t,n,i){return X(e).pipe(le(r=>MR(r.component,r.route,n,t,i)),ct(r=>r!==!0,!0))}function CR(e,t,n,i){return X(t).pipe(en(r=>Mn(IR(r.route.parent,i),ER(r.route,i),SR(e,r.path,n),TR(e,r.route,n))),ct(r=>r!==!0,!0))}function ER(e,t){return e!==null&&t&&t(new _p(e)),C(!0)}function IR(e,t){return e!==null&&t&&t(new gp(e)),C(!0)}function TR(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>Va(()=>{let s=ms(t)??n,a=qr(o,s),l=mR(a)?a.canActivate(t,e):gt(s,()=>a(t,e));return Zn(l).pipe(ct())}));return C(r).pipe(Wr())}function SR(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>dR(s)).filter(s=>s!==null).map(s=>Va(()=>{let a=s.guards.map(l=>{let c=ms(s.node)??n,u=qr(l,c),d=_R(u)?u.canActivateChild(i,e):gt(c,()=>u(i,e));return Zn(d).pipe(ct())});return C(a).pipe(Wr())}));return C(o).pipe(Wr())}function MR(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=ms(t)??r,c=qr(a,l),u=vR(c)?c.canDeactivate(e,t,n,i):gt(l,()=>c(e,t,n,i));return Zn(u).pipe(ct())});return C(s).pipe(Wr())}function NR(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=qr(s,e),l=gR(a)?a.canLoad(t,n):gt(e,()=>a(t,n));return Zn(l)});return C(o).pipe(Wr(),Ab(i))}function Ab(e){return gd(fe(t=>{if(typeof t!="boolean")throw Pc(e,t)}),S(t=>t===!0))}function AR(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=qr(s,e),l=yR(a)?a.canMatch(t,n):gt(e,()=>a(t,n));return Zn(l)});return C(o).pipe(Wr(),Ab(i))}var hs=class{constructor(t){this.segmentGroup=t||null}},fs=class extends Error{constructor(t){super(),this.urlTree=t}};function Pr(e){return Xi(new hs(e))}function OR(e){return Xi(new T(4e3,!1))}function RR(e){return Xi(Sb(!1,tt.GuardRejected))}var Ip=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[P])return OR(`${t.redirectTo}`);r=r.children[P]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,D=gt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(D instanceof yn)throw new fs(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new fs(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new ee(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new T(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},Tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xR(e,t,n,i,r){let o=Ob(e,t,n);return o.matched?(i=nR(t,i),AR(i,t,n,r).pipe(S(s=>s===!0?o:y({},Tp)))):C(o)}function Ob(e,t,n){if(t.path==="**")return kR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?y({},Tp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||AO)(n,e,t);if(!r)return y({},Tp);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function kR(e){return{matched:!0,parameters:e.length>0?ub(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function rb(e,t,n,i){return n.length>0&&LR(e,n,i)?{segmentGroup:new ee(t,PR(i,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&VR(e,n,i)?{segmentGroup:new ee(e.segments,FR(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function FR(e,t,n,i){let r={};for(let o of n)if(Uc(e,t,o)&&!i[Ot(o)]){let s=new ee([],{});r[Ot(o)]=s}return y(y({},i),r)}function PR(e,t){let n={};n[P]=t;for(let i of e)if(i.path===""&&Ot(i)!==P){let r=new ee([],{});n[Ot(i)]=r}return n}function LR(e,t,n){return n.some(i=>Uc(e,t,i)&&Ot(i)!==P)}function VR(e,t,n){return n.some(i=>Uc(e,t,i))}function Uc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BR(e,t,n){return t.length===0&&!e.children[n]}var Sp=class{};function jR(e,t,n,i,r,o,s="emptyOnly"){return new Mp(e,t,n,i,r,s,o).recognize()}var UR=31,Mp=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ip(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=rb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new et(i,n),o=new Fc("",r),s=KO(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Br([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),P,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,P,n).pipe(S(i=>({children:i,rootSnapshot:n})),Nn(i=>{if(i instanceof fs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hs?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof et?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return X(o).pipe(en(s=>{let a=i.children[s],l=iR(n,s);return this.processSegmentGroup(t,l,a,s,r)}),ir((s,a)=>(s.push(...a),s)),An(null),Md(),le(s=>{if(s===null)return Pr(i);let a=Rb(s);return $R(a),C(a)}))}processSegment(t,n,i,r,o,s,a){return X(n).pipe(en(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Nn(c=>{if(c instanceof hs)return C(null);throw c}))),ct(l=>!!l),Nn(l=>{if(Nb(l))return BR(i,r,o)?C(new Sp):Pr(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return Ot(i)!==s&&(s===P||!Uc(r,o,i))?Pr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):Pr(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=Ob(n,r,o);if(!l)return Pr(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UR&&(this.allowRedirects=!1));let f=new Br(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,ob(r),Ot(r),r.component??r._loadedComponent??null,r,sb(r)),p=kc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,m).pipe(le(D=>this.processSegment(t,i,n,D.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=xR(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(ne(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ne(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new Br(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,ob(i),Ot(i),i.component??i._loadedComponent??null,i,sb(i)),m=kc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:D,slicedSegments:I}=rb(n,h,f,c);if(I.length===0&&D.hasChildren())return this.processChildren(u,c,D,p).pipe(S(E=>new et(p,E)));if(c.length===0&&I.length===0)return C(new et(p,[]));let L=Ot(i)===o;return this.processSegment(u,c,D,I,L?P:o,!0,p).pipe(S(E=>new et(p,E instanceof et?[E]:[])))}))):Pr(n)))}getChildConfig(t,n,i){return n.children?C({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?C({routes:n._loadedRoutes,injector:n._loadedInjector}):NR(t,n,i,this.urlSerializer).pipe(le(r=>r?this.configLoader.loadChildren(t,n).pipe(fe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):RR(n))):C({routes:[],injector:t})}};function $R(e){e.sort((t,n)=>t.value.outlet===P?-1:n.value.outlet===P?1:t.value.outlet.localeCompare(n.value.outlet))}function HR(e){let t=e.value.routeConfig;return t&&t.path===""}function Rb(e){let t=[],n=new Set;for(let i of e){if(!HR(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=Rb(i.children);t.push(new et(i.value,r))}return t.filter(i=>!n.has(i))}function ob(e){return e.data||{}}function sb(e){return e.resolve||{}}function GR(e,t,n,i,r,o){return le(s=>jR(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>F(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function zR(e,t){return le(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return C(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of xb(l))s.add(c);let a=0;return X(s).pipe(en(l=>o.has(l)?WR(l,i,e,t):(l.data=kc(l,l.parent,e).resolve,C(void 0))),fe(()=>a++),nr(1),le(l=>a===s.size?C(n):we))})}function xb(e){let t=e.children.map(n=>xb(n)).flat();return[e,...t]}function WR(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Ib(r)&&(o[ps]=r.title),qR(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=kc(e,e.parent,n).resolve,null)))}function qR(e,t,n,i){let r=op(e);if(r.length===0)return C({});let o={};return X(r).pipe(le(s=>ZR(e[s],t,n,i).pipe(ct(),fe(a=>{if(a instanceof ds)throw Pc(new $r,a);o[s]=a}))),nr(1),Td(o),Nn(s=>Nb(s)?we:Xi(s)))}function ZR(e,t,n,i){let r=ms(t)??i,o=qr(e,r),s=o.resolve?o.resolve(t,n):gt(r,()=>o(t,n));return Zn(s)}function ip(e){return ne(t=>{let n=e(t);return n?X(n).pipe(S(()=>t)):C(t)})}var kb=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===P);return i}getResolvedTitleForRoute(n){return n.data[ps]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(KR),providedIn:"root"})}}return e})(),KR=(()=>{class e extends kb{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(v(YD))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ys=new b("",{providedIn:"root",factory:()=>({})}),QR=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["ng-component"]],standalone:!0,features:[zo],decls:1,vars:0,template:function(i,r){i&1&&Ut(0,"router-outlet")},dependencies:[Op],encapsulation:2})}}return e})();function Rp(e){let t=e.children&&e.children.map(Rp),n=t?F(y({},e),{children:t}):y({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=QR),n}var Vc=new b(""),xp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(cc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return C(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Zn(n.loadComponent()).pipe(S(Fb),fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),On(()=>{this.componentLoaders.delete(n)})),r=new qi(i,()=>new q).pipe(Wi());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=YR(i,this.compiler,n,this.onLoadEndListener).pipe(On(()=>{this.childrenLoaders.delete(i)})),s=new qi(o,()=>new q).pipe(Wi());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YR(e,t,n,i){return Zn(e.loadChildren()).pipe(S(Fb),le(r=>r instanceof ko||Array.isArray(r)?C(r):X(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Vc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rp),injector:o}}))}function JR(e){return e&&typeof e=="object"&&"default"in e}function Fb(e){return JR(e)?e.default:e}var kp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(XR),providedIn:"root"})}}return e})(),XR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Pb=new b(""),Lb=new b("");function ex(e,t,n){let i=e.get(Lb),r=e.get(ve);return e.get(U).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),tx(e))),{onViewTransitionCreated:l}=i;return l&&gt(e,()=>l({transition:a,from:t,to:n})),s})}function tx(e){return new Promise(t=>{Cf({read:()=>setTimeout(t)},{injector:e})})}var nx=new b(""),Fp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=g(xp),this.environmentInjector=g(Te),this.urlSerializer=g(gs),this.rootContexts=g(_s),this.location=g(kr),this.inputBindingEnabled=g(jc,{optional:!0})!==null,this.titleStrategy=g(kb),this.options=g(ys,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(kp),this.createViewTransition=g(Pb,{optional:!0}),this.navigationErrorHandler=g(nx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let n=r=>this.events.next(new fp(r)),i=r=>this.events.next(new pp(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(F(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(me(o=>o.id!==0),S(o=>F(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ne(o=>{let s=!1,a=!1;return C(o).pipe(ne(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",tt.SupersededByNewNavigation),we;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?F(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new qn(l.id,this.urlSerializer.serialize(l.rawUrl),d,Nc.IgnoredSameUrlNavigation)),l.resolve(!1),we}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(ne(d=>{let h=this.transitions?.getValue();return this.events.next(new Hr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?we:Promise.resolve(d)}),GR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),fe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=F(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Ac(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,D=new Hr(d,this.urlSerializer.serialize(h),f,p);this.events.next(D);let I=Cb(this.rootComponentType).snapshot;return this.currentTransition=o=F(y({},l),{targetSnapshot:I,urlAfterRedirects:h,extras:F(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Nc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),we}}),fe(l=>{let c=new cp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=F(y({},l),{guards:uR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),bR(this.environmentInjector,l=>this.events.next(l)),fe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Pc(this.urlSerializer,l.guardsResult);let c=new up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",tt.GuardRejected),!1)),ip(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(fe(c=>{let u=new dp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ne(c=>{let u=!1;return C(c).pipe(zR(this.paramsInheritanceStrategy,this.environmentInjector),fe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",tt.NoDataFromResolver)}}))}),fe(c=>{let u=new hp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),ip(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(fe(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return tr(c(l.targetSnapshot.root)).pipe(An(null),Ze(1))}),ip(()=>this.afterPreactivation()),ne(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?X(u).pipe(S(()=>o)):C(o)}),S(l=>{let c=oR(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=F(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),fe(()=>{this.events.next(new cs)}),cR(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ze(1),fe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Re(this.transitionAbortSubject.pipe(fe(l=>{throw l}))),On(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",tt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nn(l=>{if(a=!0,Mb(l))this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),lR(l)?this.events.next(new Gr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ls(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=gt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ds){let{message:d,cancellationCode:h}=Pc(this.urlSerializer,u);this.events.next(new vn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Gr(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return we}))}))}cancelNavigationTransition(n,i,r){let o=new vn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ix(e){return e!==rs}var rx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(ox),providedIn:"root"})}}return e})(),Np=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ox=(()=>{class e extends Np{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Vb=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:()=>g(sx),providedIn:"root"})}}return e})(),sx=(()=>{class e extends Vb{constructor(){super(...arguments),this.location=g(kr),this.urlSerializer=g(gs),this.options=g(ys,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(kp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Hr)this.stateMemento=this.createStateMemento();else if(n instanceof qn)this.rawUrlTree=i.initialUrl;else if(n instanceof Ac){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof cs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof vn&&(n.code===tt.GuardRejected||n.code===tt.NoDataFromResolver)?this.restoreHistory(i):n instanceof ls?this.restoreHistory(i,!0):n instanceof Dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof yn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ns=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ns||{});function Bb(e,t){e.events.pipe(me(n=>n instanceof Dn||n instanceof vn||n instanceof ls||n instanceof qn),S(n=>n instanceof Dn||n instanceof qn?ns.COMPLETE:(n instanceof vn?n.code===tt.Redirect||n.code===tt.SupersededByNewNavigation:!1)?ns.REDIRECTING:ns.FAILED),me(n=>n!==ns.REDIRECTING),Ze(1)).subscribe(()=>{t()})}function ax(e){throw e}var lx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(rc),this.stateManager=g(Vb),this.options=g(ys,{optional:!0})||{},this.pendingTasks=g(Un),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Fp),this.urlSerializer=g(gs),this.location=g(kr),this.urlHandlingStrategy=g(kp),this._events=new q,this.errorHandler=this.options.errorHandler||ax,this.navigated=!1,this.routeReuseStrategy=g(rx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Vc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(jc,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof vn&&i.code!==tt.Redirect&&i.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Dn)this.navigated=!0;else if(i instanceof Gr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ix(r.source)},s);this.scheduleNavigation(a,rs,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}dx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Rp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=yb(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Db(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=ss(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,rs,null,i)}navigate(n,i={skipLocationChange:!1}){return ux(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=y({},lx):i===!1?r=y({},cx):r=i,ss(n))return XD(this.currentUrlTree,n,r);let o=this.parseUrl(n);return XD(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Bb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ux(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function dx(e){return!(e instanceof cs)&&!(e instanceof Gr)}var Bc=class{};var hx=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(me(n=>n instanceof Dn),en(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Yl(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return X(r).pipe(Sn())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=C(null);let o=r.pipe(le(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return X([o,s]).pipe(Sn())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(v(Mi),v(cc),v(Te),v(Bc),v(xp))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jb=new b(""),fx=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Dn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof qn&&n.code===Nc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Oc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Oc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){v0()}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function px(e){return e.routerState.root}function Ds(e,t){return{\u0275kind:e,\u0275providers:t}}function gx(){let e=g(Oe);return t=>{let n=e.get(At);if(t!==n.components[0])return;let i=e.get(Mi),r=e.get(Ub);e.get(Pp)===1&&i.initialNavigation(),e.get($b,null,j.Optional)?.setUpPreloading(),e.get(jb,null,j.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Ub=new b("",{factory:()=>new q}),Pp=new b("",{providedIn:"root",factory:()=>1});function mx(){return Ds(2,[{provide:Pp,useValue:0},{provide:ac,multi:!0,deps:[Oe],useFactory:t=>{let n=t.get(wD,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(Mi),o=t.get(Ub);Bb(r,()=>{i(!0)}),t.get(Fp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function _x(){return Ds(3,[{provide:ac,multi:!0,useFactory:()=>{let t=g(Mi);return()=>{t.setUpLocationChangeListener()}}},{provide:Pp,useValue:2}])}var $b=new b("");function vx(e){return Ds(0,[{provide:$b,useExisting:hx},{provide:Bc,useExisting:e}])}function yx(){return Ds(8,[ib,{provide:jc,useExisting:ib}])}function Dx(e){let t=[{provide:Pb,useValue:ex},{provide:Lb,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ds(9,t)}var ab=new b("ROUTER_FORROOT_GUARD"),bx=[kr,{provide:gs,useClass:$r},Mi,_s,{provide:zr,useFactory:px,deps:[Mi]},xp,[]],Lp=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[bx,[],{provide:Vc,multi:!0,useValue:n},{provide:ab,useFactory:Ix,deps:[[Mi,new Lo,new Gh]]},{provide:ys,useValue:i||{}},i?.useHash?Cx():Ex(),wx(),i?.preloadingStrategy?vx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Tx(i):[],i?.bindToComponentInputs?yx().\u0275providers:[],i?.enableViewTransitions?Dx().\u0275providers:[],Sx()]}}static forChild(n){return{ngModule:e,providers:[{provide:Vc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(v(ab,8))}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();function wx(){return{provide:jb,useFactory:()=>{let e=g(ND),t=g(U),n=g(ys),i=g(Fp),r=g(gs);return n.scrollOffset&&e.setOffset(n.scrollOffset),new fx(r,i,e,t,n)}}}function Cx(){return{provide:Ii,useClass:ED}}function Ex(){return{provide:Ii,useClass:Vf}}function Ix(e){return"guarded"}function Tx(e){return[e.initialNavigation==="disabled"?_x().\u0275providers:[],e.initialNavigation==="enabledBlocking"?mx().\u0275providers:[]]}var lb=new b("");function Sx(){return[{provide:lb,useFactory:gx},{provide:lc,multi:!0,useExisting:lb}]}var $c=class e{constructor(t){this.http=t}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app";dataSubject=new q;getDatas(){return this.http.get(`${this.url}/.json`)}createData(t){return t.price=parseFloat(t.price).toFixed(2),this.http.post(`${this.url}/.json`,t)}updateData(t){return t.price=parseFloat(t.price).toFixed(2),this.http.put(`${this.url}/${t.id}.json`,t)}deleteData(t){return this.http.delete(`${this.url}/${t}.json`)}static \u0275fac=function(n){return new(n||e)(v(zf))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var Qb=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(oe(Nr),oe(Xe))}}static{this.\u0275dir=pt({type:e})}}return e})(),Ax=(()=>{class e extends Qb{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Tr(e)))(r||e)}})()}static{this.\u0275dir=pt({type:e,features:[Ci]})}}return e})(),Yb=new b("");var Ox={provide:Yb,useExisting:wr(()=>qc),multi:!0};function Rx(){let e=$t()?$t().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var xx=new b(""),qc=(()=>{class e extends Qb{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Rx())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(oe(Nr),oe(Xe),oe(xx,8))}}static{this.\u0275dir=pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&pn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[nc([Ox]),Ci]})}}return e})();var kx=new b(""),Fx=new b("");function Jb(e){return e!=null}function Xb(e){return Ei(e)?X(e):e}function ew(e){let t={};return e.forEach(n=>{t=n!=null?y(y({},t),n):t}),Object.keys(t).length===0?null:t}function tw(e,t){return t.map(n=>n(e))}function Px(e){return!e.validate}function nw(e){return e.map(t=>Px(t)?t:n=>t.validate(n))}function Lx(e){if(!e)return null;let t=e.filter(Jb);return t.length==0?null:function(n){return ew(tw(n,t))}}function iw(e){return e!=null?Lx(nw(e)):null}function Vx(e){if(!e)return null;let t=e.filter(Jb);return t.length==0?null:function(n){let i=tw(n,t).map(Xb);return Cd(i).pipe(S(ew))}}function rw(e){return e!=null?Vx(nw(e)):null}function Hb(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Bx(e){return e._rawValidators}function jx(e){return e._rawAsyncValidators}function Vp(e){return e?Array.isArray(e)?e:[e]:[]}function Gc(e,t){return Array.isArray(e)?e.includes(t):e===t}function Gb(e,t){let n=Vp(t);return Vp(e).forEach(r=>{Gc(n,r)||n.push(r)}),n}function zb(e,t){return Vp(t).filter(n=>!Gc(e,n))}var zc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=iw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Bp=class extends zc{get formDirective(){return null}get path(){return null}},Is=class extends zc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jp=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ux={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Q8=F(y({},Ux),{"[class.ng-submitted]":"isSubmitted"}),ow=(()=>{class e extends jp{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(oe(Is,2))}}static{this.\u0275dir=pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Rr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ci]})}}return e})();var bs="VALID",Hc="INVALID",Zr="PENDING",ws="DISABLED",Qr=class{},Wc=class extends Qr{constructor(t,n){super(),this.value=t,this.source=n}},Cs=class extends Qr{constructor(t,n){super(),this.pristine=t,this.source=n}},Es=class extends Qr{constructor(t,n){super(),this.touched=t,this.source=n}},Kr=class extends Qr{constructor(t,n){super(),this.status=t,this.source=n}};function $x(e){return(Zc(e)?e.validators:e)||null}function Hx(e){return Array.isArray(e)?iw(e):e||null}function Gx(e,t){return(Zc(t)?t.asyncValidators:e)||null}function zx(e){return Array.isArray(e)?rw(e):e||null}function Zc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Up=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=hc(()=>this.statusReactive()),this.statusReactive=Ql(void 0),this._pristine=hc(()=>this.pristineReactive()),this.pristineReactive=Ql(!0),this._touched=hc(()=>this.touchedReactive()),this.touchedReactive=Ql(!1),this._events=new q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Hn(this.statusReactive)}set status(t){Hn(()=>this.statusReactive.set(t))}get valid(){return this.status===bs}get invalid(){return this.status===Hc}get pending(){return this.status==Zr}get disabled(){return this.status===ws}get enabled(){return this.status!==ws}get pristine(){return Hn(this.pristineReactive)}set pristine(t){Hn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Hn(this.touchedReactive)}set touched(t){Hn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Gb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Gb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zb(t,this._rawAsyncValidators))}hasValidator(t){return Gc(this._rawValidators,t)}hasAsyncValidator(t){return Gc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(F(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Es(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Es(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(F(y({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Cs(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new Cs(!0,i))}markAsPending(t={}){this.status=Zr;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Kr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(F(y({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ws,this.errors=null,this._forEachChild(r=>{r.disable(F(y({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wc(this.value,i)),this._events.next(new Kr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=bs,this._forEachChild(i=>{i.enable(F(y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(F(y({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===Zr)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Wc(this.value,n)),this._events.next(new Kr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(F(y({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ws:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Zr,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Xb(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new Kr(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?ws:this.errors?Hc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zr)?Zr:this._anyControlsHaveStatus(Hc)?Hc:bs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new Cs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Es(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Hx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=zx(this._rawAsyncValidators)}};var sw=new b("CallSetDisabledState",{providedIn:"root",factory:()=>$p}),$p="always";function Wx(e,t){return[...t.path,e]}function qx(e,t,n=$p){Kx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Qx(e,t),Jx(e,t),Yx(e,t),Zx(e,t)}function Wb(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Zx(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Kx(e,t){let n=Bx(e);t.validator!==null?e.setValidators(Hb(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=jx(e);t.asyncValidator!==null?e.setAsyncValidators(Hb(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Wb(t._rawValidators,r),Wb(t._rawAsyncValidators,r)}function Qx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&aw(e,t)})}function Yx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&aw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function aw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Jx(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Xx(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function ek(e){return Object.getPrototypeOf(e.constructor)===Ax}function tk(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===qc?n=o:ek(o)?i=o:r=o}),r||i||n||null}function qb(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Zb(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var nk=class extends Up{constructor(t=null,n,i){super($x(n),Gx(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Zb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){qb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){qb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Zb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ik={provide:Is,useExisting:wr(()=>Hp)},Kb=Promise.resolve(),Hp=(()=>{class e extends Is{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new nk,this._registered=!1,this.name="",this.update=new ce,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=tk(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Xx(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Kb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&dc(i);Kb.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Wx(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(oe(Bp,9),oe(kx,10),oe(Fx,10),oe(Yb,10),oe(gn,8),oe(sw,8))}}static{this.\u0275dir=pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nc([ik]),Ci,Di]})}}return e})();var rk=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var lw=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:sw,useValue:n.callSetDisabledState??$p}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({imports:[rk]})}}return e})();function ak(e,t){if(e&1&&(ge(0,"div",3),Ho(1),Fe()),e&2){let n=t.$implicit;Mt(),Go(" ",n.title," ")}}function lk(e,t){if(e&1){let n=$o();jo(0),ge(1,"input",10),tc("ngModelChange",function(r){Er(n);let o=Ue().$implicit,s=Ue();return Tf(s.newData[o.key],r)||(s.newData[o.key]=r),Ir(r)}),Fe(),Uo()}if(e&2){let n=Ue().$implicit,i=Ue();Mt(),Nt("type",n.type),ec("ngModel",i.newData[n.key])}}function ck(e,t){}function uk(e,t){if(e&1&&(ge(0,"div",3),fn(1,lk,2,2,"ng-container",9)(2,ck,0,0,"ng-template",null,0,ic),Fe()),e&2){let n=t.$implicit,i=Xl(3);Mt(),Nt("ngIf",n.type!="plain")("ngIfElse",i)}}function dk(e,t){if(e&1){let n=$o();jo(0),ge(1,"input",10),tc("ngModelChange",function(r){Er(n);let o=Ue().$implicit,s=Ue().$implicit;return Tf(s[o.key],r)||(s[o.key]=r),Ir(r)}),Fe(),Uo()}if(e&2){let n=Ue().$implicit,i=Ue().$implicit;Mt(),Nt("type",n.type),ec("ngModel",i[n.key])}}function hk(e,t){if(e&1&&Ho(0),e&2){let n=Ue().$implicit,i=Ue().$implicit;Go(" ",i[n.key]," ")}}function fk(e,t){if(e&1&&(ge(0,"div",3),fn(1,dk,2,2,"ng-container",9)(2,hk,1,1,"ng-template",null,0,ic),Fe()),e&2){let n=t.$implicit,i=Xl(3);Mt(),Nt("ngIf",n.type!=="plain")("ngIfElse",i)}}function pk(e,t){if(e&1){let n=$o();ge(0,"div",11),fn(1,fk,4,2,"div",2),ge(2,"div",3)(3,"button",12),pn("click",function(){let r=Er(n).$implicit,o=Ue();return Ir(o.updateData(r))}),Vl(),ge(4,"svg",13),Ut(5,"path",14),Fe()(),Fy(),ge(6,"button",15),pn("click",function(){let r=Er(n).$implicit,o=Ue();return Ir(o.deleteData(r))}),Vl(),ge(7,"svg",16),Ut(8,"path",17),Fe()()()()}if(e&2){let n=Ue();Mt(),Nt("ngForOf",n.columns)}}var Yr=class e{constructor(t){this.base=t}datas;columns=[{key:"id",title:"#",type:"plain"},{key:"category",title:"category",type:"text"},{key:"description",title:"description",type:"text"},{key:"name",title:"name",type:"text"},{key:"price",title:"price",type:"number"}];newData=[];ngOnInit(){this.loadAllDatas()}loadAllDatas(){this.base.getDatas().subscribe(t=>{this.datas=t?Object.entries(t).map(([n,i])=>F(y({},i),{id:n})):[]})}addData(){this.base.createData(this.newData).subscribe(()=>{this.loadAllDatas(),this.newData={id:null,name:"",category:"",description:"",price:null}})}updateData(t){t.price=parseFloat(t.price).toFixed(2),this.base.updateData(t).subscribe(()=>this.loadAllDatas())}deleteData(t){this.base.deleteData(t.id).subscribe(()=>this.loadAllDatas())}static \u0275fac=function(n){return new(n||e)(oe($c))};static \u0275cmp=cn({type:e,selectors:[["app-home"]],decls:11,vars:3,consts:[["notchange",""],[1,"row","header","mt-5"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"row","mb-4","mt-2","newdata"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],["class","row mt-0 datas mb-0 ",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"form-control",3,"ngModelChange","type","ngModel"],[1,"row","mt-0","datas","mb-0"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pen"],["d","m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"],["type","button",1,"btn","btn-outline-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(n,i){n&1&&(ge(0,"div",1),fn(1,ak,2,1,"div",2),ge(2,"div",3),Ho(3,"Options"),Fe()(),ge(4,"div",4),fn(5,uk,4,2,"div",2),ge(6,"div",3)(7,"button",5),pn("click",function(){return i.addData()}),Vl(),ge(8,"svg",6),Ut(9,"path",7),Fe()()()(),fn(10,pk,9,1,"div",8)),n&2&&(Mt(),Nt("ngForOf",i.columns),Mt(4),Nt("ngForOf",i.columns),Mt(5),Nt("ngForOf",i.datas))},dependencies:[ID,TD,qc,ow,Hp],styles:[".header[_ngcontent-%COMP%]{padding:20px;background-color:#add8e6;text-align:center;font-weight:700;font-size:15px;border-radius:20px 20px 0 0}.newdata[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;background-color:beige;text-align:center;font-weight:700;font-size:15px}.datas[_ngcontent-%COMP%]{background-color:beige;padding:10px;text-align:center;align-items:center}"]})};var gk=[{path:"",component:Yr},{path:"home",component:Yr},{path:"**",component:Yr}],Kc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=z({type:e});static \u0275inj=G({imports:[Lp.forRoot(gk),Lp]})};var Qc=class e{title="FrontendDolgozat";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=cn({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(n,i){n&1&&(ge(0,"div",0),Ut(1,"router-outlet"),Fe())},dependencies:[Op]})};var mk=["*"];var _k=["dialog"];var cw={animation:!0,transitionTimerDelayMs:5},vk=(()=>{class e{constructor(){this.animation=cw.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yk(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function uw(e){return typeof e=="string"}function Gp(e){return e!=null}function Dk(e){return e&&e.then}function dw(e){return(e||document.body).getBoundingClientRect()}function bk(e){return t=>new A(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}var wk=()=>{},{transitionTimerDelayMs:Ck}=cw,Yc=new Map,Ni=(e,t,n,i)=>{let r=i.context||{},o=Yc.get(t);if(o)switch(i.runningTransition){case"continue":return we;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Yc.delete(t)}let s=n(t,i.animation,r)||wk;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(bk(e));let a=new q,l=new q,c=a.pipe(Sd(!0));Yc.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=yk(t);return e.runOutsideAngular(()=>{let d=lt(t,"transitionend").pipe(Re(c),me(({target:f})=>f===t)),h=Ed(u+Ck).pipe(Re(c));Id(h,d,l).pipe(Re(c)).subscribe(()=>{Yc.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var hw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var fw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var pw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})(),gw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Wz=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})();var Ek=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mw(e){let t=Array.from(e.querySelectorAll(Ek)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var Ik=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=lt(t,"focusin").pipe(Re(n),S(o=>o.target));lt(t,"keydown").pipe(Re(n),me(o=>o.key==="Tab"),rr(r)).subscribe(([o,s])=>{let[a,l]=mw(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&lt(t,"click").pipe(Re(n),rr(r),S(o=>o[1])).subscribe(o=>o.focus())})};var qz=new Date(1882,10,12),Zz=new Date(2174,10,25);var Kz=1e3*60*60*24;var qp=1080,Tk=24*qp,Sk=12*qp+793,Qz=29*Tk+Sk,Yz=11*qp+204;var _w=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var vw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})(),Mk=(()=>{class e{constructor(){this._ngbConfig=g(vk),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jr=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var Nk=(()=>{class e{constructor(){this._document=g(ve)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ak=(()=>{class e{constructor(){this._nativeElement=g(Xe).nativeElement,this._zone=g(U)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ze(1)).subscribe(()=>{Ni(this._zone,this._nativeElement,(n,i)=>{i&&dw(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ni(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Jl("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Rr("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[zo],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),Jc=class{update(t){}close(t){}dismiss(t){}},Ok=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Rk=["animation","backdropClass"],zp=class{_applyWindowOptions(t,n){Ok.forEach(i=>{Gp(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){Rk.forEach(i=>{Gp(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Re(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Re(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();Dk(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Eo(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Wp=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Wp||{}),xk=(()=>{class e{constructor(){this._document=g(ve),this._elRef=g(Xe),this._zone=g(U),this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ce,this.shown=new q,this.hidden=new q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":uw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ze(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Ni(this._zone,n,()=>n.classList.remove("show"),i),o=Ni(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Eo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Ni(this._zone,this._elRef.nativeElement,(o,s)=>{s&&dw(o),o.classList.add("show")},n),r=Ni(this._zone,this._dialogEl.nativeElement,()=>{},n);Eo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{lt(n,"keydown").pipe(Re(this._closed$),me(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Wp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;lt(this._dialogEl.nativeElement,"mousedown").pipe(Re(this._closed$),fe(()=>i=!1),ne(()=>lt(n,"mouseup").pipe(Re(this._closed$),Ze(1))),me(({target:r})=>n===r)).subscribe(()=>{i=!0}),lt(n,"click").pipe(Re(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Wp.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=mw(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ni(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=cn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&iD(_k,7),i&2){let o;Ef(o=If())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Bo("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Jl("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Rr("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[zo],ngContentSelectors:mk,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(tD(),ge(0,"div",1,0)(2,"div",2),nD(3),Fe()()),i&2&&Jl("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),kk=(()=>{class e{constructor(){this._applicationRef=g(At),this._injector=g(Oe),this._environmentInjector=g(Te),this._document=g(ve),this._scrollBar=g(Nk),this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ce;let n=g(U);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Ik(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:Gp(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new Jc;n=r.injector||n;let a=n.get(Te,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new zp(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Ze(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=fc(Ak,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=fc(xk,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof an?this._createFromTemplateRef(r,o):uw(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new Jr([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new Jr([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new Jr([[i]])}_createFromComponent(n,i,r,o,s){let a=Oe.create({providers:[{provide:Jc,useValue:o}],parent:n}),l=fc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Jr([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fk=(()=>{class e{constructor(){this._injector=g(Oe),this._modalStack=g(kk),this._config=g(Mk)}open(n,i={}){let r=y(F(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({providers:[Fk]})}}return e})();var Dw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var bw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var ww=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Cw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Ew=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Iw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Tw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Sw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Mw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Jz=new b("live announcer delay",{providedIn:"root",factory:()=>100});var Nw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})();var Aw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({})}}return e})(),Pk=[hw,fw,pw,gw,_w,vw,yw,Dw,Aw,bw,ww,Cw,Ew,Iw,Tw,Sw,Mw,Nw],Ow=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=G({imports:[Pk,hw,fw,pw,gw,_w,vw,yw,Dw,Aw,bw,ww,Cw,Ew,Iw,Tw,Sw,Mw,Nw]})}}return e})();var Lk="firebase",Vk="10.14.1";In(Lk,Vk,"app");var Qp=new Bn("ANGULARFIRE2_VERSION");var Bk=(e,t)=>{let n=t?[t]:b_(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Ai=class{constructor(){return Bk(jk)}},jk="app-check";function Zp(){}var Xc=class{zone;delegate;constructor(t,n=Dd){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Kp=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zp,{},Zp,Zp)),n.pipe(fe({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eu=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Xc(Zone.current)),this.insideAngular=n.run(()=>new Xc(Zone.current,Yi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(v(U))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Uk(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function bn(e){return $k(Uk())(e)}function $k(e){return function(n){return n=n.lift(new Kp(e.ngZone)),n.pipe(Ct(e.outsideAngular),at(e.insideAngular))}}var zk=new Map,Wk={activated:!1,tokenObservers:[]},qk={initialized:!1,enabled:!1};function Rt(e){return zk.get(e)||Object.assign({},Wk)}function Lw(){return qk}var Zk="https://content-firebaseappcheck.googleapis.com/v1";var Kk="exchangeDebugToken",xw={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},_5=24*60*60*1e3;var Jp=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return ze(this,null,function*(){this.stop();try{this.pending=new Ee,this.pending.promise.catch(n=>{}),yield Qk(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ee,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Qk(e){return new Promise(t=>{setTimeout(t,e)})}var Yk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Kn=new f_("appCheck","AppCheck",Yk);function Vw(e){if(!Rt(e).activated)throw Kn.create("use-before-activation",{appName:e.name})}function Bw(i,r){return ze(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw Kn.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Kn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Kn.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function jw(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${Zk}/projects/${n}/apps/${i}:${Kk}?key=${r}`,body:{debug_token:t}}}var Jk="firebase-app-check-database",Xk=1,Xp="firebase-app-check-store";var tu=null;function eF(){return tu||(tu=new Promise((e,t)=>{try{let n=indexedDB.open(Jk,Xk);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(Kn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Xp,{keyPath:"compositeKey"})}}}catch(n){t(Kn.create("storage-open",{originalErrorMessage:n?.message}))}}),tu)}function tF(e,t){return nF(iF(e),t)}function nF(e,t){return ze(this,null,function*(){let i=(yield eF()).transaction(Xp,"readwrite"),o=i.objectStore(Xp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Kn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function iF(e){return`${e.options.appId}-${e.name}`}var eg=new Ui("@firebase/app-check");function Yp(e,t){return h_()?tF(e,t).catch(n=>{eg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Uw(){return Lw().enabled}function $w(){return ze(this,null,function*(){let e=Lw();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rF={error:"UNKNOWN_ERROR"};function oF(e){return aa.encodeString(JSON.stringify(e),!1)}function tg(e,t=!1){return ze(this,null,function*(){let n=e.app;Vw(n);let i=Rt(n),r=i.token,o;if(r&&!Ts(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Ts(l)?r=l:yield Yp(n,void 0))}if(!t&&r&&Ts(r))return{token:r.token};let s=!1;if(Uw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Bw(jw(n,yield $w()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield Yp(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Rt(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?eg.warn(l.message):eg.error(l),o=l}let a;return r?o?Ts(r)?a={token:r.token,internalError:o}:a=Fw(o):(a={token:r.token},i.token=r,yield Yp(n,r)):a=Fw(o),s&&cF(n,a),a})}function sF(e){return ze(this,null,function*(){let t=e.app;Vw(t);let{provider:n}=Rt(t);if(Uw()){let i=yield $w(),{token:r}=yield Bw(jw(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function aF(e,t,n,i){let{app:r}=e,o=Rt(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ts(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),kw(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>kw(e))}function Hw(e,t){let n=Rt(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function kw(e){let{app:t}=e,n=Rt(t),i=n.tokenRefresher;i||(i=lF(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function lF(e){let{app:t}=e;return new Jp(()=>ze(this,null,function*(){let n=Rt(t),i;if(n.token?i=yield tg(e,!0):i=yield tg(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Rt(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},xw.RETRIAL_MIN_WAIT,xw.RETRIAL_MAX_WAIT)}function cF(e,t){let n=Rt(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ts(e){return e.expireTimeMillis-Date.now()>0}function Fw(e){return{token:oF(rF),error:e}}var ng=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Rt(this.app);for(let n of t)Hw(this.app,n.next);return Promise.resolve()}};function uF(e,t){return new ng(e,t)}function dF(e){return{getToken:t=>tg(e,t),getLimitedUseToken:()=>sF(e),addTokenListener:t=>aF(e,"INTERNAL",t),removeTokenListener:t=>Hw(e.app,t)}}var hF="@firebase/app-check",fF="0.8.8";var pF="app-check",Pw="app-check-internal";function gF(){yo(new Qt(pF,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return uF(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Pw).initialize()})),yo(new Qt(Pw,e=>{let t=e.getProvider("app-check").getImmediate();return dF(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),In(hF,fF)}gF();var mF=["localhost","0.0.0.0","127.0.0.1"],N5=typeof window<"u"&&mF.includes(window.location.hostname);var _F="firebase",vF="10.14.1";bt.registerVersion(_F,vF,"app-compat");var yF=["ngOnDestroy"],Ww=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(yF.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var ig=class{constructor(t){return t}},nu=new b("angularfire2.app.options"),iu=new b("angularfire2.app.name");function ru(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=bt.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>bt.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;DF("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ig(s)}var DF=(e,...t)=>{Af()&&typeof console<"u"&&console[e](...t)};function ou(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return bF(r,s)||(zw("error",`${t} was already initialized on the ${n} Firebase App with different settings.${wF?" You may need to reload as Firebase is not HMR aware.":""}`),zw("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function bF(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var wF=typeof module<"u"&&!!module.hot,zw=(e,...t)=>{Af()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var rg=new b("angularfire2.auth.use-emulator"),og=new b("angularfire2.auth.settings"),sg=new b("angularfire2.auth.tenant-id"),ag=new b("angularfire2.auth.langugage-code"),lg=new b("angularfire2.auth.use-device-language"),cg=new b("angularfire.auth.persistence"),ug=(e,t,n,i,r,o,s,a)=>ou(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),qw=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new q,m=C(void 0).pipe(at(s.outsideAngular),ne(()=>o.runOutsideAngular(()=>import("./chunk-RYLOHJGV.js"))),S(()=>ru(n,o,i)),S(D=>ug(D,o,a,c,u,d,l,h)),$a({bufferSize:1,refCount:!1}));if(Fr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{m.pipe(ct()).subscribe();let D=m.pipe(ne(E=>E.getRedirectResult().then(te=>te,()=>null)),bn,$a({bufferSize:1,refCount:!1})),I=m.pipe(ne(E=>new A(te=>({unsubscribe:o.runOutsideAngular(()=>E.onAuthStateChanged(de=>te.next(de),de=>te.error(de),()=>te.complete()))})))),L=m.pipe(ne(E=>new A(te=>({unsubscribe:o.runOutsideAngular(()=>E.onIdTokenChanged(de=>te.next(de),de=>te.error(de),()=>te.complete()))}))));this.authState=D.pipe(Ga(I),Ct(s.outsideAngular),at(s.insideAngular)),this.user=D.pipe(Ga(L),Ct(s.outsideAngular),at(s.insideAngular)),this.idToken=this.user.pipe(ne(E=>E?X(E.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(ne(E=>E?X(E.getIdTokenResult()):C(null))),this.credential=ci(D,p,this.authState.pipe(me(E=>!E))).pipe(S(E=>E?.user?E:null),Ct(s.outsideAngular),at(s.insideAngular))}return Ww(this,m,o,{spy:{apply:(D,I,L)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&L.then(E=>p.next(E))}}})}static \u0275fac=function(i){return new(i||e)(v(nu),v(iu,8),v(ke),v(U),v(eu),v(rg,8),v(og,8),v(sg,8),v(ag,8),v(lg,8),v(cg,8),v(Ai,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var Zw="@firebase/database",Kw="1.0.8";var wm="";function Cm(e){wm=e}var vg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),_e(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:la(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var yg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return st(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var TC=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new vg(t)}}catch{}return new yg},Ri=TC("localStorage"),Dg=TC("sessionStorage");var no=new Ui("@firebase/database"),SC=function(){let e=1;return function(){return e++}}(),MC=function(e){let t=v_(e),n=new __;n.update(t);let i=n.digest();return aa.encodeByteArray(i)},Qs=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=Qs.apply(null,i):typeof i=="object"?t+=_e(i):t+=i,t+=" "}return t},xi=null,Qw=!0,NC=function(e,t){_(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(no.logLevel=y_.VERBOSE,xi=no.log.bind(no),t&&Dg.set("logging_enabled",!0)):typeof e=="function"?xi=e:(xi=null,Dg.remove("logging_enabled"))},Me=function(...e){if(Qw===!0&&(Qw=!1,xi===null&&Dg.get("logging_enabled")===!0&&NC(!0)),xi){let t=Qs.apply(null,e);xi(t)}},Ys=function(e){return function(...t){Me(e,...t)}},bg=function(...e){let t="FIREBASE INTERNAL ERROR: "+Qs(...e);no.error(t)},Wt=function(...e){let t=`FIREBASE FATAL ERROR: ${Qs(...e)}`;throw no.error(t),new Error(t)},Pe=function(...e){let t="FIREBASE WARNING: "+Qs(...e);no.warn(t)},EF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},IF=function(e){if(Ft()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xn="[MIN_NAME]",wn="[MAX_NAME]",Fi=function(e,t){if(e===t)return 0;if(e===Xn||t===wn)return-1;if(t===Xn||e===wn)return 1;{let n=Yw(e),i=Yw(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},TF=function(e,t){return e===t?0:e<t?-1:1},Ss=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+_e(t))},Em=function(e){if(typeof e!="object"||e===null)return _e(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=_e(t[i]),n+=":",n+=Em(e[t[i]]);return n+="}",n},AC=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ne(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var OC=function(e){_(!xu(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},SF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},MF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function NF(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var AF=new RegExp("^-?(0*)\\d{1,10}$"),OF=-2147483648,RF=2147483647,Yw=function(e){if(AF.test(e)){let t=Number(e);if(t>=OF&&t<=RF)return t}return null},ho=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Pe("Exception was thrown by user callback.",n),t},Math.floor(0))}},xF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Os=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var wg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Pe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Cg=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pe(t)}},Rs=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),au="5",RC="v",xC="s",kC="r",FC="f",PC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LC="ls",VC="p",Eg="ac",BC="websocket",jC="long_polling";var lu=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ri.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ri.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function kF(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function UC(e,t,n){_(typeof t=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let i;if(t===BC)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===jC)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);kF(e)&&(n.ns=e.namespace);let r=[];return Ne(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Ig=class{constructor(){this.counters_={}}incrementCounter(t,n=1){st(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return c_(this.counters_)}};var dg={},hg={};function Im(e){let t=e.toString();return dg[t]||(dg[t]=new Ig),dg[t]}function FF(e,t){let n=e.toString();return hg[n]||(hg[n]=t()),hg[n]}var Tg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ho(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var Jw="start",PF="close",LF="pLPCommand",VF="pRTLPCB",$C="id",HC="pw",GC="ser",BF="cb",jF="seg",UF="ts",$F="d",HF="dframe",zC=1870,WC=30,GF=zC-WC,zF=25e3,WF=3e4,Ps=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ys(t),this.stats_=Im(n),this.urlFn=l=>(this.appCheckToken&&(l[Eg]=this.appCheckToken),UC(n,jC,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Tg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WF)),IF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Sg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Jw)this.id=a,this.password=l;else if(s===PF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[Jw]="t",i[GC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[BF]=this.scriptTagHolder.uniqueCallbackIdentifier),i[RC]=au,this.transportSessionId&&(i[xC]=this.transportSessionId),this.lastSessionId&&(i[LC]=this.lastSessionId),this.applicationId&&(i[VC]=this.applicationId),this.appCheckToken&&(i[Eg]=this.appCheckToken),typeof location<"u"&&location.hostname&&PC.test(location.hostname)&&(i[kC]=FC);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ft()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SF()&&!MF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=_e(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=l_(n),r=AC(i,GF);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ft())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[HF]="t",i[$C]=t,i[HC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=_e(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Sg=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ft())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=SC(),window[LF+this.uniqueCallbackIdentifier]=t,window[VF+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Me("frame writing exception"),a.stack&&Me(a.stack),Me(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Me("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[$C]=this.myID,t[HC]=this.myPW,t[GC]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+WC+i.length<=zC;){let s=this.pendingSegs.shift();i=i+"&"+jF+r+"="+s.seg+"&"+UF+r+"="+s.ts+"&"+$F+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(zF)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Ft()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Me("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var qF=16384,ZF=45e3,cu=null;typeof MozWebSocket<"u"?cu=MozWebSocket:typeof WebSocket<"u"&&(cu=WebSocket);var eo=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ys(this.connId),this.stats_=Im(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[RC]=au,!Ft()&&typeof location<"u"&&location.hostname&&PC.test(location.hostname)&&(a[kC]=FC),i&&(a[xC]=i),r&&(a[LC]=r),o&&(a[Eg]=o),s&&(a[VC]=s),UC(n,BC,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ri.set("previous_websocket_failure",!0);try{let r;if(Ft()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${au}/${wm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new cu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&cu!==null&&!e.forceDisallow_}static previouslyFailed(){return Ri.isInMemoryStorage||Ri.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ri.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=la(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=_e(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=AC(i,qF);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZF))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),qC=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ps,eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=eo&&eo.isAvailable(),r=i&&!eo.previouslyFailed();if(n.webSocketOnly&&(i||Pe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[eo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),KF=6e4,QF=5e3,YF=10*1024,JF=100*1024,fg="t",Xw="d",XF="s",eC="r",eP="e",tC="o",nC="a",iC="n",rC="p",tP="h",Mg=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ys("c:"+this.id+":"),this.transportManager_=new qC(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Os(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fg in t){let n=t[fg];n===nC?this.upgradeIfSecondaryHealthy_():n===eC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Ss("t",t),i=Ss("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Ss("t",t),i=Ss("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Ss(fg,t);if(Xw in t){let i=t[Xw];if(n===tP){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===iC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XF?this.onConnectionShutdown_(i):n===eC?this.onReset_(i):n===eP?bg("Server Error: "+i):n===tC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bg("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),au!==i&&Pe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Os(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KF))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Os(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rC,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ri.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var uu=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var du=class{constructor(t){this.allowedEvents_=t,this.listeners_={},_(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){_(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var hu=class e extends du{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ed()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return _(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var oC=32,sC=768,Y=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Q(){return new Y("")}function $(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ei(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Y(e.pieces_,t)}function Tm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function nP(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ls(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ZC(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Y(t,0)}function ae(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Y)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Y(n,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function $e(e,t){let n=$(e),i=$(t);if(n===null)return t;if(n===i)return $e(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function iP(e,t){let n=Ls(e,0),i=Ls(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=Fi(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Sm(e,t){if(ei(e)!==ei(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function vt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(ei(e)>ei(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var Ng=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ls(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=vo(this.parts_[i]);KC(this)}};function rP(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=vo(t),KC(e)}function oP(e){let t=e.parts_.pop();e.byteLength_-=vo(t),e.parts_.length>0&&(e.byteLength_-=1)}function KC(e){if(e.byteLength_>sC)throw new Error(e.errorPrefix_+"has a key path longer than "+sC+" bytes ("+e.byteLength_+").");if(e.parts_.length>oC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oC+") or object contains a cycle "+Oi(e))}function Oi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ag=class e extends du{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return _(t==="visible","Unknown event type: "+t),[this.visible_]}};var Ms=1e3,sP=60*5*1e3,aC=30*1e3,aP=1.3,lP=3e4,cP="server_kill",lC=3,Mm=(()=>{class e extends uu{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ms,this.maxReconnectDelay_=sP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ft())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ag.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&hu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(_e(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Ee,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&st(n,"w")){let r=En(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Pe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||g_(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=aC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=p_(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):bg("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lP&&(this.reconnectDelay_=Ms),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aP)}this.onConnectStatus_(!1)}establishConnection_(){return ze(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){_(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Mg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Pe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(cP)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Pe(h),c())}}})}interrupt(n){Me("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Me("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ca(this.interruptReasons_)&&(this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>Em(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new Y(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Me("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lC&&(this.reconnectDelay_=aC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Me("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Ft()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+wm.replace(/\./g,"-")]=1,ed()?n["framework.cordova"]=1:d_()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=hu.getInstance().currentlyOnline();return ca(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),W=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var io=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new W(Xn,t),r=new W(Xn,n);return this.compare(i,r)!==0}minPost(){return W.MIN}};var su,fu=class extends io{static get __EMPTY_NODE(){return su}static set __EMPTY_NODE(t){su=t}compare(t,n){return Fi(t.name,n.name)}isDefinedOn(t){throw ji("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return W.MIN}maxPost(){return new W(wn,su)}makePost(t,n){return _(typeof t=="string","KeyIndex indexValue must always be a string."),new W(t,su)}toString(){return".key"}},zt=new fu;var to=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},xt=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return yt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Og=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new xt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},yt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new to(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new to(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new to(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new to(this.root_,null,this.comparator_,!0,t)}};yt.EMPTY_NODE=new Og;function uP(e,t){return Fi(e.name,t.name)}function Nm(e,t){return Fi(e,t)}var Rg;function dP(e){Rg=e}var QC=function(e){return typeof e=="number"?"number:"+OC(e):"string:"+e},YC=function(e){if(e.isLeafNode()){let t=e.val();_(typeof t=="string"||typeof t=="number"||typeof t=="object"&&st(t,".sv"),"Priority must be a string or number.")}else _(e===Rg||e.isEmpty(),"priority of unexpected type.");_(e===Rg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var cC,ro=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YC(this.priorityNode_)}static set __childrenNodeConstructor(n){cC=n}static get __childrenNodeConstructor(){return cC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:$(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=$(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(_(r!==".priority"||ei(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+QC(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=OC(this.value_):n+=this.value_,this.lazyHash_=MC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return _(o>=0,"Unknown leaf type: "+i),_(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),JC,XC;function hP(e){JC=e}function fP(e){XC=e}var xg=class extends io{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Fi(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(wn,new ro("[PRIORITY-POST]",XC))}makePost(t,n){let i=JC(t);return new W(n,new ro("[PRIORITY-POST]",i))}toString(){return".priority"}},se=new xg;var pP=Math.log(2),kg=class{constructor(t){let n=o=>parseInt(Math.log(o)/pP,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},pu=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new xt(h,d.node,xt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=n?n(d):d,new xt(h,d.node,xt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let D=d-p,I=d;d-=p;let L=r(D+1,I),E=e[D],te=n?n(E):E;f(new xt(te,E.node,m,null,L))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),D=Math.pow(2,l.count-(p+1));m?h(D,xt.BLACK):(h(D,xt.BLACK),h(D,xt.RED))}return u},s=new kg(e.length),a=o(s);return new yt(i||t,a)};var pg,Xr={},oo=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return _(Xr&&se,"ChildrenNode.ts has not been loaded"),pg=pg||new e({".priority":Xr},{".priority":se}),pg}get(t){let n=En(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof yt?n:null}hasIndex(t){return st(this.indexSet_,t.toString())}addIndex(t,n){_(t!==zt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(W.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=pu(i,t.getCompare()):a=Xr;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=_o(this.indexes_,(r,o)=>{let s=En(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),r===Xr)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(W.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),pu(a,s.getCompare())}else return Xr;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new W(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=_o(this.indexes_,r=>{if(r===Xr)return r;{let o=n.get(t.name);return o?r.remove(new W(t.name,o)):r}});return new e(i,this.indexSet_)}};var Ns,x=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YC(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ns||(Ns=new e(new yt(Nm),null,oo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ns}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Ns:i}}getChild(n){let i=$(n);return i===null?this:this.getImmediateChild(i).getChild(re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(_(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new W(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Ns:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=$(n);if(r===null)return i;{_($(n)!==".priority"||ei(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(re(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(se,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+QC(this.getPriority().val())+":"),this.forEachChild(se,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":MC(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new W(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new W(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new W(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Js?-1:0}withIndex(n){if(n===zt||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===zt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(se),o=i.getIterator(se),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===zt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Fg=class extends x{constructor(){super(new yt(Nm),x.EMPTY_NODE,oo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return x.EMPTY_NODE}isEmpty(){return!1}},Js=new Fg;Object.defineProperties(W,{MIN:{value:new W(Xn,x.EMPTY_NODE)},MAX:{value:new W(wn,Js)}});fu.__EMPTY_NODE=x.EMPTY_NODE;ro.__childrenNodeConstructor=x;dP(Js);fP(Js);var gP=!0;function ue(e,t=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),_(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new ro(n,ue(t))}if(!(e instanceof Array)&&gP){let n=[],i=!1;if(Ne(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=ue(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new W(s,l)))}}),n.length===0)return x.EMPTY_NODE;let o=pu(n,uP,s=>s.name,Nm);if(i){let s=pu(n,se.getCompare());return new x(o,ue(t),new oo({".priority":s},{".priority":se}))}else return new x(o,ue(t),oo.Default)}else{let n=x.EMPTY_NODE;return Ne(e,(i,r)=>{if(st(e,i)&&i.substring(0,1)!=="."){let o=ue(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(ue(t))}}hP(ue);var Vs=class extends io{constructor(t){super(),this.indexPath_=t,_(!H(t)&&$(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Fi(t.name,n.name):o}makePost(t,n){let i=ue(t),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(n,r)}maxPost(){let t=x.EMPTY_NODE.updateChild(this.indexPath_,Js);return new W(wn,t)}toString(){return Ls(this.indexPath_,0).join("/")}};var Pg=class extends io{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Fi(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(t,n){let i=ue(t);return new W(n,i)}toString(){return".value"}},Am=new Pg;function eE(e){return{type:"value",snapshotNode:e}}function so(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Bs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function js(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function mP(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Us=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){_(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(Bs(n,a)):_(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(so(n,i)):s.trackChildChange(js(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(se,(r,o)=>{n.hasChild(r)||i.trackChildChange(Bs(r,o))}),n.isLeafNode()||n.forEachChild(se,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(js(r,o,s))}else i.trackChildChange(so(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?x.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var gu=class e{constructor(t){this.indexedFilter_=new Us(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new W(n,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=x.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return n.forEachChild(se,(s,a)=>{o.matches(new W(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Lg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new gu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new W(n,i))||(i=x.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;_(a.numChildren()===this.limit_,"");let l=new W(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(js(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Bs(n,d));let m=a.updateImmediateChild(n,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(so(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Bs(c.name,c.node)),o.trackChildChange(so(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,x.EMPTY_NODE)):t}};var $s=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xn}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===se}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function _P(e){return e.loadsAllData()?new Us(e.getIndex()):e.hasLimit()?new Lg(e):new gu(e)}function vP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function yP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Vg(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function DP(e,t,n){let i;return e.index_===zt||n?i=Vg(e,t,n):i=Vg(e,t,wn),i.startAfterSet_=!0,i}function Bg(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function bP(e,t,n){let i;return e.index_===zt||n?i=Bg(e,t,n):i=Bg(e,t,Xn),i.endBeforeSet_=!0,i}function ku(e,t){let n=e.copy();return n.index_=t,n}function uC(e){let t={};if(e.isDefault())return t;let n;if(e.index_===se?n="$priority":e.index_===Am?n="$value":e.index_===zt?n="$key":(_(e.index_ instanceof Vs,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=_e(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=_e(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+_e(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=_e(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+_e(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function dC(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==se&&(t.i=e.index_.toString()),t}var jg=class e extends uu{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ys("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(_(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=uC(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),En(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=uC(t._queryParams),i=t._path.toString(),r=new Ee;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+m_(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=la(a.responseText)}catch{Pe("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Pe("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Ug=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function mu(){return{value:null,children:new Map}}function fo(e,t,n){if(H(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=$(t);e.children.has(i)||e.children.set(i,mu());let r=e.children.get(i);t=re(t),fo(r,t,n)}}function $g(e,t){if(H(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(se,(i,r)=>{fo(e,new Y(i),r)}),$g(e,t)}}else if(e.children.size>0){let n=$(t);return t=re(t),e.children.has(n)&&$g(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Hg(e,t,n){e.value!==null?n(t,e.value):wP(e,(i,r)=>{let o=new Y(t.toString()+"/"+i);Hg(r,o,n)})}function wP(e,t){e.children.forEach((n,i)=>{t(i,n)})}var Gg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ne(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var hC=10*1e3,CP=30*1e3,EP=5*60*1e3,zg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Gg(t);let i=hC+(CP-hC)*Math.random();Os(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Ne(t,(r,o)=>{o>0&&st(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Os(this.reportStats_.bind(this),Math.floor(Math.random()*2*EP))}};var Gt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Gt||{});function Om(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Wg=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Gt.ACK_USER_WRITE,this.source=Om()}operationForChild(t){if(H(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Y(t));return new e(Q(),n,this.revert)}}else return _($(this.path)===t,"operationForChild called for unrelated child."),new e(re(this.path),this.affectedTree,this.revert)}};var _u=class e{constructor(t,n){this.source=t,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(t){return H(this.path)?new e(this.source,Q()):new e(this.source,re(this.path))}};var ao=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Gt.OVERWRITE}operationForChild(t){return H(this.path)?new e(this.source,Q(),this.snap.getImmediateChild(t)):new e(this.source,re(this.path),this.snap)}};var Hs=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Gt.MERGE}operationForChild(t){if(H(this.path)){let n=this.children.subtree(new Y(t));return n.isEmpty()?null:n.value?new ao(this.source,Q(),n.value):new e(this.source,Q(),n)}else return _($(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var qt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(H(t))return this.isFullyInitialized()&&!this.filtered_;let n=$(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var qg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function IP(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(mP(s.childName,s.snapshotNode))}),As(e,r,"child_removed",t,i,n),As(e,r,"child_added",t,i,n),As(e,r,"child_moved",o,i,n),As(e,r,"child_changed",t,i,n),As(e,r,"value",t,i,n),r}function As(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>SP(e,a,l)),s.forEach(a=>{let l=TP(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function TP(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function SP(e,t,n){if(t.childName==null||n.childName==null)throw ji("Should only compare child_ events.");let i=new W(t.childName,t.snapshotNode),r=new W(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Fu(e,t){return{eventCache:e,serverCache:t}}function xs(e,t,n,i){return Fu(new qt(t,n,i),e.serverCache)}function tE(e,t,n,i){return Fu(e.eventCache,new qt(t,n,i))}function vu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ki(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var gg,MP=()=>(gg||(gg=new yt(TF)),gg),He=class e{constructor(t,n=MP()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Ne(t,(i,r)=>{n=n.set(new Y(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(H(t))return null;{let i=$(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(re(t),n);return o!=null?{path:ae(new Y(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(H(t))return this;{let n=$(t),i=this.children.get(n);return i!==null?i.subtree(re(t)):new e(null)}}set(t,n){if(H(t))return new e(n,this.children);{let i=$(t),o=(this.children.get(i)||new e(null)).set(re(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(H(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=$(t),i=this.children.get(n);if(i){let r=i.remove(re(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(H(t))return this.value;{let n=$(t),i=this.children.get(n);return i?i.get(re(t)):null}}setTree(t,n){if(H(t))return n;{let i=$(t),o=(this.children.get(i)||new e(null)).setTree(re(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(Q(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ae(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Q(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(H(t))return null;{let o=$(t),s=this.children.get(o);return s?s.findOnPath_(re(t),ae(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Q(),n)}foreachOnPath_(t,n,i){if(H(t))return this;{this.value&&i(n,this.value);let r=$(t),o=this.children.get(r);return o?o.foreachOnPath_(re(t),ae(n,r),i):new e(null)}}foreach(t){this.foreach_(Q(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ae(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var kt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new He(null))}};function ks(e,t,n){if(H(t))return new kt(new He(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=$e(r,t);return o=o.updateChild(s,n),new kt(e.writeTree_.set(r,o))}else{let r=new He(n),o=e.writeTree_.setTree(t,r);return new kt(o)}}}function Zg(e,t,n){let i=e;return Ne(n,(r,o)=>{i=ks(i,ae(t,r),o)}),i}function fC(e,t){if(H(t))return kt.empty();{let n=e.writeTree_.setTree(t,new He(null));return new kt(n)}}function Kg(e,t){return Pi(e,t)!=null}function Pi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild($e(n.path,t)):null}function pC(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(se,(i,r)=>{t.push(new W(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new W(i,r.value))}),t}function Yn(e,t){if(H(t))return e;{let n=Pi(e,t);return n!=null?new kt(new He(n)):new kt(e.writeTree_.subtree(t))}}function Qg(e){return e.writeTree_.isEmpty()}function lo(e,t){return nE(Q(),e.writeTree_,t)}function nE(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=nE(ae(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ae(e,".priority"),i)),n}}function Pu(e,t){return sE(t,e)}function NP(e,t,n,i,r){_(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=ks(e.visibleWrites,t,n)),e.lastWriteId=i}function AP(e,t,n,i){_(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=Zg(e.visibleWrites,t,n),e.lastWriteId=i}function OP(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function RP(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);_(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&xP(a,i.path)?r=!1:vt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return kP(e),!0;if(i.snap)e.visibleWrites=fC(e.visibleWrites,i.path);else{let a=i.children;Ne(a,l=>{e.visibleWrites=fC(e.visibleWrites,ae(i.path,l))})}return!0}else return!1}function xP(e,t){if(e.snap)return vt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&vt(ae(e.path,n),t))return!0;return!1}function kP(e){e.visibleWrites=iE(e.allWrites,FP,Q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function FP(e){return e.visible}function iE(e,t,n){let i=kt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)vt(n,s)?(a=$e(n,s),i=ks(i,a,o.snap)):vt(s,n)&&(a=$e(s,n),i=ks(i,Q(),o.snap.getChild(a)));else if(o.children){if(vt(n,s))a=$e(n,s),i=Zg(i,a,o.children);else if(vt(s,n))if(a=$e(s,n),H(a))i=Zg(i,Q(),o.children);else{let l=En(o.children,$(a));if(l){let c=l.getChild(re(a));i=ks(i,Q(),c)}}}else throw ji("WriteRecord should have .snap or .children")}}return i}function rE(e,t,n,i,r){if(!i&&!r){let o=Pi(e.visibleWrites,t);if(o!=null)return o;{let s=Yn(e.visibleWrites,t);if(Qg(s))return n;if(n==null&&!Kg(s,Q()))return null;{let a=n||x.EMPTY_NODE;return lo(s,a)}}}else{let o=Yn(e.visibleWrites,t);if(!r&&Qg(o))return n;if(!r&&n==null&&!Kg(o,Q()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(vt(c.path,t)||vt(t,c.path))},a=iE(e.allWrites,s,t),l=n||x.EMPTY_NODE;return lo(a,l)}}}function PP(e,t,n){let i=x.EMPTY_NODE,r=Pi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(se,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Yn(e.visibleWrites,t);return n.forEachChild(se,(s,a)=>{let l=lo(Yn(o,new Y(s)),a);i=i.updateImmediateChild(s,l)}),pC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Yn(e.visibleWrites,t);return pC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function LP(e,t,n,i,r){_(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ae(t,n);if(Kg(e.visibleWrites,o))return null;{let s=Yn(e.visibleWrites,o);return Qg(s)?r.getChild(n):lo(s,r.getChild(n))}}function VP(e,t,n,i){let r=ae(t,n),o=Pi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Yn(e.visibleWrites,r);return lo(s,i.getNode().getImmediateChild(n))}else return null}function BP(e,t){return Pi(e.visibleWrites,t)}function jP(e,t,n,i,r,o,s){let a,l=Yn(e.visibleWrites,t),c=Pi(l,Q());if(c!=null)a=c;else if(n!=null)a=lo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function UP(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function yu(e,t,n,i){return rE(e.writeTree,e.treePath,t,n,i)}function km(e,t){return PP(e.writeTree,e.treePath,t)}function gC(e,t,n,i){return LP(e.writeTree,e.treePath,t,n,i)}function Du(e,t){return BP(e.writeTree,ae(e.treePath,t))}function $P(e,t,n,i,r,o){return jP(e.writeTree,e.treePath,t,n,i,r,o)}function Fm(e,t,n){return VP(e.writeTree,e.treePath,t,n)}function oE(e,t){return sE(ae(e.treePath,t),e.writeTree)}function sE(e,t){return{treePath:e,writeTree:t}}var Yg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,js(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Bs(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,so(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,js(i,t.snapshotNode,r.oldSnap));else throw ji("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var Jg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},aE=new Jg,Gs=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ki(this.viewCache_),o=$P(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function HP(e){return{filter:e}}function GP(e,t){_(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),_(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function zP(e,t,n,i,r){let o=new Yg,s,a;if(n.type===Gt.OVERWRITE){let c=n;c.source.fromUser?s=Xg(e,t,c.path,c.snap,i,r,o):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!H(c.path),s=bu(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Gt.MERGE){let c=n;c.source.fromUser?s=qP(e,t,c.path,c.children,i,r,o):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=em(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Gt.ACK_USER_WRITE){let c=n;c.revert?s=QP(e,t,c.path,i,r,o):s=ZP(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Gt.LISTEN_COMPLETE)s=KP(e,t,n.path,i,o);else throw ji("Unknown operation type: "+n.type);let l=o.getChanges();return WP(t,s,l),{viewCache:s,changes:l}}function WP(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=vu(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(eE(vu(t)))}}function lE(e,t,n,i,r,o){let s=t.eventCache;if(Du(i,n)!=null)return t;{let a,l;if(H(n))if(_(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=ki(t),u=c instanceof x?c:x.EMPTY_NODE,d=km(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=yu(i,ki(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=$(n);if(c===".priority"){_(ei(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=gC(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=re(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=gC(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=Fm(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return xs(t,a,s.isFullyInitialized()||H(n),e.filter.filtersNodes())}}function bu(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(H(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=$(n);if(!l.isCompleteForPath(n)&&ei(n)>1)return t;let p=re(n),D=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),D):c=u.updateChild(l.getNode(),f,D,p,aE,null)}let d=tE(t,c,l.isFullyInitialized()||H(n),u.filtersNodes()),h=new Gs(r,d,o);return lE(e,d,n,r,h,a)}function Xg(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new Gs(r,t,o);if(H(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=xs(t,c,!0,e.filter.filtersNodes());else{let d=$(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=xs(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=re(n),f=a.getNode().getImmediateChild(d),p;if(H(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Tm(h)===".priority"&&m.getChild(ZC(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=t;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=xs(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function mC(e,t){return e.eventCache.isCompleteForChild(t)}function qP(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=ae(n,l);mC(t,$(u))&&(a=Xg(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ae(n,l);mC(t,$(u))||(a=Xg(e,a,u,c,r,o,s))}),a}function _C(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function em(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;H(n)?c=i:c=new He(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=_C(e,f,h);l=bu(e,l,new Y(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),m=_C(e,p,h);l=bu(e,l,new Y(d),m,r,o,s,a)}}),l}function ZP(e,t,n,i,r,o,s){if(Du(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(H(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bu(e,t,n,l.getNode().getChild(n),r,o,a,s);if(H(n)){let c=new He(null);return l.getNode().forEachChild(zt,(u,d)=>{c=c.set(new Y(u),d)}),em(e,t,n,c,r,o,a,s)}else return t}else{let c=new He(null);return i.foreach((u,d)=>{let h=ae(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),em(e,t,n,c,r,o,a,s)}}function KP(e,t,n,i,r){let o=t.serverCache,s=tE(t,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return lE(e,s,n,i,aE,r)}function QP(e,t,n,i,r,o){let s;if(Du(i,n)!=null)return t;{let a=new Gs(i,t,r),l=t.eventCache.getNode(),c;if(H(n)||$(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=yu(i,ki(t));else{let d=t.serverCache.getNode();_(d instanceof x,"serverChildren would be complete if leaf node"),u=km(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=$(n),d=Fm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,re(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,re(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yu(i,ki(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Du(i,Q())!=null,xs(t,c,s,e.filter.filtersNodes())}}var tm=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Us(i.getIndex()),o=_P(i);this.processor_=HP(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new qt(l,s.isFullyInitialized(),r.filtersNodes()),d=new qt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Fu(d,u),this.eventGenerator_=new qg(this.query_)}get query(){return this.query_}};function YP(e){return e.viewCache_.serverCache.getNode()}function JP(e){return vu(e.viewCache_)}function XP(e,t){let n=ki(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!H(t)&&!n.getImmediateChild($(t)).isEmpty())?n.getChild(t):null}function vC(e){return e.eventRegistrations_.length===0}function eL(e,t){e.eventRegistrations_.push(t)}function yC(e,t,n){let i=[];if(n){_(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function DC(e,t,n,i){t.type===Gt.MERGE&&t.source.queryId!==null&&(_(ki(e.viewCache_),"We should always have a full cache before handling merges"),_(vu(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=zP(e.processor_,r,t,n,i);return GP(e.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,cE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function tL(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(se,(o,s)=>{i.push(so(o,s))}),n.isFullyInitialized()&&i.push(eE(n.getNode())),cE(e,i,n.getNode(),t)}function cE(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return IP(e.eventGenerator_,t,n,r)}var wu,Cu=class{constructor(){this.views=new Map}};function nL(e){_(!wu,"__referenceConstructor has already been defined"),wu=e}function iL(){return _(wu,"Reference.ts has not been loaded"),wu}function rL(e){return e.views.size===0}function Pm(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return _(o!=null,"SyncTree gave us an op for an invalid query."),DC(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(DC(s,t,n,i));return o}}function uE(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=yu(n,r?i:null),l=!1;a?l=!0:i instanceof x?(a=km(n,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=Fu(new qt(a,l,!1),new qt(i,r,!1));return new tm(t,c)}return s}function oL(e,t,n,i,r,o){let s=uE(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),eL(s,n),tL(s,n)}function sL(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=ti(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(yC(c,n,i)),vC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(yC(l,n,i)),vC(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!ti(e)&&o.push(new(iL())(t._repo,t._path)),{removed:o,events:s}}function dE(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Jn(e,t){let n=null;for(let i of e.views.values())n=n||XP(i,t);return n}function hE(e,t){if(t._queryParams.loadsAllData())return Lu(e);{let i=t._queryIdentifier;return e.views.get(i)}}function fE(e,t){return hE(e,t)!=null}function ti(e){return Lu(e)!=null}function Lu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Eu;function aL(e){_(!Eu,"__referenceConstructor has already been defined"),Eu=e}function lL(){return _(Eu,"Reference.ts has not been loaded"),Eu}var cL=1,Iu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_=UP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Lm(e,t,n,i,r){return NP(e.pendingWriteTree_,t,n,i,r),r?po(e,new ao(Om(),t,n)):[]}function uL(e,t,n,i){AP(e.pendingWriteTree_,t,n,i);let r=He.fromObject(n);return po(e,new Hs(Om(),t,r))}function Qn(e,t,n=!1){let i=OP(e.pendingWriteTree_,t);if(RP(e.pendingWriteTree_,t)){let o=new He(null);return i.snap!=null?o=o.set(Q(),!0):Ne(i.children,s=>{o=o.set(new Y(s),!0)}),po(e,new Wg(i.path,o,n))}else return[]}function Xs(e,t,n){return po(e,new ao(Rm(),t,n))}function dL(e,t,n){let i=He.fromObject(n);return po(e,new Hs(Rm(),t,i))}function hL(e,t){return po(e,new _u(Rm(),t))}function fL(e,t,n){let i=Vm(e,n);if(i){let r=Bm(i),o=r.path,s=r.queryId,a=$e(o,t),l=new _u(xm(s),a);return jm(e,o,l)}else return[]}function Tu(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||fE(s,t))){let l=sL(s,t,n,i);rL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>ti(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=mL(h);for(let p=0;p<f.length;++p){let m=f[p],D=m.query,I=_E(e,m);e.listenProvider_.startListening(Fs(D),zs(e,D),I.hashFn,I.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Fs(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(Bu(h));e.listenProvider_.stopListening(Fs(h),f)}))}_L(e,c)}return a}function pE(e,t,n,i){let r=Vm(e,i);if(r!=null){let o=Bm(r),s=o.path,a=o.queryId,l=$e(s,t),c=new ao(xm(a),l,n);return jm(e,s,c)}else return[]}function pL(e,t,n,i){let r=Vm(e,i);if(r){let o=Bm(r),s=o.path,a=o.queryId,l=$e(s,t),c=He.fromObject(n),u=new Hs(xm(a),l,c);return jm(e,s,u)}else return[]}function nm(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=$e(h,r);o=o||Jn(f,p),s=s||ti(f)});let a=e.syncPointTree_.get(r);a?(s=s||ti(a),o=o||Jn(a,Q())):(a=new Cu,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=Jn(p,Q());m&&(o=o.updateImmediateChild(f,m))}));let c=fE(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=Bu(t);_(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=vL();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=Pu(e.pendingWriteTree_,r),d=oL(a,t,n,u,o,l);if(!c&&!s&&!i){let h=hE(a,t);d=d.concat(yL(e,t,h))}return d}function Vu(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=$e(s,t),c=Jn(a,l);if(c)return c});return rE(r,t,o,n,!0)}function gL(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=$e(c,n);i=i||Jn(u,d)});let r=e.syncPointTree_.get(n);r?i=i||Jn(r,Q()):(r=new Cu,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new qt(i,!0,!1):null,a=Pu(e.pendingWriteTree_,t._path),l=uE(r,t,a,o?s.getNode():x.EMPTY_NODE,o);return JP(l)}function po(e,t){return gE(t,e.syncPointTree_,null,Pu(e.pendingWriteTree_,Q()))}function gE(e,t,n,i){if(H(e.path))return mE(e,t,n,i);{let r=t.get(Q());n==null&&r!=null&&(n=Jn(r,Q()));let o=[],s=$(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=oE(i,s);o=o.concat(gE(a,l,c,u))}return r&&(o=o.concat(Pm(r,e,i,n))),o}}function mE(e,t,n,i){let r=t.get(Q());n==null&&r!=null&&(n=Jn(r,Q()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=oE(i,s),u=e.operationForChild(s);u&&(o=o.concat(mE(u,a,l,c)))}),r&&(o=o.concat(Pm(r,e,i,n))),o}function _E(e,t){let n=t.query,i=zs(e,n);return{hashFn:()=>(YP(t)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?fL(e,n._path,i):hL(e,n._path);{let o=NF(r,n);return Tu(e,n,null,o)}}}}function zs(e,t){let n=Bu(t);return e.queryToTagMap.get(n)}function Bu(e){return e._path.toString()+"$"+e._queryIdentifier}function Vm(e,t){return e.tagToQueryMap.get(t)}function Bm(e){let t=e.indexOf("$");return _(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Y(e.substr(0,t))}}function jm(e,t,n){let i=e.syncPointTree_.get(t);_(i,"Missing sync point for query tag that we're tracking");let r=Pu(e.pendingWriteTree_,t);return Pm(i,n,r,null)}function mL(e){return e.fold((t,n,i)=>{if(n&&ti(n))return[Lu(n)];{let r=[];return n&&(r=dE(n)),Ne(i,(o,s)=>{r=r.concat(s)}),r}})}function Fs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(lL())(e._repo,e._path):e}function _L(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Bu(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function vL(){return cL++}function yL(e,t,n){let i=t._path,r=zs(e,t),o=_E(e,n),s=e.listenProvider_.startListening(Fs(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)_(!ti(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!H(c)&&u&&ti(u))return[Lu(u).query];{let h=[];return u&&(h=h.concat(dE(u).map(f=>f.query))),Ne(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Fs(u),zs(e,u))}}return s}var im=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},rm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ae(this.path_,t);return new e(this.syncTree_,n)}node(){return Vu(this.syncTree_,this.path_)}},DL=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bC=function(e,t,n){if(!e||typeof e!="object")return e;if(_(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return bL(e[".sv"],t,n);if(typeof e[".sv"]=="object")return wL(e[".sv"],t);_(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},bL=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+e)}},wL=function(e,t,n){e.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&_(!1,"Unexpected increment value: "+i);let r=t.node();if(_(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},vE=function(e,t,n,i){return $m(t,new rm(n,e),i)},Um=function(e,t,n){return $m(e,new im(t),n)};function $m(e,t,n){let i=e.getPriority().val(),r=bC(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=bC(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new ro(a,ue(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new ro(r))),s.forEachChild(se,(a,l)=>{let c=$m(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ws=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function ju(e,t){let n=t instanceof Y?t:new Y(t),i=e,r=$(n);for(;r!==null;){let o=En(i.node.children,r)||{children:{},childCount:0};i=new Ws(r,i,o),n=re(n),r=$(n)}return i}function Li(e){return e.node.value}function Hm(e,t){e.node.value=t,om(e)}function yE(e){return e.node.childCount>0}function CL(e){return Li(e)===void 0&&!yE(e)}function Uu(e,t){Ne(e.node.children,(n,i)=>{t(new Ws(n,e,i))})}function DE(e,t,n,i){n&&!i&&t(e),Uu(e,r=>{DE(r,t,!0,i)}),n&&i&&t(e)}function EL(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ea(e){return new Y(e.parent===null?e.name:ea(e.parent)+"/"+e.name)}function om(e){e.parent!==null&&IL(e.parent,e.name,e)}function IL(e,t,n){let i=CL(n),r=st(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,om(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,om(e))}var TL=/[\[\].#$\/\u0000-\u001F\u007F]/,SL=/[\[\].#$\u0000-\u001F\u007F]/,mg=10*1024*1024,$u=function(e){return typeof e=="string"&&e.length!==0&&!TL.test(e)},bE=function(e){return typeof e=="string"&&e.length!==0&&!SL.test(e)},ML=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bE(e)},qs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!xu(e)||e&&typeof e=="object"&&st(e,".sv")},Zt=function(e,t,n,i){i&&t===void 0||ta(We(e,"value"),t,n)},ta=function(e,t,n){let i=n instanceof Y?new Ng(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Oi(i));if(typeof t=="function")throw new Error(e+"contains a function "+Oi(i)+" with contents = "+t.toString());if(xu(t))throw new Error(e+"contains "+t.toString()+" "+Oi(i));if(typeof t=="string"&&t.length>mg/3&&vo(t)>mg)throw new Error(e+"contains a string greater than "+mg+" utf8 bytes "+Oi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Ne(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!$u(s)))throw new Error(e+" contains an invalid key ("+s+") "+Oi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rP(i,s),ta(e,a,i),oP(i)}),r&&o)throw new Error(e+' contains ".value" child '+Oi(i)+" in addition to actual children.")}},NL=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Ls(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!$u(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(iP);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&vt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},wE=function(e,t,n,i){if(i&&t===void 0)return;let r=We(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Ne(t,(s,a)=>{let l=new Y(s);if(ta(r,a,ae(n,l)),Tm(l)===".priority"&&!qs(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),NL(r,o)},Gm=function(e,t,n){if(!(n&&t===void 0)){if(xu(t))throw new Error(We(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qs(t))throw new Error(We(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},na=function(e,t,n,i){if(!(i&&n===void 0)&&!$u(n))throw new Error(We(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},go=function(e,t,n,i){if(!(i&&n===void 0)&&!bE(n))throw new Error(We(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AL=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),go(e,t,n,i)},nt=function(e,t){if($(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},CE=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$u(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ML(n))throw new Error(We(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var sm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Hu(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!Sm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function EE(e,t,n){Hu(e,n),IE(e,i=>Sm(i,t))}function it(e,t,n){Hu(e,n),IE(e,i=>vt(i,t)||vt(t,i))}function IE(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(OL(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function OL(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();xi&&Me("event: "+n.toString()),ho(i)}}}var TE="repo_interrupt",RL=25,am=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mu(),this.transactionQueueTree_=new Ws,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function xL(e,t,n){if(e.stats_=Im(e.repoInfo_),e.forceRestClient_||xF())e.server_=new jg(e.repoInfo_,(i,r,o,s)=>{wC(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>CC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Mm(e.repoInfo_,t,(i,r,o,s)=>{wC(e,i,r,o,s)},i=>{CC(e,i)},i=>{kL(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=FF(e.repoInfo_,()=>new zg(e.stats_,e.server_)),e.infoData_=new Ug,e.infoSyncTree_=new Iu({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=Xs(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),zm(e,"connected",!1),e.serverSyncTree_=new Iu({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);it(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function SE(e){let n=e.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ia(e){return DL({timestamp:SE(e)})}function wC(e,t,n,i,r){e.dataUpdateCount++;let o=new Y(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=_o(n,c=>ue(c));s=pL(e.serverSyncTree_,o,l,r)}else{let l=ue(n);s=pE(e.serverSyncTree_,o,l,r)}else if(i){let l=_o(n,c=>ue(c));s=dL(e.serverSyncTree_,o,l)}else{let l=ue(n);s=Xs(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=co(e,o)),it(e.eventQueue_,a,s)}function CC(e,t){zm(e,"connected",t),t===!1&&LL(e)}function kL(e,t){Ne(t,(n,i)=>{zm(e,n,i)})}function zm(e,t,n){let i=new Y("/.info/"+t),r=ue(n);e.infoData_.updateSnapshot(i,r);let o=Xs(e.infoSyncTree_,i,r);it(e.eventQueue_,i,o)}function Gu(e){return e.nextWriteId_++}function FL(e,t,n){let i=gL(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=ue(r).withIndex(t._queryParams.getIndex());nm(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Xs(e.serverSyncTree_,t._path,o);else{let a=zs(e.serverSyncTree_,t);s=pE(e.serverSyncTree_,t._path,o,a)}return it(e.eventQueue_,t._path,s),Tu(e.serverSyncTree_,t,n,null,!0),o},r=>(mo(e,"get for query "+_e(t)+" failed: "+r),Promise.reject(new Error(r))))}function Wm(e,t,n,i,r){mo(e,"set",{path:t.toString(),value:n,priority:i});let o=ia(e),s=ue(n,i),a=Vu(e.serverSyncTree_,t),l=Um(s,a,o),c=Gu(e),u=Lm(e.serverSyncTree_,t,l,c,!0);Hu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||Pe("set at "+t+" failed: "+h);let m=Qn(e.serverSyncTree_,c,!p);it(e.eventQueue_,t,m),ni(e,r,h,f)});let d=Zm(e,t);co(e,d),it(e.eventQueue_,d,[])}function PL(e,t,n,i){mo(e,"update",{path:t.toString(),value:n});let r=!0,o=ia(e),s={};if(Ne(n,(a,l)=>{r=!1,s[a]=vE(ae(t,a),ue(l),e.serverSyncTree_,o)}),r)Me("update() called with empty data.  Don't do anything."),ni(e,i,"ok",void 0);else{let a=Gu(e),l=uL(e.serverSyncTree_,t,s,a);Hu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||Pe("update at "+t+" failed: "+c);let h=Qn(e.serverSyncTree_,a,!d),f=h.length>0?co(e,t):t;it(e.eventQueue_,f,h),ni(e,i,c,u)}),Ne(n,c=>{let u=Zm(e,ae(t,c));co(e,u)}),it(e.eventQueue_,t,[])}}function LL(e){mo(e,"onDisconnectEvents");let t=ia(e),n=mu();Hg(e.onDisconnect_,Q(),(r,o)=>{let s=vE(r,o,e.serverSyncTree_,t);fo(n,r,s)});let i=[];Hg(n,Q(),(r,o)=>{i=i.concat(Xs(e.serverSyncTree_,r,o));let s=Zm(e,r);co(e,s)}),e.onDisconnect_=mu(),it(e.eventQueue_,Q(),i)}function VL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&$g(e.onDisconnect_,t),ni(e,n,i,r)})}function EC(e,t,n,i){let r=ue(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&fo(e.onDisconnect_,t,r),ni(e,i,o,s)})}function BL(e,t,n,i,r){let o=ue(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&fo(e.onDisconnect_,t,o),ni(e,r,s,a)})}function jL(e,t,n,i){if(ca(n)){Me("onDisconnect().update() called with empty data.  Don't do anything."),ni(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Ne(n,(s,a)=>{let l=ue(a);fo(e.onDisconnect_,ae(t,s),l)}),ni(e,i,r,o)})}function UL(e,t,n){let i;$(t._path)===".info"?i=nm(e.infoSyncTree_,t,n):i=nm(e.serverSyncTree_,t,n),EE(e.eventQueue_,t._path,i)}function lm(e,t,n){let i;$(t._path)===".info"?i=Tu(e.infoSyncTree_,t,n):i=Tu(e.serverSyncTree_,t,n),EE(e.eventQueue_,t._path,i)}function ME(e){e.persistentConnection_&&e.persistentConnection_.interrupt(TE)}function $L(e){e.persistentConnection_&&e.persistentConnection_.resume(TE)}function mo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Me(n,...t)}function ni(e,t,n,i){t&&ho(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function HL(e,t,n,i,r,o){mo(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:SC(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=qm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ta("transaction failed: Data returned ",l,s.path),s.status=0;let c=ju(e.transactionQueueTree_,t),u=Li(c)||[];u.push(s),Hm(c,u);let d;typeof l=="object"&&l!==null&&st(l,".priority")?(d=En(l,".priority"),_(qs(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Vu(e.serverSyncTree_,t)||x.EMPTY_NODE).getPriority().val();let h=ia(e),f=ue(l,d),p=Um(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Gu(e);let m=Lm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);it(e.eventQueue_,t,m),zu(e,e.transactionQueueTree_)}}function qm(e,t,n){return Vu(e.serverSyncTree_,t,n)||x.EMPTY_NODE}function zu(e,t=e.transactionQueueTree_){if(t||Wu(e,t),Li(t)){let n=AE(e,t);_(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&GL(e,ea(t),n)}else yE(t)&&Uu(t,n=>{zu(e,n)})}function GL(e,t,n){let i=n.map(c=>c.currentWriteId),r=qm(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=$e(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{mo(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Qn(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Wu(e,ju(e.transactionQueueTree_,t)),zu(e,e.transactionQueueTree_),it(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)ho(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Pe("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}co(e,t)}},s)}function co(e,t){let n=NE(e,t),i=ea(n),r=AE(e,n);return zL(e,r,i),i}function zL(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=$e(n,l.path),u=!1,d;if(_(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Qn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=RL)u=!0,d="maxretry",r=r.concat(Qn(e.serverSyncTree_,l.currentWriteId,!0));else{let h=qm(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){ta("transaction failed: Data returned ",f,l.path);let p=ue(f);typeof f=="object"&&f!=null&&st(f,".priority")||(p=p.updatePriority(h.getPriority()));let D=l.currentWriteId,I=ia(e),L=Um(p,h,I);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=L,l.currentWriteId=Gu(e),s.splice(s.indexOf(D),1),r=r.concat(Lm(e.serverSyncTree_,l.path,L,l.currentWriteId,l.applyLocally)),r=r.concat(Qn(e.serverSyncTree_,D,!0))}else u=!0,d="nodata",r=r.concat(Qn(e.serverSyncTree_,l.currentWriteId,!0))}it(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Wu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)ho(i[a]);zu(e,e.transactionQueueTree_)}function NE(e,t){let n,i=e.transactionQueueTree_;for(n=$(t);n!==null&&Li(i)===void 0;)i=ju(i,n),t=re(t),n=$(t);return i}function AE(e,t){let n=[];return OE(e,t,n),n.sort((i,r)=>i.order-r.order),n}function OE(e,t,n){let i=Li(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Uu(t,r=>{OE(e,r,n)})}function Wu(e,t){let n=Li(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Hm(t,n.length>0?n:void 0)}Uu(t,i=>{Wu(e,i)})}function Zm(e,t){let n=ea(NE(e,t)),i=ju(e.transactionQueueTree_,t);return EL(i,r=>{_g(e,r)}),_g(e,i),DE(i,r=>{_g(e,r)}),n}function _g(e,t){let n=Li(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Qn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Hm(t,void 0):n.length=o+1,it(e.eventQueue_,ea(t),r);for(let s=0;s<i.length;s++)ho(i[s])}}function WL(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function qL(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pe(`Invalid query segment '${n}' in query '${e}'`)}return t}var cm=function(e,t){let n=ZL(e),i=n.namespace;n.domain==="firebase.com"&&Wt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||EF();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lu(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Y(n.pathString)}},ZL=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=WL(e.substring(u,d)));let h=qL(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var IC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KL=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=IC.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=IC.charAt(t[r]);return _(s.length===20,"nextPushId: Length should be 20."),s}}();var Su=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Mu=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Zs=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Nu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ee;return VL(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){nt("OnDisconnect.remove",this._path);let t=new Ee;return EC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){nt("OnDisconnect.set",this._path),Zt("OnDisconnect.set",t,this._path,!1);let n=new Ee;return EC(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){nt("OnDisconnect.setWithPriority",this._path),Zt("OnDisconnect.setWithPriority",t,this._path,!1),Gm("OnDisconnect.setWithPriority",n,!1);let i=new Ee;return BL(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){nt("OnDisconnect.update",this._path),wE("OnDisconnect.update",t,this._path,!1);let n=new Ee;return jL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ge=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return H(this._path)?null:Tm(this._path)}get ref(){return new rt(this._repo,this._path)}get _queryIdentifier(){let t=dC(this._queryParams),n=Em(t);return n==="{}"?"default":n}get _queryObject(){return dC(this._queryParams)}isEqual(t){if(t=Le(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=Sm(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+nP(this._path)}};function qu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function ri(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===zt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Xn)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==wn)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===se){if(t!=null&&!qs(t)||n!=null&&!qs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(_(e.getIndex()instanceof Vs||e.getIndex()===Am,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zu(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var rt=class e extends Ge{constructor(t,n){super(t,n,new $s,!1)}get parent(){let t=ZC(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},uo=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Y(t),i=ii(this.ref,t);return new e(this._node.getChild(n),i,se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,ii(this.ref,i),se)))}hasChild(t){let n=new Y(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Km(e,t){return e=Le(e),e._checkNotDeleted("ref"),t!==void 0?ii(e._root,t):e._root}function Qm(e,t){e=Le(e),e._checkNotDeleted("refFromURL");let n=cm(t,e._repo.repoInfo_.nodeAdmin);CE("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Wt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),Km(e,n.path.toString())}function ii(e,t){return e=Le(e),$(e._path)===null?AL("child","path",t,!1):go("child","path",t,!1),new rt(e._repo,ae(e._path,t))}function RE(e,t){e=Le(e),nt("push",e._path),Zt("push",t,e._path,!0);let n=SE(e._repo),i=KL(n),r=ii(e,i),o=ii(e,i),s;return t!=null?s=Ku(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function xE(e){return nt("remove",e._path),Ku(e,null)}function Ku(e,t){e=Le(e),nt("set",e._path),Zt("set",t,e._path,!1);let n=new Ee;return Wm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function kE(e,t){e=Le(e),nt("setPriority",e._path),Gm("setPriority",t,!1);let n=new Ee;return Wm(e._repo,ae(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function FE(e,t,n){if(nt("setWithPriority",e._path),Zt("setWithPriority",t,e._path,!1),Gm("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Ee;return Wm(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function PE(e,t){wE("update",t,e._path,!1);let n=new Ee;return PL(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function LE(e){e=Le(e);let t=new Zs(()=>{}),n=new Ks(t);return FL(e._repo,e,n).then(i=>new uo(i,new rt(e._repo,e._path),e._queryParams.getIndex()))}var Ks=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new Su("value",this,new uo(t.snapshotNode,new rt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Mu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Au=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Mu(this,t,n):null}createEvent(t,n){_(t.childName!=null,"Child events should have a childName.");let i=ii(new rt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new Su(t.type,this,new uo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ra(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{lm(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Zs(n,o||void 0),a=t==="value"?new Ks(s):new Au(t,s);return UL(e._repo,e,a),()=>lm(e._repo,e,a)}function Qu(e,t,n,i){return ra(e,"value",t,n,i)}function Ym(e,t,n,i){return ra(e,"child_added",t,n,i)}function Jm(e,t,n,i){return ra(e,"child_changed",t,n,i)}function Xm(e,t,n,i){return ra(e,"child_moved",t,n,i)}function e_(e,t,n,i){return ra(e,"child_removed",t,n,i)}function t_(e,t,n){let i=null,r=n?new Zs(n):null;t==="value"?i=new Ks(r):t&&(i=new Au(t,r)),lm(e._repo,e,i)}var ot=class{},Ou=class extends ot{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Zt("endAt",this._value,t._path,!0);let n=Bg(t._queryParams,this._value,this._key);if(Zu(n),ri(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function VE(e,t){return na("endAt","key",t,!0),new Ou(e,t)}var um=class extends ot{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Zt("endBefore",this._value,t._path,!1);let n=bP(t._queryParams,this._value,this._key);if(Zu(n),ri(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function BE(e,t){return na("endBefore","key",t,!0),new um(e,t)}var Ru=class extends ot{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Zt("startAt",this._value,t._path,!0);let n=Vg(t._queryParams,this._value,this._key);if(Zu(n),ri(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function jE(e=null,t){return na("startAt","key",t,!0),new Ru(e,t)}var dm=class extends ot{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Zt("startAfter",this._value,t._path,!1);let n=DP(t._queryParams,this._value,this._key);if(Zu(n),ri(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function UE(e,t){return na("startAfter","key",t,!0),new dm(e,t)}var hm=class extends ot{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(t._repo,t._path,vP(t._queryParams,this._limit),t._orderByCalled)}};function $E(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new hm(e)}var fm=class extends ot{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(t._repo,t._path,yP(t._queryParams,this._limit),t._orderByCalled)}};function HE(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fm(e)}var pm=class extends ot{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){qu(t,"orderByChild");let n=new Y(this._path);if(H(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Vs(n),r=ku(t._queryParams,i);return ri(r),new Ge(t._repo,t._path,r,!0)}};function GE(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return go("orderByChild","path",e,!1),new pm(e)}var gm=class extends ot{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){qu(t,"orderByKey");let n=ku(t._queryParams,zt);return ri(n),new Ge(t._repo,t._path,n,!0)}};function zE(){return new gm}var mm=class extends ot{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){qu(t,"orderByPriority");let n=ku(t._queryParams,se);return ri(n),new Ge(t._repo,t._path,n,!0)}};function WE(){return new mm}var _m=class extends ot{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){qu(t,"orderByValue");let n=ku(t._queryParams,Am);return ri(n),new Ge(t._repo,t._path,n,!0)}};function qE(){return new _m}var vm=class extends ot{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Zt("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ou(this._value,this._key)._apply(new Ru(this._value,this._key)._apply(t))}};function ZE(e,t){return na("equalTo","key",t,!0),new vm(e,t)}function Dt(e,...t){let n=Le(e);for(let i of t)n=i._apply(n);return n}nL(rt);aL(rt);var QL="FIREBASE_DATABASE_EMULATOR_HOST",ym={},YL=!1;function JL(e,t,n,i){e.repoInfo_=new lu(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function n_(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=cm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[QL]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=cm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Rs(Rs.OWNER):new Cg(e.name,e.options,t);CE("Invalid Firebase Database URL",s),H(s.path)||Wt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=e2(a,e,u,new wg(e.name,n));return new Dm(d,e)}function XL(e,t){let n=ym[t];(!n||n[e.key]!==e)&&Wt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ME(e),delete n[e.key]}function e2(e,t,n,i){let r=ym[t.name];r||(r={},ym[t.name]=r);let o=r[e.toURLString()];return o&&Wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new am(e,YL,n,i),r[e.toURLString()]=o,o}var Dm=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rt(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(XL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Wt("Cannot call "+t+" on a deleted database.")}};function KE(){qC.IS_TRANSPORT_INITIALIZED&&Pe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function QE(){KE(),Ps.forceDisallow()}function YE(){KE(),eo.forceDisallow(),Ps.forceAllow()}function JE(e,t,n,i={}){e=Le(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Wt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Rs(Rs.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:u_(i.mockUserToken,e.app.options.projectId);o=new Rs(s)}JL(r,t,n,o)}function XE(e){e=Le(e),e._checkNotDeleted("goOffline"),ME(e._repo)}function e1(e){e=Le(e),e._checkNotDeleted("goOnline"),$L(e._repo)}function t1(e,t){NC(e,t)}function t2(e){Cm(D_),yo(new Qt("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return n_(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),In(Zw,Kw,e),In(Zw,Kw,"esm2017")}var n2={".sv":"timestamp"};function n1(){return n2}function i1(e){return{".sv":{increment:e}}}var bm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function r1(e,t,n){var i;if(e=Le(e),nt("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Ee,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new uo(u,new rt(e._repo,e._path),se),o.resolve(new bm(c,d)))},a=Qu(e,()=>{});return HL(e._repo,e._path,t,s,a,r),o.promise}Mm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Mm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};t2();var i2="@firebase/database-compat",r2="1.0.8";var o2=new Ui("@firebase/database-compat"),o1=function(e){let t="FIREBASE WARNING: "+e;o2.warn(t)};var s2=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(We(e,t)+"must be a boolean.")},a2=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(We(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var i_=class{constructor(t){this._delegate=t}cancel(t){N("OnDisconnect.cancel",0,1,arguments.length),De("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){N("OnDisconnect.remove",0,1,arguments.length),De("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){N("OnDisconnect.set",1,2,arguments.length),De("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){N("OnDisconnect.setWithPriority",2,3,arguments.length),De("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(N("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,o1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}De("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var r_=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return N("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Vi=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return N("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return N("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return N("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return N("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return N("DataSnapshot.child",0,1,arguments.length),t=String(t),go("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return N("DataSnapshot.hasChild",1,1,arguments.length),go("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return N("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return N("DataSnapshot.forEach",1,1,arguments.length),De("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return N("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return N("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return N("DataSnapshot.ref",0,0,arguments.length),new Cn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Yu=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;N("Query.on",2,4,arguments.length),De("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Vi(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return Qu(this._delegate,a,l),n;case"child_added":return Ym(this._delegate,a,l),n;case"child_removed":return e_(this._delegate,a,l),n;case"child_changed":return Jm(this._delegate,a,l),n;case"child_moved":return Xm(this._delegate,a,l),n;default:throw new Error(We("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(N("Query.off",0,3,arguments.length),a2("Query.off",t,!0),De("Query.off","callback",n,!0),td("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,t_(this._delegate,t,r)}else t_(this._delegate,t)}get(){return LE(this._delegate).then(t=>new Vi(this.database,t))}once(t,n,i,r){N("Query.once",1,4,arguments.length),De("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Ee,a=(c,u)=>{let d=new Vi(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Qu(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Ym(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":e_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Jm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Xm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(We("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return N("Query.limitToFirst",1,1,arguments.length),new e(this.database,Dt(this._delegate,$E(t)))}limitToLast(t){return N("Query.limitToLast",1,1,arguments.length),new e(this.database,Dt(this._delegate,HE(t)))}orderByChild(t){return N("Query.orderByChild",1,1,arguments.length),new e(this.database,Dt(this._delegate,GE(t)))}orderByKey(){return N("Query.orderByKey",0,0,arguments.length),new e(this.database,Dt(this._delegate,zE()))}orderByPriority(){return N("Query.orderByPriority",0,0,arguments.length),new e(this.database,Dt(this._delegate,WE()))}orderByValue(){return N("Query.orderByValue",0,0,arguments.length),new e(this.database,Dt(this._delegate,qE()))}startAt(t=null,n){return N("Query.startAt",0,2,arguments.length),new e(this.database,Dt(this._delegate,jE(t,n)))}startAfter(t=null,n){return N("Query.startAfter",0,2,arguments.length),new e(this.database,Dt(this._delegate,UE(t,n)))}endAt(t=null,n){return N("Query.endAt",0,2,arguments.length),new e(this.database,Dt(this._delegate,VE(t,n)))}endBefore(t=null,n){return N("Query.endBefore",0,2,arguments.length),new e(this.database,Dt(this._delegate,BE(t,n)))}equalTo(t,n){return N("Query.equalTo",1,2,arguments.length),new e(this.database,Dt(this._delegate,ZE(t,n)))}toString(){return N("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return N("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(N("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,De(t,"cancel",r.cancel,!0),r.context=i,td(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(We(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Cn(this.database,new rt(this._delegate._repo,this._delegate._path))}},Cn=class e extends Yu{constructor(t,n){super(t,new Ge(n._repo,n._path,new $s,!1)),this.database=t,this._delegate=n}getKey(){return N("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return N("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,ii(this._delegate,t))}getParent(){N("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return N("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){N("Reference.set",1,2,arguments.length),De("Reference.set","onComplete",n,!0);let i=Ku(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(N("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,o1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nt("Reference.update",this._delegate._path),De("Reference.update","onComplete",n,!0);let i=PE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){N("Reference.setWithPriority",2,3,arguments.length),De("Reference.setWithPriority","onComplete",i,!0);let r=FE(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){N("Reference.remove",0,1,arguments.length),De("Reference.remove","onComplete",t,!0);let n=xE(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){N("Reference.transaction",1,3,arguments.length),De("Reference.transaction","transactionUpdate",t,!1),De("Reference.transaction","onComplete",n,!0),s2("Reference.transaction","applyLocally",i,!0);let r=r1(this._delegate,t,{applyLocally:i}).then(o=>new r_(o.committed,new Vi(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){N("Reference.setPriority",1,2,arguments.length),De("Reference.setPriority","onComplete",n,!0);let i=kE(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){N("Reference.push",0,2,arguments.length),De("Reference.push","onComplete",n,!0);let i=RE(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return nt("Reference.onDisconnect",this._delegate._path),new i_(new Nu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Bi=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:QE,forceLongPolling:YE}}useEmulator(t,n,i={}){JE(this._delegate,t,n,i)}ref(t){if(N("database.ref",0,1,arguments.length),t instanceof Cn){let n=Qm(this._delegate,t.toString());return new Cn(this,n)}else{let n=Km(this._delegate,t);return new Cn(this,n)}}refFromURL(t){N("database.refFromURL",1,1,arguments.length);let i=Qm(this._delegate,t);return new Cn(this,i)}goOffline(){return N("database.goOffline",0,0,arguments.length),XE(this._delegate)}goOnline(){return N("database.goOnline",0,0,arguments.length),e1(this._delegate)}};Bi.ServerValue={TIMESTAMP:n1(),increment:e=>i1(e)};function l2({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){Cm(n);let a=new nd("database-standalone"),l=new ua("auth-internal",a);l.setComponent(new Qt("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new ua("app-check-internal",a),c.setComponent(new Qt("app-check-internal",()=>r,"PRIVATE"))),{instance:new Bi(n_(e,l,c,t,s),e),namespace:o}}var c2=Object.freeze({__proto__:null,initStandalone:l2});var u2=Bi.ServerValue;function d2(e){e.INTERNAL.registerComponent(new Qt("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new Bi(r,i)},"PUBLIC").setServiceProps({Reference:Cn,Query:Yu,Database:Bi,DataSnapshot:Vi,enableLogging:t1,INTERNAL:c2,ServerValue:u2}).setMultipleInstances(!0)),e.registerVersion(i2,r2)}d2(bt);function oa(e,t,n="on",i=Yi){return new A(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Io())}function h2(e){return typeof e=="string"}function f2(e){return typeof e.exportVal=="function"}function u1(e){return e==null}function d1(e){return typeof e.set=="function"}function s1(e,t){return d1(t)?t:e.ref(t)}function h1(e,t){if(h2(e))return t.stringCase();if(d1(e))return t.firebaseCase();if(f2(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function f1(e){return(u1(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function p1(e,t,n){t=f1(t);let i=t.map(r=>oa(e,r,"on",n));return ci(...i)}function p2(e,t,n){let i=p1(e,t).pipe(ir((r,o)=>[...r,o],[]));return m2(e,i,n)}function g2(e,t){return oa(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function m2(e,t,n){return g2(e,n).pipe(rr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Ad(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function a1(e,t){return function(i,r){return h1(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function _2(e){return function(n){return n?h1(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function v2(e,t,n){return oa(e,"value","once",n).pipe(ne(i=>{let r=[C(i)];return t.forEach(o=>r.push(oa(e,o,"on",n))),ci(...r).pipe(ir(D2,[]))}),ja())}function g1(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function y2(e,t){if(u1(t))return 0;{let n=g1(e,t);return n===-1?e.length:n+1}}function D2(e,t){let{payload:n,prevKey:i,key:r}=t,o=g1(e,r),s=y2(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function l1(e,t,n){return t=f1(t),v2(e,t,n)}function b2(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:a1(i,"update"),set:a1(i,"set"),push:r=>i.push(r),remove:_2(i),snapshotChanges(r){return l1(e,r,n).pipe(bn)},stateChanges(r){return p1(e,r,n).pipe(bn)},auditTrail(r){return p2(e,r,n).pipe(bn)},valueChanges(r,o){return l1(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?F(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),bn)}}}function c1(e,t){return function(){return oa(e,"value","on",t)}}function w2(e,t){return{query:e,snapshotChanges(){return c1(e,t.schedulers.outsideAngular)().pipe(bn)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return c1(e,t.schedulers.outsideAngular)().pipe(bn,S(i=>i.payload.exists()?i.payload.val():null))}}}var C2=new b("angularfire2.realtimeDatabaseURL"),E2=new b("angularfire2.database.use-emulator"),I2=(()=>{class e{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,m,D){this.schedulers=a;let I=l,L=ru(n,s,i);c&&ug(L,s,u,h,f,p,d,m),this.database=ou(`${L.name}.database.${r}`,"AngularFireDatabase",L.name,()=>{let E=s.runOutsideAngular(()=>L.database(r||void 0));return I&&E.useEmulator(...I),E},[I])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>s1(this.database,n)),o=r;return i&&(o=i(r)),b2(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>s1(this.database,n));return w2(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(v(nu),v(iu,8),v(C2,8),v(ke),v(U),v(eu),v(E2,8),v(qw,8),v(rg,8),v(og,8),v(sg,8),v(ag,8),v(lg,8),v(cg,8),v(Ai,8))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),m1=(()=>{class e{constructor(){bt.registerVersion("angularfire",Qp.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=z({type:e});static \u0275inj=G({providers:[I2]})}return e})();var Ju=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=z({type:e,bootstrap:[Qc]});static \u0275inj=G({providers:[UD()],imports:[QD,Kc,Ow,lw,m1]})};KD().bootstrapModule(Ju,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
