import{A as So,B as j_,C as U_,D as N,E as Ze,F as be,G as yd,H as $_,I as Mo,J as Be,K as tn,L as Ta,M as Dd,N as H_,O as Yi,P as No,Q as G_,R as z_,S as Nn,T as wt,a as y,b as F,c as qe,d as N_,e as ba,f as A_,g as O_,h as v,i as Qi,j as wa,k as R_,l as x_,m as Te,n as k_,o as vd,p as F_,q as Bt,r as P_,s as L_,t as Ca,u as _e,v as V_,w as B_,x as ct,y as Mn,z as Ea}from"./chunk-DU3LGMPY.js";function W_(e,n){return Object.is(e,n)}var we=null,Ia=!1,Sa=1,nn=Symbol("SIGNAL");function K(e){let n=we;return we=e,n}function q_(){return we}var Oo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cd(e){if(Ia)throw new Error("");if(we===null)return;we.consumerOnSignalRead(e);let n=we.nextProducerIndex++;if(Oa(we),n<we.producerNode.length&&we.producerNode[n]!==e&&Ao(we)){let t=we.producerNode[n];Aa(t,we.producerIndexOfThis[n])}we.producerNode[n]!==e&&(we.producerNode[n]=e,we.producerIndexOfThis[n]=Ao(we)?Y_(e,we,n):0),we.producerLastReadVersion[n]=e.version}function Q1(){Sa++}function Z_(e){if(!(Ao(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Sa)){if(!e.producerMustRecompute(e)&&!Td(e)){e.dirty=!1,e.lastCleanEpoch=Sa;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Sa}}function K_(e){if(e.liveConsumerNode===void 0)return;let n=Ia;Ia=!0;try{for(let t of e.liveConsumerNode)t.dirty||Y1(t)}finally{Ia=n}}function Q_(){return we?.consumerAllowSignalWrites!==!1}function Y1(e){e.dirty=!0,K_(e),e.consumerMarkedDirty?.(e)}function Na(e){return e&&(e.nextProducerIndex=0),K(e)}function Ed(e,n){if(K(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ao(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Aa(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Td(e){Oa(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],i=e.producerLastReadVersion[n];if(i!==t.version||(Z_(t),i!==t.version))return!0}return!1}function Id(e){if(Oa(e),Ao(e))for(let n=0;n<e.producerNode.length;n++)Aa(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Y_(e,n,t){if(J_(e),e.liveConsumerNode.length===0&&X_(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=Y_(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Aa(e,n){if(J_(e),e.liveConsumerNode.length===1&&X_(e))for(let i=0;i<e.producerNode.length;i++)Aa(e.producerNode[i],e.producerIndexOfThis[i]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[n],r=e.liveConsumerNode[n];Oa(r),r.producerIndexOfThis[i]=n}}function Ao(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Oa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function J_(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function X_(e){return e.producerNode!==void 0}function ev(e){let n=Object.create(J1);n.computation=e;let t=()=>{if(Z_(n),Cd(n),n.value===Ma)throw n.error;return n.value};return t[nn]=n,t}var bd=Symbol("UNSET"),wd=Symbol("COMPUTING"),Ma=Symbol("ERRORED"),J1=F(y({},Oo),{value:bd,dirty:!0,error:null,equal:W_,producerMustRecompute(e){return e.value===bd||e.value===wd},producerRecomputeValue(e){if(e.value===wd)throw new Error("Detected cycle in computations.");let n=e.value;e.value=wd;let t=Na(e),i;try{i=e.computation()}catch(r){i=Ma,e.error=r}finally{Ed(e,t)}if(n!==bd&&n!==Ma&&i!==Ma&&e.equal(n,i)){e.value=n;return}e.value=i,e.version++}});function X1(){throw new Error}var tv=X1;function nv(){tv()}function iv(e){tv=e}var eT=null;function rv(e){let n=Object.create(sv);n.value=e;let t=()=>(Cd(n),n.value);return t[nn]=n,t}function Sd(e,n){Q_()||nv(),e.equal(e.value,n)||(e.value=n,tT(e))}function ov(e,n){Q_()||nv(),Sd(e,n(e.value))}var sv=F(y({},Oo),{equal:W_,value:void 0});function tT(e){e.version++,Q1(),K_(e),eT?.()}function M(e){return typeof e=="function"}function Ji(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ra=Ji(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ci(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var fe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(M(i))try{i()}catch(o){n=o instanceof Ra?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{av(o)}catch(s){n=n??[],s instanceof Ra?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Ra(n)}}add(n){var t;if(n&&n!==this)if(this.closed)av(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ci(t,n)}remove(n){let{_finalizers:t}=this;t&&ci(t,n),n instanceof e&&n._removeParent(this)}};fe.EMPTY=(()=>{let e=new fe;return e.closed=!0,e})();var Md=fe.EMPTY;function xa(e){return e instanceof fe||e&&"closed"in e&&M(e.remove)&&M(e.add)&&M(e.unsubscribe)}function av(e){M(e)?e():e.unsubscribe()}var Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(e,n,...t){let{delegate:i}=Xi;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Xi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ka(e){Xi.setTimeout(()=>{let{onUnhandledError:n}=Ct;if(n)n(e);else throw e})}function ui(){}var lv=Nd("C",void 0,void 0);function cv(e){return Nd("E",void 0,e)}function uv(e){return Nd("N",e,void 0)}function Nd(e,n,t){return{kind:e,value:n,error:t}}var di=null;function er(e){if(Ct.useDeprecatedSynchronousErrorHandling){let n=!di;if(n&&(di={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=di;if(di=null,t)throw i}}else e()}function dv(e){Ct.useDeprecatedSynchronousErrorHandling&&di&&(di.errorThrown=!0,di.error=e)}var hi=class extends fe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,xa(n)&&n.add(this)):this.destination=rT}static create(n,t,i){return new rn(n,t,i)}next(n){this.isStopped?Od(uv(n),this):this._next(n)}error(n){this.isStopped?Od(cv(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Od(lv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nT=Function.prototype.bind;function Ad(e,n){return nT.call(e,n)}var Rd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){Fa(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){Fa(i)}else Fa(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Fa(t)}}},rn=class extends hi{constructor(n,t,i){super();let r;if(M(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ct.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Ad(n.next,o),error:n.error&&Ad(n.error,o),complete:n.complete&&Ad(n.complete,o)}):r=n}this.destination=new Rd(r)}};function Fa(e){Ct.useDeprecatedSynchronousErrorHandling?dv(e):ka(e)}function iT(e){throw e}function Od(e,n){let{onStoppedNotification:t}=Ct;t&&Xi.setTimeout(()=>t(e,n))}var rT={closed:!0,next:ui,error:iT,complete:ui};var tr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Re(e){return e}function xd(...e){return kd(e)}function kd(e){return e.length===0?Re:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var A=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=sT(t)?t:new rn(t,i,r);return er(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=hv(i),new i((r,o)=>{let s=new rn({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[tr](){return this}pipe(...t){return kd(t)(this)}toPromise(t){return t=hv(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=n=>new e(n),e})();function hv(e){var n;return(n=e??Ct.Promise)!==null&&n!==void 0?n:Promise}function oT(e){return e&&M(e.next)&&M(e.error)&&M(e.complete)}function sT(e){return e&&e instanceof hi||oT(e)&&xa(e)}function Fd(e){return M(e?.lift)}function k(e){return n=>{if(Fd(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(e,n,t,i,r){return new Pd(e,n,t,i,r)}var Pd=class extends hi{constructor(n,t,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function nr(){return k((e,n)=>{let t=null;e._refCount++;let i=O(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var ir=class extends A{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new fe;let t=this.getSubject();n.add(this.source.subscribe(O(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=fe.EMPTY)}return n}refCount(){return nr()(this)}};var fv=Ji(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Pa(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new fv}next(t){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){er(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Md:(this.currentObservers=null,o.push(t),new fe(()=>{this.currentObservers=null,ci(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new A;return t.source=this,t}}return e.create=(n,t)=>new Pa(n,t),e})(),Pa=class extends q{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:Md}};var Ie=class extends q{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Ro={now(){return(Ro.delegate||Date).now()},delegate:void 0};var La=class extends q{constructor(n=1/0,t=1/0,i=Ro){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(n),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!n.closed;s+=i?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*n;if(n<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=t.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Va=class extends fe{constructor(n,t){super()}schedule(n,t=0){return this}};var xo={setInterval(e,n,...t){let{delegate:i}=xo;return i?.setInterval?i.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=xo;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var rr=class extends Va{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return xo.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&xo.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ci(i,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var or=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,i){return new this.schedulerActionCtor(this,n).schedule(i,t)}};or.now=Ro.now;var sr=class extends or{constructor(n,t=or.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}};var ar=new sr(rr),Ld=ar;var Ba=class extends rr{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}schedule(n,t=0){return t>0?super.schedule(n,t):(this.delay=t,this.state=n,this.scheduler.flush(this),this)}execute(n,t){return t>0||this.closed?super.execute(n,t):this._execute(n,t)}requestAsyncId(n,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(n,t,i):(n.flush(this),0)}};var ja=class extends sr{};var Vd=new ja(Ba);var Ce=new A(e=>e.complete());function Ua(e){return e&&M(e.schedule)}function Bd(e){return e[e.length-1]}function An(e){return M(Bd(e))?e.pop():void 0}function jt(e){return Ua(Bd(e))?e.pop():void 0}function pv(e,n){return typeof Bd(e)=="number"?e.pop():n}var lr=e=>e&&typeof e.length=="number"&&typeof e!="function";function $a(e){return M(e?.then)}function Ha(e){return M(e[tr])}function Ga(e){return Symbol.asyncIterator&&M(e?.[Symbol.asyncIterator])}function za(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wa=aT();function qa(e){return M(e?.[Wa])}function Za(e){return A_(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield ba(t.read());if(r)return yield ba(void 0);yield yield ba(i)}}finally{t.releaseLock()}})}function Ka(e){return M(e?.getReader)}function Z(e){if(e instanceof A)return e;if(e!=null){if(Ha(e))return lT(e);if(lr(e))return cT(e);if($a(e))return uT(e);if(Ga(e))return gv(e);if(qa(e))return dT(e);if(Ka(e))return hT(e)}throw za(e)}function lT(e){return new A(n=>{let t=e[tr]();if(M(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cT(e){return new A(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function uT(e){return new A(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ka)})}function dT(e){return new A(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function gv(e){return new A(n=>{fT(e,n).catch(t=>n.error(t))})}function hT(e){return gv(Za(e))}function fT(e,n){var t,i,r,o;return N_(this,void 0,void 0,function*(){try{for(t=O_(e);i=yield t.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function Ke(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function ut(e,n=0){return k((t,i)=>{t.subscribe(O(i,r=>Ke(i,e,()=>i.next(r),n),()=>Ke(i,e,()=>i.complete(),n),r=>Ke(i,e,()=>i.error(r),n)))})}function Et(e,n=0){return k((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function mv(e,n){return Z(e).pipe(Et(n),ut(n))}function _v(e,n){return Z(e).pipe(Et(n),ut(n))}function vv(e,n){return new A(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function yv(e,n){return new A(t=>{let i;return Ke(t,n,()=>{i=e[Wa](),Ke(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>M(i?.return)&&i.return()})}function Qa(e,n){if(!e)throw new Error("Iterable cannot be null");return new A(t=>{Ke(t,n,()=>{let i=e[Symbol.asyncIterator]();Ke(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Dv(e,n){return Qa(Za(e),n)}function bv(e,n){if(e!=null){if(Ha(e))return mv(e,n);if(lr(e))return vv(e,n);if($a(e))return _v(e,n);if(Ga(e))return Qa(e,n);if(qa(e))return yv(e,n);if(Ka(e))return Dv(e,n)}throw za(e)}function te(e,n){return n?bv(e,n):Z(e)}function C(...e){let n=jt(e);return te(e,n)}function cr(e,n){let t=M(e)?e:()=>e,i=r=>r.error(t());return new A(n?r=>n.schedule(i,0,r):i)}function on(e){return!!e&&(e instanceof A||M(e.lift)&&M(e.subscribe))}var sn=Ji(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function wv(e){return e instanceof Date&&!isNaN(e)}function E(e,n){return k((t,i)=>{let r=0;t.subscribe(O(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:pT}=Array;function gT(e,n){return pT(n)?e(...n):e(n)}function ur(e){return E(n=>gT(e,n))}var{isArray:mT}=Array,{getPrototypeOf:_T,prototype:vT,keys:yT}=Object;function Ya(e){if(e.length===1){let n=e[0];if(mT(n))return{args:n,keys:null};if(DT(n)){let t=yT(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function DT(e){return e&&typeof e=="object"&&_T(e)===vT}function Ja(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function dr(...e){let n=jt(e),t=An(e),{args:i,keys:r}=Ya(e);if(i.length===0)return te([],n);let o=new A(bT(i,n,r?s=>Ja(r,s):Re));return t?o.pipe(ur(t)):o}function bT(e,n,t=Re){return i=>{Cv(n,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)Cv(n,()=>{let c=te(e[l],n),u=!1;c.subscribe(O(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Cv(e,n,t){e?Ke(t,e,n):n()}function Ev(e,n,t,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&n.next(m),c++;let D=!1;Z(t(m,u++)).subscribe(O(n,I=>{r?.(I),o?f(I):n.next(I)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){let I=l.shift();s?Ke(n,s,()=>p(I)):p(I)}h()}catch(I){n.error(I)}}))};return e.subscribe(O(n,f,()=>{d=!0,h()})),()=>{a?.()}}function ue(e,n,t=1/0){return M(n)?ue((i,r)=>E((o,s)=>n(i,o,r,s))(Z(e(i,r))),t):(typeof n=="number"&&(t=n),k((i,r)=>Ev(i,r,e,t)))}function On(e=1/0){return ue(Re,e)}function Tv(){return On(1)}function Tt(...e){return Tv()(te(e,jt(e)))}function fi(e){return new A(n=>{Z(e()).subscribe(n)})}function ko(...e){let n=An(e),{args:t,keys:i}=Ya(e),r=new A(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Z(t[u]).subscribe(O(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?Ja(i,a):a),o.complete())}))}});return n?r.pipe(ur(n)):r}var wT=["addListener","removeListener"],CT=["addEventListener","removeEventListener"],ET=["on","off"];function dt(e,n,t,i){if(M(t)&&(i=t,t=void 0),i)return dt(e,n,t).pipe(ur(i));let[r,o]=ST(e)?CT.map(s=>a=>e[s](n,a,t)):TT(e)?wT.map(Iv(e,n)):IT(e)?ET.map(Iv(e,n)):[];if(!r&&lr(e))return ue(s=>dt(s,n,t))(Z(e));if(!r)throw new TypeError("Invalid event target");return new A(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Iv(e,n){return t=>i=>e[t](n,i)}function TT(e){return M(e.addListener)&&M(e.removeListener)}function IT(e){return M(e.on)&&M(e.off)}function ST(e){return M(e.addEventListener)&&M(e.removeEventListener)}function jd(e=0,n,t=Ld){let i=-1;return n!=null&&(Ua(n)?t=n:i=n),new A(r=>{let o=wv(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function pi(...e){let n=jt(e),t=pv(e,1/0),i=e;return i.length?i.length===1?Z(i[0]):On(t)(te(i,n)):Ce}var{isArray:MT}=Array;function Xa(e){return e.length===1&&MT(e[0])?e[0]:e}function me(e,n){return k((t,i)=>{let r=0;t.subscribe(O(i,o=>e.call(n,o,r++)&&i.next(o)))})}function Ud(...e){return e=Xa(e),e.length===1?Z(e[0]):new A(NT(e))}function NT(e){return n=>{let t=[];for(let i=0;t&&!n.closed&&i<e.length;i++)t.push(Z(e[i]).subscribe(O(n,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}n.next(r)})))}}function Fo(...e){let n=An(e),t=Xa(e);return t.length?new A(i=>{let r=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<t.length;s++)Z(t[s]).subscribe(O(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(n?n(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Ce}function Rn(e){return k((n,t)=>{let i=null,r=!1,o;i=n.subscribe(O(t,void 0,void 0,s=>{o=Z(e(s,Rn(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Sv(e,n,t,i,r){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(O(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function It(e,n){return M(n)?ue(e,n,1):ue(e,1)}function xn(e){return k((n,t)=>{let i=!1;n.subscribe(O(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function Ee(e){return e<=0?()=>Ce:k((n,t)=>{let i=0;n.subscribe(O(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function $d(e){return E(()=>e)}function el(e,n=Re){return e=e??AT,k((t,i)=>{let r,o=!0;t.subscribe(O(i,s=>{let a=n(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function AT(e,n){return e===n}function tl(e=OT){return k((n,t)=>{let i=!1;n.subscribe(O(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function OT(){return new sn}function Hd(...e){return n=>Tt(n,C(...e))}function kn(e){return k((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ht(e,n){let t=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Re,Ee(1),t?xn(n):tl(()=>new sn))}function hr(e){return e<=0?()=>Ce:k((n,t)=>{let i=[];n.subscribe(O(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Gd(e,n){let t=arguments.length>=2;return i=>i.pipe(e?me((r,o)=>e(r,o,i)):Re,hr(1),t?xn(n):tl(()=>new sn))}function fr(e,n){return k(Sv(e,n,arguments.length>=2,!0))}function Po(e={}){let{connector:n=()=>new q,resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let m=s;f(),m?.unsubscribe()};return k((m,D)=>{c++,!d&&!u&&h();let I=l=l??n();D.add(()=>{c--,c===0&&!d&&!u&&(a=zd(p,r))}),I.subscribe(D),!s&&c>0&&(s=new rn({next:B=>I.next(B),error:B=>{d=!0,h(),a=zd(f,t,B),I.error(B)},complete:()=>{u=!0,h(),a=zd(f,i),I.complete()}}),Z(m).subscribe(s))})(o)}}function zd(e,n,...t){if(n===!0){e();return}if(n===!1)return;let i=new rn({next:()=>{i.unsubscribe(),e()}});return Z(n(...t)).subscribe(i)}function gi(e,n,t){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=e:i=e??1/0,Po({connector:()=>new La(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Wd(e){return k((n,t)=>{let i=!1,r=0;n.subscribe(O(t,o=>(i||(i=!e(o,r++)))&&t.next(o)))})}function nl(...e){let n=jt(e);return k((t,i)=>{(n?Tt(e,t,n):Tt(e,t)).subscribe(i)})}function X(e,n){return k((t,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();t.subscribe(O(i,l=>{r?.unsubscribe();let c=0,u=o++;Z(e(l,u)).subscribe(r=O(i,d=>i.next(n?n(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function il(e,n){return M(n)?X(()=>e,n):X(()=>e)}function ke(e){return k((n,t)=>{Z(e).subscribe(O(t,()=>t.complete(),ui)),!t.closed&&n.subscribe(t)})}function pe(e,n,t){let i=M(e)||n||t?{next:e,error:n,complete:t}:e;return i?k((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(O(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Re}function pr(...e){let n=An(e);return k((t,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)Z(e[l]).subscribe(O(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Re))&&(s=null))},ui));t.subscribe(O(i,l=>{if(a){let c=[l,...o];i.next(n?n(...c):c)}}))})}var RT="https://g.co/ng/security#xss",S=class extends Error{constructor(n,t){super(jl(n,t)),this.code=n}};function jl(e,n){return`${`NG0${Math.abs(e)}`}${n?": "+n:""}`}function qo(e){return{toString:e}.toString()}var rl="__parameters__";function xT(e){return function(...t){if(e){let i=e(...t);for(let r in i)this[r]=i[r]}}}function ly(e,n,t){return qo(()=>{let i=xT(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(rl)?l[rl]:Object.defineProperty(l,rl,{value:[]})[rl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var fn=globalThis;function oe(e){for(let n in e)if(e[n]===oe)return n;throw Error("Could not find renamed property on target object.")}function kT(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ue(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ue).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let n=e.toString();if(n==null)return""+n;let t=n.indexOf(`
`);return t===-1?n:n.substring(0,t)}function sh(e,n){return e==null||e===""?n===null?"":n:n==null||n===""?e:e+" "+n}var FT=oe({__forward_ref__:oe});function Or(e){return e.__forward_ref__=Or,e.toString=function(){return Ue(this())},e}function je(e){return cy(e)?e():e}function cy(e){return typeof e=="function"&&e.hasOwnProperty(FT)&&e.__forward_ref__===Or}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function j(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ul(e){return Mv(e,dy)||Mv(e,hy)}function uy(e){return Ul(e)!==null}function Mv(e,n){return e.hasOwnProperty(n)?e[n]:null}function PT(e){let n=e&&(e[dy]||e[hy]);return n||null}function Nv(e){return e&&(e.hasOwnProperty(Av)||e.hasOwnProperty(LT))?e[Av]:null}var dy=oe({\u0275prov:oe}),Av=oe({\u0275inj:oe}),hy=oe({ngInjectableDef:oe}),LT=oe({ngInjectorDef:oe}),w=class{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fy(e){return e&&!!e.\u0275providers}var VT=oe({\u0275cmp:oe}),BT=oe({\u0275dir:oe}),jT=oe({\u0275pipe:oe}),UT=oe({\u0275mod:oe}),pl=oe({\u0275fac:oe}),Vo=oe({__NG_ELEMENT_ID__:oe}),Ov=oe({__NG_ENV_ID__:oe});function of(e){return typeof e=="string"?e:e==null?"":String(e)}function $T(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():of(e)}function HT(e,n){let t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new S(-200,e)}function sf(e,n){throw new S(-201,!1)}var $=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}($||{}),ah;function py(){return ah}function Qe(e){let n=ah;return ah=e,n}function gy(e,n,t){let i=Ul(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&$.Optional)return null;if(n!==void 0)return n;sf(e,"Injector")}var GT={},jo=GT,lh="__NG_DI_FLAG__",gl="ngTempTokenPath",zT="ngTokenPath",WT=/\n/gm,qT="\u0275",Rv="__source",yr;function ZT(){return yr}function Fn(e){let n=yr;return yr=e,n}function KT(e,n=$.Default){if(yr===void 0)throw new S(-203,!1);return yr===null?gy(e,void 0,n):yr.get(e,n&$.Optional?null:void 0,n)}function _(e,n=$.Default){return(py()||KT)(je(e),n)}function g(e,n=$.Default){return _(e,$l(n))}function $l(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ch(e){let n=[];for(let t=0;t<e.length;t++){let i=je(e[t]);if(Array.isArray(i)){if(i.length===0)throw new S(900,!1);let r,o=$.Default;for(let s=0;s<i.length;s++){let a=i[s],l=QT(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(_(r,o))}else n.push(_(i))}return n}function my(e,n){return e[lh]=n,e.prototype[lh]=n,e}function QT(e){return e[lh]}function YT(e,n,t,i){let r=e[gl];throw n[Rv]&&r.unshift(n[Rv]),e.message=JT(`
`+e.message,r,t,i),e[zT]=r,e[gl]=null,e}function JT(e,n,t,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==qT?e.slice(2):e;let r=Ue(n);if(Array.isArray(n))r=n.map(Ue).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ue(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${e.replace(WT,`
  `)}`}var Zo=my(ly("Optional"),8);var af=my(ly("SkipSelf"),4);function _i(e,n){let t=e.hasOwnProperty(pl);return t?e[pl]:null}function XT(e,n,t){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=n[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function eI(e){return e.flat(Number.POSITIVE_INFINITY)}function lf(e,n){e.forEach(t=>Array.isArray(t)?lf(t,n):n(t))}function _y(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ml(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function tI(e,n){let t=[];for(let i=0;i<e;i++)t.push(n);return t}function nI(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function cf(e,n,t){let i=Ko(e,n);return i>=0?e[i|1]=t:(i=~i,nI(e,i,n,t)),i}function qd(e,n){let t=Ko(e,n);if(t>=0)return e[t|1]}function Ko(e,n){return iI(e,n,1)}function iI(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<t];if(n===s)return o<<t;s>n?r=o:i=o+1}return~(r<<t)}var br={},Ye=[],wr=new w(""),vy=new w("",-1),yy=new w(""),_l=class{get(n,t=jo){if(t===jo){let i=new Error(`NullInjectorError: No provider for ${Ue(n)}!`);throw i.name="NullInjectorError",i}return t}},Dy=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Dy||{}),Ht=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ht||{}),Vn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Vn||{});function rI(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}function uh(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],a=t[i++];e.setAttribute(n,s,a,o)}else{let o=r,s=t[++i];sI(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),i++}}return i}function oI(e){return e===3||e===4||e===6}function sI(e){return e.charCodeAt(0)===64}function Uo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?xv(e,t,r,null,n[++i]):xv(e,t,r,null,null))}}return e}function xv(e,n,t,i,r){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var by="ng-template";function aI(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&rI(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(uf(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uf(e){return e.type===4&&e.value!==by}function lI(e,n,t){let i=e.type===4&&!t?by:e.value;return n===i}function cI(e,n,t){let i=4,r=e.attrs,o=r!==null?hI(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!St(i)&&!St(l))return!1;if(s&&St(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!lI(e,l,t)||l===""&&n.length===1){if(St(i))return!1;s=!0}}else if(i&8){if(r===null||!aI(e,r,l,t)){if(St(i))return!1;s=!0}}else{let c=n[++a],u=uI(l,r,uf(e),t);if(u===-1){if(St(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(St(i))return!1;s=!0}}}}return St(i)||s}function St(e){return(e&1)===0}function uI(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let s=n[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return fI(n,e)}function wy(e,n,t=!1){for(let i=0;i<n.length;i++)if(cI(e,n[i],t))return!0;return!1}function dI(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if(!(t&1))return n[t+1]}return null}function hI(e){for(let n=0;n<e.length;n++){let t=e[n];if(oI(t))return n}return e.length}function fI(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function pI(e,n){e:for(let t=0;t<n.length;t++){let i=n[t];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function kv(e,n){return e?":not("+n.trim()+")":n}function gI(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(i&2){let a=e[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!St(s)&&(n+=kv(o,r),r=""),i=s,o=o||!St(i);t++}return r!==""&&(n+=kv(o,r)),n}function mI(e){return e.map(gI).join(",")}function _I(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!St(r))break;r=o}i++}return{attrs:n,classes:t}}function pn(e){return qo(()=>{let n=Sy(e),t=F(y({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Dy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ht.Emulated,styles:e.styles||Ye,_:null,schemas:e.schemas||null,tView:null,id:""});My(t);let i=e.dependencies;return t.directiveDefs=Pv(i,!1),t.pipeDefs=Pv(i,!0),t.id=DI(t),t})}function vI(e){return an(e)||Cy(e)}function yI(e){return e!==null}function U(e){return qo(()=>({type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Fv(e,n){if(e==null)return br;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Vn.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(t[o]=a!==Vn.None?[i,a]:i,n[o]=s):t[o]=i}return t}function nt(e){return qo(()=>{let n=Sy(e);return My(n),n})}function df(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function an(e){return e[VT]||null}function Cy(e){return e[BT]||null}function Ey(e){return e[jT]||null}function Ty(e){let n=an(e)||Cy(e)||Ey(e);return n!==null?n.standalone:!1}function Iy(e,n){let t=e[UT]||null;if(!t&&n===!0)throw new Error(`Type ${Ue(e)} does not have '\u0275mod' property.`);return t}function Sy(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||br,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fv(e.inputs,n),outputs:Fv(e.outputs),debugInfo:null}}function My(e){e.features?.forEach(n=>n(e))}function Pv(e,n){if(!e)return null;let t=n?Ey:vI;return()=>(typeof e=="function"?e():e).map(i=>t(i)).filter(yI)}function DI(e){let n=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of t)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Qo(e){return{\u0275providers:e}}function bI(...e){return{\u0275providers:Ny(!0,e),\u0275fromNgModule:!0}}function Ny(e,...n){let t=[],i=new Set,r,o=s=>{t.push(s)};return lf(n,s=>{let a=s;dh(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Ay(r,o),t}function Ay(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];hf(r,o=>{n(o,i)})}}function dh(e,n,t,i){if(e=je(e),!e)return!1;let r=null,o=Nv(e),s=!o&&an(e);if(!o&&!s){let l=e.ngModule;if(o=Nv(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)dh(c,n,t,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{lf(o.imports,u=>{dh(u,n,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ay(c,n)}if(!a){let c=_i(r)||(()=>new r);n({provide:r,useFactory:c,deps:Ye},r),n({provide:yy,useValue:r,multi:!0},r),n({provide:wr,useValue:()=>_(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;hf(l,u=>{n(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function hf(e,n){for(let t of e)fy(t)&&(t=t.\u0275providers),Array.isArray(t)?hf(t,n):n(t)}var wI=oe({provide:String,useValue:oe});function Oy(e){return e!==null&&typeof e=="object"&&wI in e}function CI(e){return!!(e&&e.useExisting)}function EI(e){return!!(e&&e.useFactory)}function Cr(e){return typeof e=="function"}function TI(e){return!!e.useClass}var Hl=new w(""),cl={},II={},Zd;function Gl(){return Zd===void 0&&(Zd=new _l),Zd}var Se=class{},$o=class extends Se{get destroyed(){return this._destroyed}constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fh(n,s=>this.processProvider(s)),this.records.set(vy,gr(void 0,this)),r.has("environment")&&this.records.set(Se,gr(void 0,this));let o=this.records.get(Hl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yy,Ye,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=K(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let t=Fn(this),i=Qe(void 0),r;try{return n()}finally{Fn(t),Qe(i)}}get(n,t=jo,i=$.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ov))return n[Ov](this);i=$l(i);let r,o=Fn(this),s=Qe(void 0);try{if(!(i&$.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=OI(n)&&Ul(n);c&&this.injectableDefInScope(c)?l=gr(hh(n),cl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&$.Self?Gl():this.parent;return t=i&$.Optional&&t===jo?null:t,a.get(n,t)}catch(a){if(a.name==="NullInjectorError"){if((a[gl]=a[gl]||[]).unshift(Ue(n)),o)throw a;return YT(a,n,"R3InjectorError",this.source)}else throw a}finally{Qe(s),Fn(o)}}resolveInjectorInitializers(){let n=K(null),t=Fn(this),i=Qe(void 0),r;try{let o=this.get(wr,Ye,$.Self);for(let s of o)s()}finally{Fn(t),Qe(i),K(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(Ue(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(n){n=je(n);let t=Cr(n)?n:je(n&&n.provide),i=MI(n);if(!Cr(n)&&n.multi===!0){let r=this.records.get(t);r||(r=gr(void 0,cl,!0),r.factory=()=>ch(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t){let i=K(null);try{return t.value===cl&&(t.value=II,t.value=t.factory()),typeof t.value=="object"&&t.value&&AI(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{K(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=je(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hh(e){let n=Ul(e),t=n!==null?n.factory:_i(e);if(t!==null)return t;if(e instanceof w)throw new S(204,!1);if(e instanceof Function)return SI(e);throw new S(204,!1)}function SI(e){if(e.length>0)throw new S(204,!1);let t=PT(e);return t!==null?()=>t.factory(e):()=>new e}function MI(e){if(Oy(e))return gr(void 0,e.useValue);{let n=Ry(e);return gr(n,cl)}}function Ry(e,n,t){let i;if(Cr(e)){let r=je(e);return _i(r)||hh(r)}else if(Oy(e))i=()=>je(e.useValue);else if(EI(e))i=()=>e.useFactory(...ch(e.deps||[]));else if(CI(e))i=()=>_(je(e.useExisting));else{let r=je(e&&(e.useClass||e.provide));if(NI(e))i=()=>new r(...ch(e.deps));else return _i(r)||hh(r)}return i}function gr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function NI(e){return!!e.deps}function AI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function OI(e){return typeof e=="function"||typeof e=="object"&&e instanceof w}function fh(e,n){for(let t of e)Array.isArray(t)?fh(t,n):t&&fy(t)?fh(t.\u0275providers,n):n(t)}function gt(e,n){e instanceof $o&&e.assertNotDestroyed();let t,i=Fn(e),r=Qe(void 0);try{return n()}finally{Fn(i),Qe(r)}}function xy(){return py()!==void 0||ZT()!=null}function RI(e){if(!xy())throw new S(-203,!1)}function xI(e){let n=fn.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function kI(e){return typeof e=="function"}var gn=0,P=1,R=2,Fe=3,Nt=4,Xe=5,Ho=6,vl=7,At=8,Er=9,ln=10,ge=11,Go=12,Lv=13,Rr=14,pt=15,vi=16,mr=17,cn=18,zl=19,ky=20,Pn=21,Kd=22,ft=23,Je=25,Fy=1;var yi=7,yl=8,Tr=9,tt=10,Dl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Dl||{});function Ln(e){return Array.isArray(e)&&typeof e[Fy]=="object"}function mn(e){return Array.isArray(e)&&e[Fy]===!0}function ff(e){return(e.flags&4)!==0}function Wl(e){return e.componentOffset>-1}function ql(e){return(e.flags&1)===1}function Bn(e){return!!e.template}function ph(e){return(e[R]&512)!==0}var gh=class{constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Py(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}function Si(){return Ly}function Ly(e){return e.type.prototype.ngOnChanges&&(e.setInput=PI),FI}Si.ngInherit=!0;function FI(){let e=By(this),n=e?.current;if(n){let t=e.previous;if(t===br)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function PI(e,n,t,i,r){let o=this.declaredInputs[i],s=By(e)||LI(e,{previous:br,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new gh(c&&c.currentValue,t,l===br),Py(e,n,r,t)}var Vy="__ngSimpleChanges__";function By(e){return e[Vy]||null}function LI(e,n){return e[Vy]=n}var Vv=null;var Ut=function(e,n,t){Vv?.(e,n,t)},jy="svg",VI="math";function Gt(e){for(;Array.isArray(e);)e=e[gn];return e}function Uy(e,n){return Gt(n[e])}function mt(e,n){return Gt(n[e.index])}function $y(e,n){return e.data[n]}function Hy(e,n){return e[n]}function Hn(e,n){let t=n[e];return Ln(t)?t:t[gn]}function BI(e){return(e[R]&4)===4}function pf(e){return(e[R]&128)===128}function jI(e){return mn(e[Fe])}function Ir(e,n){return n==null?null:e[n]}function Gy(e){e[mr]=0}function zy(e){e[R]&1024||(e[R]|=1024,pf(e)&&Kl(e))}function UI(e,n){for(;e>0;)n=n[Rr],e--;return n}function Zl(e){return!!(e[R]&9216||e[ft]?.dirty)}function mh(e){e[ln].changeDetectionScheduler?.notify(8),e[R]&64&&(e[R]|=1024),Zl(e)&&Kl(e)}function Kl(e){e[ln].changeDetectionScheduler?.notify(0);let n=Di(e);for(;n!==null&&!(n[R]&8192||(n[R]|=8192,!pf(n)));)n=Di(n)}function Wy(e,n){if((e[R]&256)===256)throw new S(911,!1);e[Pn]===null&&(e[Pn]=[]),e[Pn].push(n)}function $I(e,n){if(e[Pn]===null)return;let t=e[Pn].indexOf(n);t!==-1&&e[Pn].splice(t,1)}function Di(e){let n=e[Fe];return mn(n)?n[Fe]:n}var L={lFrame:n0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qy=!1;function HI(){return L.lFrame.elementDepthCount}function GI(){L.lFrame.elementDepthCount++}function zI(){L.lFrame.elementDepthCount--}function Zy(){return L.bindingsEnabled}function Ky(){return L.skipHydrationRootTNode!==null}function WI(e){return L.skipHydrationRootTNode===e}function qI(){L.skipHydrationRootTNode=null}function Q(){return L.lFrame.lView}function ve(){return L.lFrame.tView}function xr(e){return L.lFrame.contextLView=e,e[At]}function kr(e){return L.lFrame.contextLView=null,e}function $e(){let e=Qy();for(;e!==null&&e.type===64;)e=e.parent;return e}function Qy(){return L.lFrame.currentTNode}function ZI(){let e=L.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Mi(e,n){let t=L.lFrame;t.currentTNode=e,t.isParent=n}function gf(){return L.lFrame.isParent}function mf(){L.lFrame.isParent=!1}function KI(){return L.lFrame.contextLView}function Yy(){return qy}function Bv(e){qy=e}function QI(){let e=L.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function YI(e){return L.lFrame.bindingIndex=e}function Ql(){return L.lFrame.bindingIndex++}function Jy(e){let n=L.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function JI(){return L.lFrame.inI18n}function XI(e,n){let t=L.lFrame;t.bindingIndex=t.bindingRootIndex=e,_h(n)}function eS(){return L.lFrame.currentDirectiveIndex}function _h(e){L.lFrame.currentDirectiveIndex=e}function tS(e){let n=L.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Xy(){return L.lFrame.currentQueryIndex}function _f(e){L.lFrame.currentQueryIndex=e}function nS(e){let n=e[P];return n.type===2?n.declTNode:n.type===1?e[Xe]:null}function e0(e,n,t){if(t&$.SkipSelf){let r=n,o=e;for(;r=r.parent,r===null&&!(t&$.Host);)if(r=nS(o),r===null||(o=o[Rr],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=L.lFrame=t0();return i.currentTNode=n,i.lView=e,!0}function vf(e){let n=t0(),t=e[P];L.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function t0(){let e=L.lFrame,n=e===null?null:e.child;return n===null?n0(e):n}function n0(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function i0(){let e=L.lFrame;return L.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var r0=i0;function yf(){let e=i0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function iS(e){return(L.lFrame.contextLView=UI(e,L.lFrame.contextLView))[At]}function Ni(){return L.lFrame.selectedIndex}function bi(e){L.lFrame.selectedIndex=e}function Df(){let e=L.lFrame;return $y(e.tView,e.selectedIndex)}function Yl(){L.lFrame.currentNamespace=jy}function o0(){rS()}function rS(){L.lFrame.currentNamespace=null}function oS(){return L.lFrame.currentNamespace}var s0=!0;function Jl(){return s0}function Xl(e){s0=e}function sS(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=Ly(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function ec(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function ul(e,n,t){a0(e,n,3,t)}function dl(e,n,t,i){(e[R]&3)===t&&a0(e,n,t,i)}function Qd(e,n){let t=e[R];(t&3)===n&&(t&=16383,t+=1,e[R]=t)}function a0(e,n,t,i){let r=i!==void 0?e[mr]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(e[mr]+=65536),(a<o||o==-1)&&(aS(e,t,n,l),e[mr]=(e[mr]&4294901760)+l+2),l++}function jv(e,n){Ut(4,e,n);let t=K(null);try{n.call(e)}finally{K(t),Ut(5,e,n)}}function aS(e,n,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],a=e[s];r?e[R]>>14<e[mr]>>16&&(e[R]&3)===n&&(e[R]+=16384,jv(a,o)):jv(a,o)}var Dr=-1,wi=class{constructor(n,t,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function lS(e){return e instanceof wi}function cS(e){return(e.flags&8)!==0}function uS(e){return(e.flags&16)!==0}var Yd={},vh=class{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){i=$l(i);let r=this.injector.get(n,Yd,i);return r!==Yd||t===Yd?r:this.parentInjector.get(n,t,i)}};function l0(e){return e!==Dr}function bl(e){return e&32767}function dS(e){return e>>16}function wl(e,n){let t=dS(e),i=n;for(;t>0;)i=i[Rr],t--;return i}var yh=!0;function Cl(e){let n=yh;return yh=e,n}var hS=256,c0=hS-1,u0=5,fS=0,$t={};function pS(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Vo)&&(i=t[Vo]),i==null&&(i=t[Vo]=fS++);let r=i&c0,o=1<<r;n.data[e+(r>>u0)]|=o}function El(e,n){let t=d0(e,n);if(t!==-1)return t;let i=n[P];i.firstCreatePass&&(e.injectorIndex=n.length,Jd(i.data,e),Jd(n,null),Jd(i.blueprint,null));let r=bf(e,n),o=e.injectorIndex;if(l0(r)){let s=bl(r),a=wl(r,n),l=a[P].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function Jd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function d0(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function bf(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=m0(r),i===null)return Dr;if(t++,r=r[Rr],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Dr}function Dh(e,n,t){pS(e,n,t)}function h0(e,n,t){if(t&$.Optional||e!==void 0)return e;sf(n,"NodeInjector")}function f0(e,n,t,i){if(t&$.Optional&&i===void 0&&(i=null),!(t&($.Self|$.Host))){let r=e[Er],o=Qe(void 0);try{return r?r.get(n,i,t&$.Optional):gy(n,i,t&$.Optional)}finally{Qe(o)}}return h0(i,n,t)}function p0(e,n,t,i=$.Default,r){if(e!==null){if(n[R]&2048&&!(i&$.Self)){let s=vS(e,n,t,i,$t);if(s!==$t)return s}let o=g0(e,n,t,i,$t);if(o!==$t)return o}return f0(n,t,i,r)}function g0(e,n,t,i,r){let o=mS(t);if(typeof o=="function"){if(!e0(n,e,i))return i&$.Host?h0(r,t,i):f0(n,t,i,r);try{let s;if(s=o(i),s==null&&!(i&$.Optional))sf(t);else return s}finally{r0()}}else if(typeof o=="number"){let s=null,a=d0(e,n),l=Dr,c=i&$.Host?n[pt][Xe]:null;for((a===-1||i&$.SkipSelf)&&(l=a===-1?bf(e,n):n[a+8],l===Dr||!$v(i,!1)?a=-1:(s=n[P],a=bl(l),n=wl(l,n)));a!==-1;){let u=n[P];if(Uv(o,a,u.data)){let d=gS(a,n,t,s,i,c);if(d!==$t)return d}l=n[a+8],l!==Dr&&$v(i,n[P].data[a+8]===c)&&Uv(o,a,n)?(s=u,a=bl(l),n=wl(l,n)):a=-1}}return r}function gS(e,n,t,i,r,o){let s=n[P],a=s.data[e+8],l=i==null?Wl(a)&&yh:i!=s&&(a.type&3)!==0,c=r&$.Host&&o===a,u=hl(a,s,t,l,c);return u!==null?Ci(n,s,u,a):$t}function hl(e,n,t,i,r){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){let f=s[l];if(f&&Bn(f)&&f.type===t)return l}return null}function Ci(e,n,t,i){let r=e[t],o=n.data;if(lS(r)){let s=r;s.resolving&&HT($T(o[t]));let a=Cl(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Qe(s.injectImpl):null,u=e0(e,i,$.Default);try{r=e[t]=s.factory(void 0,o,e,i),n.firstCreatePass&&t>=i.directiveStart&&sS(t,o[t],n)}finally{c!==null&&Qe(c),Cl(a),s.resolving=!1,r0()}}return r}function mS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Vo)?e[Vo]:void 0;return typeof n=="number"?n>=0?n&c0:_S:n}function Uv(e,n,t){let i=1<<e;return!!(t[n+(e>>u0)]&i)}function $v(e,n){return!(e&$.Self)&&!(e&$.Host&&n)}var mi=class{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return p0(this._tNode,this._lView,n,$l(i),t)}};function _S(){return new mi($e(),Q())}function zt(e){return qo(()=>{let n=e.prototype.constructor,t=n[pl]||bh(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[pl]||bh(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function bh(e){return cy(e)?()=>{let n=bh(je(e));return n&&n()}:_i(e)}function vS(e,n,t,i,r){let o=e,s=n;for(;o!==null&&s!==null&&s[R]&2048&&!(s[R]&512);){let a=g0(o,s,t,i|$.Self,$t);if(a!==$t)return a;let l=o.parent;if(!l){let c=s[ky];if(c){let u=c.get(t,$t,i);if(u!==$t)return u}l=m0(s),s=s[Rr]}o=l}return r}function m0(e){let n=e[P],t=n.type;return t===2?n.declTNode:t===1?e[Xe]:null}function Hv(e,n=null,t=null,i){let r=_0(e,n,t,i);return r.resolveInjectorInitializers(),r}function _0(e,n=null,t=null,i,r=new Set){let o=[t||Ye,bI(e)];return i=i||(typeof e=="object"?void 0:Ue(e)),new $o(o,n||Gl(),i||null,r)}var xe=class e{static{this.THROW_IF_NOT_FOUND=jo}static{this.NULL=new _l}static create(n,t){if(Array.isArray(n))return Hv({name:""},t,n,"");{let i=n.name??"";return Hv({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=b({token:e,providedIn:"any",factory:()=>_(vy)})}static{this.__NG_ELEMENT_ID__=-1}};var yS=new w("");yS.__NG_ELEMENT_ID__=e=>{let n=$e();if(n===null)throw new S(204,!1);if(n.type&2)return n.value;if(e&$.Optional)return null;throw new S(204,!1)};var DS="ngOriginalError";function Xd(e){return e[DS]}var v0=!0,tc=(()=>{class e{static{this.__NG_ELEMENT_ID__=bS}static{this.__NG_ENV_ID__=t=>t}}return e})(),wh=class extends tc{constructor(n){super(),this._lView=n}onDestroy(n){return Wy(this._lView,n),()=>$I(this._lView,n)}};function bS(){return new wh(Q())}var Gn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Ch=class extends q{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,xy()&&(this.destroyRef=g(tc,{optional:!0})??void 0,this.pendingTasks=g(Gn,{optional:!0})??void 0)}emit(n){let t=K(null);try{super.next(n)}finally{K(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof fe&&n.add(a),a}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{n(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},re=Ch;function Tl(...e){}function y0(e){let n,t;function i(){e=Tl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Gv(e){return queueMicrotask(()=>e()),()=>{e=Tl}}var wf="isAngularZone",Il=wf+"_ID",wS=0,H=class e{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new re(!1),this.onMicrotaskEmpty=new re(!1),this.onStable=new re(!1),this.onError=new re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=v0}=n;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,TS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(wf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,CS,Tl,Tl);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},CS={};function Cf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ES(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){y0(()=>{e.callbackScheduled=!1,Eh(e),e.isCheckStableRunning=!0,Cf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Eh(e)}function TS(e){let n=()=>{ES(e)},t=wS++;e._inner=e._inner.fork({name:"angular",properties:{[wf]:!0,[Il]:t,[Il+t]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(IS(l))return i.invokeTask(o,s,a,l);try{return zv(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Wv(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return zv(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!SS(l)&&n(),Wv(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Eh(e),Cf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Eh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wv(e){e._nesting--,Cf(e)}var Sl=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new re,this.onMicrotaskEmpty=new re,this.onStable=new re,this.onError=new re}run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function IS(e){return D0(e,"__ignore_ng_zone__")}function SS(e){return D0(e,"__scheduler_tick__")}function D0(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function MS(e="zone.js",n){return e==="noop"?new Sl:e==="zone.js"?new H(n):e}var un=class{constructor(){this._console=console}handleError(n){let t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Xd(n);for(;t&&Xd(t);)t=Xd(t);return t||null}},NS=new w("",{providedIn:"root",factory:()=>{let e=g(H),n=g(un);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function AS(){return Fr($e(),Q())}function Fr(e,n){return new et(mt(e,n))}var et=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=AS}}return e})();function OS(e){return e instanceof et?e.nativeElement:e}function RS(){return this._results[Symbol.iterator]()}var Th=class e{get changes(){return this._changes??=new re}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=RS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let i=eI(n);(this._changesDetected=!XT(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function b0(e){return(e.flags&128)===128}var w0=new Map,xS=0;function kS(){return xS++}function FS(e){w0.set(e[zl],e)}function Ih(e){w0.delete(e[zl])}var qv="__ngContext__";function jn(e,n){Ln(n)?(e[qv]=n[zl],FS(n)):e[qv]=n}function C0(e){return T0(e[Go])}function E0(e){return T0(e[Nt])}function T0(e){for(;e!==null&&!mn(e);)e=e[Nt];return e}var Sh;function I0(e){Sh=e}function PS(){if(Sh!==void 0)return Sh;if(typeof document<"u")return document;throw new S(210,!1)}var nc=new w("",{providedIn:"root",factory:()=>LS}),LS="ng",Ef=new w(""),Pe=new w("",{providedIn:"platform",factory:()=>"unknown"});var Tf=new w("",{providedIn:"root",factory:()=>PS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VS="h",BS="b";var jS=()=>null;function If(e,n,t=!1){return jS(e,n,t)}var S0=!1,US=new w("",{providedIn:"root",factory:()=>S0});var Mh=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RT})`}};function ic(e){return e instanceof Mh?e.changingThisBreaksApplicationSecurity:e}var $S=/^>|^->|<!--|-->|--!>|<!-$/g,HS=/(<|>)/g,GS="\u200B$1\u200B";function zS(e){return e.replace($S,n=>n.replace(HS,GS))}function M0(e){return e instanceof Function?e():e}function WS(e){return(e??g(xe)).get(Pe)==="browser"}var dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dn||{}),qS;function Sf(e,n){return qS(e,n)}function _r(e,n,t,i,r){if(i!=null){let o,s=!1;mn(i)?o=i:Ln(i)&&(s=!0,i=i[gn]);let a=Gt(i);e===0&&t!==null?r==null?k0(n,t,a):Ml(n,t,a,r||null,!0):e===1&&t!==null?Ml(n,t,a,r||null,!0):e===2?aM(n,a,s):e===3&&n.destroyNode(a),o!=null&&cM(n,e,o,t,r)}}function ZS(e,n){return e.createText(n)}function KS(e,n,t){e.setValue(n,t)}function QS(e,n){return e.createComment(zS(n))}function N0(e,n,t){return e.createElement(n,t)}function YS(e,n){A0(e,n),n[gn]=null,n[Xe]=null}function JS(e,n,t,i,r,o){i[gn]=r,i[Xe]=n,oc(e,i,t,1,r,o)}function A0(e,n){n[ln].changeDetectionScheduler?.notify(9),oc(e,n,n[ge],2,null,null)}function XS(e){let n=e[Go];if(!n)return eh(e[P],e);for(;n;){let t=null;if(Ln(n))t=n[Go];else{let i=n[tt];i&&(t=i)}if(!t){for(;n&&!n[Nt]&&n!==e;)Ln(n)&&eh(n[P],n),n=n[Fe];n===null&&(n=e),Ln(n)&&eh(n[P],n),t=n&&n[Nt]}n=t}}function eM(e,n,t,i){let r=tt+i,o=t.length;i>0&&(t[r-1][Nt]=n),i<o-tt?(n[Nt]=t[r],_y(t,tt+i,n)):(t.push(n),n[Nt]=null),n[Fe]=t;let s=n[vi];s!==null&&t!==s&&O0(s,n);let a=n[cn];a!==null&&a.insertView(e),mh(n),n[R]|=128}function O0(e,n){let t=e[Tr],i=n[Fe];if(Ln(i))e[R]|=Dl.HasTransplantedViews;else{let r=i[Fe][pt];n[pt]!==r&&(e[R]|=Dl.HasTransplantedViews)}t===null?e[Tr]=[n]:t.push(n)}function Mf(e,n){let t=e[Tr],i=t.indexOf(n);t.splice(i,1)}function Nh(e,n){if(e.length<=tt)return;let t=tt+n,i=e[t];if(i){let r=i[vi];r!==null&&r!==e&&Mf(r,i),n>0&&(e[t-1][Nt]=i[Nt]);let o=ml(e,tt+n);YS(i[P],i);let s=o[cn];s!==null&&s.detachView(o[P]),i[Fe]=null,i[Nt]=null,i[R]&=-129}return i}function R0(e,n){if(!(n[R]&256)){let t=n[ge];t.destroyNode&&oc(e,n,t,3,null,null),XS(n)}}function eh(e,n){if(n[R]&256)return;let t=K(null);try{n[R]&=-129,n[R]|=256,n[ft]&&Id(n[ft]),nM(e,n),tM(e,n),n[P].type===1&&n[ge].destroy();let i=n[vi];if(i!==null&&mn(n[Fe])){i!==n[Fe]&&Mf(i,n);let r=n[cn];r!==null&&r.detachView(e)}Ih(n)}finally{K(t)}}function tM(e,n){let t=e.cleanup,i=n[vl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[t[o+1]];t[o].call(s)}i!==null&&(n[vl]=null);let r=n[Pn];if(r!==null){n[Pn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function nM(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof wi)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Ut(4,a,l);try{l.call(a)}finally{Ut(5,a,l)}}else{Ut(4,r,o);try{o.call(r)}finally{Ut(5,r,o)}}}}}function x0(e,n,t){return iM(e,n.parent,t)}function iM(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[gn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Ht.None||o===Ht.Emulated)return null}return mt(i,t)}}function Ml(e,n,t,i,r){e.insertBefore(n,t,i,r)}function k0(e,n,t){e.appendChild(n,t)}function Zv(e,n,t,i,r){i!==null?Ml(e,n,t,i,r):k0(e,n,t)}function F0(e,n){return e.parentNode(n)}function rM(e,n){return e.nextSibling(n)}function P0(e,n,t){return sM(e,n,t)}function oM(e,n,t){return e.type&40?mt(e,t):null}var sM=oM,Kv;function rc(e,n,t,i){let r=x0(e,i,n),o=n[ge],s=i.parent||n[Xe],a=P0(s,i,n);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Zv(o,r,t[l],a,!1);else Zv(o,r,t,a,!1);Kv!==void 0&&Kv(o,i,n,t,r)}function Lo(e,n){if(n!==null){let t=n.type;if(t&3)return mt(n,e);if(t&4)return Ah(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return Lo(e,i);{let r=e[n.index];return mn(r)?Ah(-1,r):Gt(r)}}else{if(t&128)return Lo(e,n.next);if(t&32)return Sf(n,e)()||Gt(e[n.index]);{let i=L0(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=Di(e[pt]);return Lo(r,i)}else return Lo(e,n.next)}}}return null}function L0(e,n){if(n!==null){let i=e[pt][Xe],r=n.projection;return i.projection[r]}return null}function Ah(e,n){let t=tt+e+1;if(t<n.length){let i=n[t],r=i[P].firstChild;if(r!==null)return Lo(i,r)}return n[yi]}function aM(e,n,t){e.removeChild(null,n,t)}function Nf(e,n,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(s&&n===0&&(a&&jn(Gt(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)Nf(e,n,t.child,i,r,o,!1),_r(n,e,r,a,o);else if(l&32){let c=Sf(t,i),u;for(;u=c();)_r(n,e,r,u,o);_r(n,e,r,a,o)}else l&16?V0(e,n,i,t,r,o):_r(n,e,r,a,o);t=s?t.projectionNext:t.next}}function oc(e,n,t,i,r,o){Nf(t,i,e.firstChild,n,r,o,!1)}function lM(e,n,t){let i=n[ge],r=x0(e,t,n),o=t.parent||n[Xe],s=P0(o,t,n);V0(i,0,n,t,r,s)}function V0(e,n,t,i,r,o){let s=t[pt],l=s[Xe].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];_r(n,e,r,u,o)}else{let c=l,u=s[Fe];b0(i)&&(c.flags|=128),Nf(e,n,c,u,r,o,!0)}}function cM(e,n,t,i,r){let o=t[yi],s=Gt(t);o!==s&&_r(n,e,i,o,r);for(let a=tt;a<t.length;a++){let l=t[a];oc(l[P],l,e,n,i,o)}}function uM(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:dn.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=dn.Important),e.setStyle(t,i,r,o))}}function dM(e,n,t){e.setAttribute(n,"style",t)}function B0(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function j0(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&uh(e,n,i),r!==null&&B0(e,n,r),o!==null&&dM(e,n,o)}var _n={};function _t(e=1){U0(ve(),Q(),Ni()+e,!1)}function U0(e,n,t,i){if(!i)if((n[R]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ul(n,o,t)}else{let o=e.preOrderHooks;o!==null&&dl(n,o,0,t)}bi(t)}function ee(e,n=$.Default){let t=Q();if(t===null)return _(e,n);let i=$e();return p0(i,t,je(e),n)}function $0(){let e="invalid";throw new Error(e)}function H0(e,n,t,i,r,o){let s=K(null);try{let a=null;r&Vn.SignalBased&&(a=n[i][nn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Vn.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(n,o)),e.setInput!==null?e.setInput(n,a,o,t,i):Py(n,a,i,o)}finally{K(s)}}function hM(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)bi(~r);else{let o=r,s=t[++i],a=t[++i];XI(s,o);let l=n[o];a(2,l)}}}finally{bi(-1)}}function sc(e,n,t,i,r,o,s,a,l,c,u){let d=n.blueprint.slice();return d[gn]=r,d[R]=i|4|128|8|64,(c!==null||e&&e[R]&2048)&&(d[R]|=2048),Gy(d),d[Fe]=d[Rr]=e,d[At]=t,d[ln]=s||e&&e[ln],d[ge]=a||e&&e[ge],d[Er]=l||e&&e[Er]||null,d[Xe]=o,d[zl]=kS(),d[Ho]=u,d[ky]=c,d[pt]=n.type==2?e[pt]:d,d}function Pr(e,n,t,i,r){let o=e.data[n];if(o===null)o=fM(e,n,t,i,r),JI()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=ZI();o.injectorIndex=s===null?-1:s.injectorIndex}return Mi(o,!0),o}function fM(e,n,t,i,r){let o=Qy(),s=gf(),a=s?o:o&&o.parent,l=e.data[n]=yM(e,a,t,n,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function G0(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function z0(e,n,t,i,r){let o=Ni(),s=i&2;try{bi(-1),s&&n.length>Je&&U0(e,n,Je,!1),Ut(s?2:0,r),t(i,r)}finally{bi(o),Ut(s?3:1,r)}}function Af(e,n,t){if(ff(n)){let i=K(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{K(i)}}}function Of(e,n,t){Zy()&&(TM(e,n,t,mt(t,n)),(t.flags&64)===64&&K0(e,n,t))}function Rf(e,n,t=mt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?t(n,e):e[s];e[r++]=a}}}function W0(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=xf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function xf(e,n,t,i,r,o,s,a,l,c,u){let d=Je+i,h=d+r,f=pM(d,h),p=typeof c=="function"?c():c;return f[P]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function pM(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:_n);return t}function gM(e,n,t,i){let o=i.get(US,S0)||t===Ht.ShadowDom,s=e.selectRootElement(n,o);return mM(s),s}function mM(e){_M(e)}var _M=()=>null;function vM(e,n,t,i){let r=J0(n);r.push(t),e.firstCreatePass&&X0(e).push(i,r.length-1)}function yM(e,n,t,i,r,o){let s=n?n.injectorIndex:-1,a=0;return Ky()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qv(e,n,t,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=Vn.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?Yv(i,t,c,a,l):Yv(i,t,c,a)}return i}function Yv(e,n,t,i,r){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,i):o=e[t]=[n,i],r!==void 0&&o.push(r)}function DM(e,n,t){let i=n.directiveStart,r=n.directiveEnd,o=e.data,s=n.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=t?t.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Qv(0,d.inputs,u,l,f),c=Qv(1,d.outputs,u,c,p);let m=l!==null&&s!==null&&!uf(n)?PM(l,u,s):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function bM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function q0(e,n,t,i,r,o,s,a){let l=mt(n,t),c=n.inputs,u;!a&&c!=null&&(u=c[i])?(Ff(e,t,u,i,r),Wl(n)&&wM(t,n.index)):n.type&3?(i=bM(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function wM(e,n){let t=Hn(n,e);t[R]&16||(t[R]|=64)}function kf(e,n,t,i){if(Zy()){let r=i===null?null:{"":-1},o=SM(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Z0(e,n,t,s,r,a),r&&MM(t,i,r)}t.mergedAttrs=Uo(t.mergedAttrs,t.attrs)}function Z0(e,n,t,i,r,o){for(let c=0;c<i.length;c++)Dh(El(t,n),e,i[c].type);AM(t,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=G0(e,n,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];t.mergedAttrs=Uo(t.mergedAttrs,u.hostAttrs),OM(e,t,n,l,u),NM(l,u,r),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}DM(e,t,o)}function CM(e,n,t,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;EM(s)!=a&&s.push(a),s.push(t,i,o)}}function EM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function TM(e,n,t,i){let r=t.directiveStart,o=t.directiveEnd;Wl(t)&&RM(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||El(t,n),jn(i,n);let s=t.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Ci(n,e,a,t);if(jn(c,n),s!==null&&FM(n,a-r,c,l,t,s),Bn(l)){let u=Hn(t.index,n);u[At]=Ci(n,e,a,t)}}}function K0(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=eS();try{bi(o);for(let a=i;a<r;a++){let l=e.data[a],c=n[a];_h(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&IM(l,c)}}finally{bi(-1),_h(s)}}function IM(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function SM(e,n){let t=e.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(wy(n,s.selectors,!1))if(i||(i=[]),Bn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Oh(e,n,l)}else i.unshift(s),Oh(e,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Oh(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function MM(e,n,t){if(n){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new S(-301,!1);i.push(n[r],o)}}}function NM(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Bn(n)&&(t[""]=e)}}function AM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function OM(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=_i(r.type,!0)),s=new wi(o,Bn(r),ee);e.blueprint[i]=s,t[i]=s,CM(e,n,i,G0(e,t,r.hostVars,_n),r)}function RM(e,n,t){let i=mt(n,e),r=W0(t),o=e[ln].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ac(e,sc(e,r,null,s,i,n,null,o.createRenderer(i,t),null,null,null));e[n.index]=a}function xM(e,n,t,i,r,o){let s=mt(e,n);kM(n[ge],s,o,e.value,t,i,r)}function kM(e,n,t,i,r,o,s){if(o==null)e.removeAttribute(n,r,t);else{let a=s==null?of(o):s(o,i||"",r);e.setAttribute(n,r,a,t)}}function FM(e,n,t,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];H0(i,t,l,c,u,d)}}function PM(e,n,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}return i}function Q0(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Y0(e,n){let t=e.contentQueries;if(t!==null){let i=K(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let a=e.data[s];_f(o),a.contentQueries(2,n[s],s)}}}finally{K(i)}}}function ac(e,n){return e[Go]?e[Lv][Nt]=n:e[Go]=n,e[Lv]=n,n}function Rh(e,n,t){_f(0);let i=K(null);try{n(e,t)}finally{K(i)}}function J0(e){return e[vl]??=[]}function X0(e){return e.cleanup??=[]}function eD(e,n){let t=e[Er],i=t?t.get(un,null):null;i&&i.handleError(n)}function Ff(e,n,t,i,r){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],c=n[s],u=e.data[s];H0(u,c,i,a,l,r)}}function LM(e,n,t){let i=Uy(n,e);KS(e[ge],i,t)}function VM(e,n){let t=Hn(n,e),i=t[P];BM(i,t);let r=t[gn];r!==null&&t[Ho]===null&&(t[Ho]=If(r,t[Er])),Pf(i,t,t[At])}function BM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Pf(e,n,t){vf(n);try{let i=e.viewQuery;i!==null&&Rh(1,i,t);let r=e.template;r!==null&&z0(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[cn]?.finishViewCreation(e),e.staticContentQueries&&Y0(e,n),e.staticViewQueries&&Rh(2,e.viewQuery,t);let o=e.components;o!==null&&jM(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[R]&=-5,yf()}}function jM(e,n){for(let t=0;t<n.length;t++)VM(e,n[t])}function tD(e,n,t,i){let r=K(null);try{let o=n.tView,a=e[R]&4096?4096:16,l=sc(e,o,t,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[n.index];l[vi]=c;let u=e[cn];return u!==null&&(l[cn]=u.createEmbeddedView(o)),Pf(o,l,t),l}finally{K(r)}}function xh(e,n){return!n||n.firstChild===null||b0(e)}function nD(e,n,t,i=!0){let r=n[P];if(eM(r,n,e,t),i){let s=Ah(t,e),a=n[ge],l=F0(a,e[yi]);l!==null&&JS(r,e[Xe],a,n,l,s)}let o=n[Ho];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nl(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(Gt(o)),mn(o)&&UM(o,i);let s=t.type;if(s&8)Nl(e,n,t.child,i);else if(s&32){let a=Sf(t,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=L0(n,t);if(Array.isArray(a))i.push(...a);else{let l=Di(n[pt]);Nl(l[P],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function UM(e,n){for(let t=tt;t<e.length;t++){let i=e[t],r=i[P].firstChild;r!==null&&Nl(i[P],i,r,n)}e[yi]!==e[gn]&&n.push(e[yi])}var iD=[];function $M(e){return e[ft]??HM(e)}function HM(e){let n=iD.pop()??Object.create(zM);return n.lView=e,n}function GM(e){e.lView[ft]!==e&&(e.lView=null,iD.push(e))}var zM=F(y({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Kl(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function WM(e){let n=e[ft]??Object.create(qM);return n.lView=e,n}var qM=F(y({},Oo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Di(e.lView);for(;n&&!rD(n[P]);)n=Di(n);n&&zy(n)},consumerOnSignalRead(){this.lView[ft]=this}});function rD(e){return e.type!==2}var ZM=100;function oD(e,n=!0,t=0){let i=e[ln],r=i.rendererFactory,o=!1;o||r.begin?.();try{KM(e,t)}catch(s){throw n&&eD(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function KM(e,n){let t=Yy();try{Bv(!0),kh(e,n);let i=0;for(;Zl(e);){if(i===ZM)throw new S(103,!1);i++,kh(e,1)}}finally{Bv(t)}}function QM(e,n,t,i){let r=n[R];if((r&256)===256)return;let o=!1,s=!1;!o&&n[ln].inlineEffectRunner?.flush(),vf(n);let a=!0,l=null,c=null;o||(rD(e)?(c=$M(n),l=Na(c)):q_()===null?(a=!1,c=WM(n),l=Na(c)):n[ft]&&(Id(n[ft]),n[ft]=null));try{Gy(n),YI(e.bindingStartIndex),t!==null&&z0(e,n,t,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&ul(n,f,null)}else{let f=e.preOrderHooks;f!==null&&dl(n,f,0,null),Qd(n,0)}if(s||YM(n),sD(n,0),e.contentQueries!==null&&Y0(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&ul(n,f)}else{let f=e.contentHooks;f!==null&&dl(n,f,1),Qd(n,1)}hM(e,n);let d=e.components;d!==null&&lD(n,d,0);let h=e.viewQuery;if(h!==null&&Rh(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&ul(n,f)}else{let f=e.viewHooks;f!==null&&dl(n,f,2),Qd(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Kd]){for(let f of n[Kd])f();n[Kd]=null}o||(n[R]&=-73)}catch(u){throw o||Kl(n),u}finally{c!==null&&(Ed(c,l),a&&GM(c)),yf()}}function sD(e,n){for(let t=C0(e);t!==null;t=E0(t))for(let i=tt;i<t.length;i++){let r=t[i];aD(r,n)}}function YM(e){for(let n=C0(e);n!==null;n=E0(n)){if(!(n[R]&Dl.HasTransplantedViews))continue;let t=n[Tr];for(let i=0;i<t.length;i++){let r=t[i];zy(r)}}}function JM(e,n,t){let i=Hn(n,e);aD(i,t)}function aD(e,n){pf(e)&&kh(e,n)}function kh(e,n){let i=e[P],r=e[R],o=e[ft],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&Td(o)),s||=!1,o&&(o.dirty=!1),e[R]&=-9217,s)QM(i,e,i.template,e[At]);else if(r&8192){sD(e,1);let a=i.components;a!==null&&lD(e,a,1)}}function lD(e,n,t){for(let i=0;i<n.length;i++)JM(e,n[i],t)}function Lf(e,n){let t=Yy()?64:1088;for(e[ln].changeDetectionScheduler?.notify(n);e;){e[R]|=t;let i=Di(e);if(ph(e)&&!i)return e;e=i}return null}var Ei=class{get rootNodes(){let n=this._lView,t=n[P];return Nl(t,n,t.firstChild,[])}constructor(n,t,i=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(n){this._lView[At]=n}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Fe];if(mn(n)){let t=n[yl],i=t?t.indexOf(this):-1;i>-1&&(Nh(n,i),ml(t,i))}this._attachedToViewContainer=!1}R0(this._lView[P],this._lView)}onDestroy(n){Wy(this._lView,n)}markForCheck(){Lf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[R]&=-129}reattach(){mh(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,oD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=ph(this._lView),t=this._lView[vi];t!==null&&!n&&Mf(t,this._lView),A0(this._lView[P],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=n;let t=ph(this._lView),i=this._lView[vi];i!==null&&!t&&O0(i,this._lView),mh(this._lView)}},hn=(()=>{class e{static{this.__NG_ELEMENT_ID__=tN}}return e})(),XM=hn,eN=class extends XM{constructor(n,t,i){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,i){let r=tD(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:i});return new Ei(r)}};function tN(){return lc($e(),Q())}function lc(e,n){return e.type&4?new eN(n,e,Fr(e,n)):null}var K3=new RegExp(`^(\\d+)*(${BS}|${VS})*(.*)`);var nN=()=>null;function Fh(e,n){return nN(e,n)}var Sr=class{},Vf=new w("",{providedIn:"root",factory:()=>!1});var cD=new w(""),uD=new w(""),Ph=class{},Al=class{};function iN(e){let n=Error(`No component factory found for ${Ue(e)}.`);return n[rN]=e,n}var rN="ngComponent";var Lh=class{resolveComponentFactory(n){throw iN(n)}},Mr=class{static{this.NULL=new Lh}},Nr=class{},Lr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>oN()}}return e})();function oN(){let e=Q(),n=$e(),t=Hn(n.index,e);return(Ln(t)?t:e)[ge]}var sN=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ol(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=sh(r,a);else if(o==2){let l=a,c=n[++s];i=sh(i,l+": "+c+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}var Rl=class extends Mr{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=an(n);return new Ti(t,this.ngModule)}};function Jv(e,n){let t=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Vn.None;n?t.push({propName:s,templateName:i,isSignal:(a&Vn.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function aN(e){let n=e.toLowerCase();return n==="svg"?jy:n==="math"?VI:null}var Ti=class extends Al{get inputs(){let n=this.componentDef,t=n.inputTransforms,i=Jv(n.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Jv(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=mI(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,i,r){let o=K(null);try{r=r||this.ngModule;let s=r instanceof Se?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new vh(n,s):n,l=a.get(Nr,null);if(l===null)throw new S(407,!1);let c=a.get(sN,null),u=a.get(Sr,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?gM(h,i,this.componentDef.encapsulation,a):N0(h,f,aN(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let D=null;p!==null&&(D=If(p,a,!0));let I=xf(0,null,null,1,0,null,null,null,null,null,null),B=sc(null,I,null,m,null,null,d,h,a,null,D);vf(B);let T,ie,he=null;try{let De=this.componentDef,en,_d=null;De.findHostDirectiveDefs?(en=[],_d=new Map,De.findHostDirectiveDefs(De,en,_d),en.push(De)):en=[De];let K1=lN(B,p);he=cN(K1,p,De,en,B,d,h),ie=$y(I,Je),p&&hN(h,De,p,i),t!==void 0&&fN(ie,this.ngContentSelectors,t),T=dN(he,De,en,_d,B,[pN]),Pf(I,B,null)}catch(De){throw he!==null&&Ih(he),Ih(B),De}finally{yf()}return new Vh(this.componentType,T,Fr(ie,B),B,ie)}finally{K(o)}}},Vh=class extends Ph{constructor(n,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ei(r,void 0,!1),this.componentType=n}setInput(n,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView;Ff(o[P],o,r,n,t),this.previousInputValues.set(n,t);let s=Hn(this._tNode.index,o);Lf(s,1)}}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function lN(e,n){let t=e[P],i=Je;return e[i]=n,Pr(t,i,2,"#host",null)}function cN(e,n,t,i,r,o,s){let a=r[P];uN(i,e,n,s);let l=null;n!==null&&(l=If(n,r[Er]));let c=o.rendererFactory.createRenderer(n,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let d=sc(r,W0(t),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Oh(a,e,i.length-1),ac(r,d),r[e.index]=d}function uN(e,n,t,i){for(let r of e)n.mergedAttrs=Uo(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(Ol(n,n.mergedAttrs,!0),t!==null&&j0(i,t,n))}function dN(e,n,t,i,r,o){let s=$e(),a=r[P],l=mt(s,r);Z0(a,r,s,t,null,i);for(let u=0;u<t.length;u++){let d=s.directiveStart+u,h=Ci(r,a,d,s);jn(h,r)}K0(a,r,s),l&&jn(l,r);let c=Ci(r,a,s.directiveStart+s.componentOffset,s);if(e[At]=r[At]=c,o!==null)for(let u of o)u(c,n);return Af(a,s,r),c}function hN(e,n,t,i){if(i)uh(e,t,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=_I(n.selectors[0]);r&&uh(e,t,r),o&&o.length>0&&B0(e,t,o.join(" "))}}function fN(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null?Array.from(o):null)}}function pN(){let e=$e();ec(Q()[P],e)}var vn=(()=>{class e{static{this.__NG_ELEMENT_ID__=gN}}return e})();function gN(){let e=$e();return hD(e,Q())}var mN=vn,dD=class extends mN{constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return Fr(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let n=bf(this._hostTNode,this._hostLView);if(l0(n)){let t=wl(n,this._hostLView),i=bl(n),r=t[P].data[i+8];return new mi(r,t)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Xv(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Fh(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,xh(this._hostTNode,s)),a}createComponent(n,t,i,r,o){let s=n&&!kI(n),a;if(s)a=t;else{let p=t||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?n:new Ti(an(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let m=(s?c:this.parentInjector).get(Se,null);m&&(o=m)}let u=an(l.componentType??{}),d=Fh(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,xh(this._hostTNode,d)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(jI(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[Fe],c=new dD(l,l[Xe],l[Fe]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return nD(s,r,o,i),n.attachToViewContainerRef(),_y(th(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Xv(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=Nh(this._lContainer,t);i&&(ml(th(this._lContainer),t),R0(i[P],i))}detach(n){let t=this._adjustIndex(n,-1),i=Nh(this._lContainer,t);return i&&ml(th(this._lContainer),t)!=null?new Ei(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function Xv(e){return e[yl]}function th(e){return e[yl]||(e[yl]=[])}function hD(e,n){let t,i=n[e.index];return mn(i)?t=i:(t=Q0(i,n,null,e),n[e.index]=t,ac(n,t)),vN(t,n,e,i),new dD(t,e,n)}function _N(e,n){let t=e[ge],i=t.createComment(""),r=mt(n,e),o=F0(t,r);return Ml(t,o,i,rM(t,r),!1),i}var vN=bN,yN=()=>!1;function DN(e,n,t){return yN(e,n,t)}function bN(e,n,t,i){if(e[yi])return;let r;t.type&8?r=Gt(i):r=_N(n,t),e[yi]=r}var Bh=class e{constructor(n){this.queryList=n,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},jh=class e{constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let i=n.contentQueries!==null?n.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Bf(n,t).matches!==null&&this.queries[t].setDirty()}},Uh=class{constructor(n,t,i=null){this.flags=t,this.read=i,typeof n=="string"?this.predicate=NN(n):this.predicate=n}},$h=class e{constructor(n=[]){this.queries=n}elementStart(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(n,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},Hh=class e{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,t,wN(t,o)),this.matchTNodeWithReadOption(n,t,hl(t,n,o,!1,!1))}else i===hn?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,hl(t,n,i,!1,!1))}matchTNodeWithReadOption(n,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===et||r===vn||r===hn&&t.type&4)this.addMatch(t.index,-2);else{let o=hl(t,n,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function wN(e,n){let t=e.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===n)return t[i+1]}return null}function CN(e,n){return e.type&11?Fr(e,n):e.type&4?lc(e,n):null}function EN(e,n,t,i){return t===-1?CN(n,e):t===-2?TN(e,n,i):Ci(e,e[P],t,n)}function TN(e,n,t){if(t===et)return Fr(n,e);if(t===hn)return lc(n,e);if(t===vn)return hD(n,e)}function fD(e,n,t,i){let r=n[cn].queries[i];if(r.matches===null){let o=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(EN(n,u,s[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Gh(e,n,t,i){let r=e.queries.getByIndex(t),o=r.matches;if(o!==null){let s=fD(e,n,r,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=n[-l];for(let d=tt;d<u.length;d++){let h=u[d];h[vi]===h[Fe]&&Gh(h[P],h,c,i)}if(u[Tr]!==null){let d=u[Tr];for(let h=0;h<d.length;h++){let f=d[h];Gh(f[P],f,c,i)}}}}}return i}function IN(e,n){return e[cn].queries[n].queryList}function SN(e,n,t){let i=new Th((t&4)===4);return vM(e,n,i,i.destroy),(n[cn]??=new jh).queries.push(new Bh(i))-1}function MN(e,n,t){let i=ve();return i.firstCreatePass&&(AN(i,new Uh(e,n,t),-1),(n&2)===2&&(i.staticViewQueries=!0)),SN(i,Q(),n)}function NN(e){return e.split(",").map(n=>n.trim())}function AN(e,n,t){e.queries===null&&(e.queries=new $h),e.queries.track(new Hh(n,t))}function Bf(e,n){return e.queries.getByIndex(n)}function ON(e,n){let t=e[P],i=Bf(t,n);return i.crossesNgTemplate?Gh(t,e,n,[]):fD(t,e,i,n)}var ey=new Set;function Vr(e){ey.has(e)||(ey.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function RN(e){return typeof e=="function"&&e[nn]!==void 0}function cc(e,n){Vr("NgSignals");let t=rv(e),i=t[nn];return n?.equal&&(i.equal=n.equal),t.set=r=>Sd(i,r),t.update=r=>ov(i,r),t.asReadonly=xN.bind(t),t}function xN(){let e=this[nn];if(e.readonlyFn===void 0){let n=()=>this();n[nn]=e,e.readonlyFn=n}return e.readonlyFn}function pD(e){return RN(e)&&typeof e.set=="function"}function kN(e){let n=[],t=new Map;function i(r){let o=t.get(r);if(!o){let s=e(r);t.set(r,o=s.then(VN))}return o}return xl.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>BN(o));n.push(l)}),PN(),Promise.all(n).then(()=>{})}var xl=new Map,FN=new Set;function PN(){let e=xl;return xl=new Map,e}function LN(){return xl.size===0}function VN(e){return typeof e=="string"?e:e.text()}function BN(e){FN.delete(e)}function jN(e){return Object.getPrototypeOf(e.prototype).constructor}function Ai(e){let n=jN(e.type),t=!0,i=[e];for(;n;){let r;if(Bn(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new S(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let s=e;s.inputs=ol(e.inputs),s.inputTransforms=ol(e.inputTransforms),s.declaredInputs=ol(e.declaredInputs),s.outputs=ol(e.outputs);let a=r.hostBindings;a&&zN(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&HN(e,l),c&&GN(e,c),UN(e,r),kT(e.outputs,r.outputs),Bn(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Ai&&(t=!1)}}n=Object.getPrototypeOf(n)}$N(i)}function UN(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];if(i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=n.inputTransforms[r]}}}function $N(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Uo(r.hostAttrs,t=Uo(t,r.hostAttrs))}}function ol(e){return e===br?{}:e===Ye?[]:e}function HN(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function GN(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function zN(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}var Un=class{},zo=class{};var kl=class extends Un{constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rl(this);let o=Iy(n);this._bootstrapComponents=M0(o.bootstrap),this._r3Injector=_0(n,t,[{provide:Un,useValue:this},{provide:Mr,useValue:this.componentFactoryResolver},...i],Ue(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Fl=class extends zo{constructor(n){super(),this.moduleType=n}create(n){return new kl(this.moduleType,n,[])}};function WN(e,n,t){return new kl(e,n,t,!1)}var zh=class extends Un{constructor(n){super(),this.componentFactoryResolver=new Rl(this),this.instance=null;let t=new $o([...n.providers,{provide:Un,useValue:this},{provide:Mr,useValue:this.componentFactoryResolver}],n.parent||Gl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function uc(e,n,t=null){return new zh({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function gD(e){return ZN(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function qN(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),i;for(;!(i=t.next()).done;)n(i.value)}}function ZN(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function KN(e,n,t){return e[n]=t}function Oi(e,n,t){let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function QN(e){return(e.flags&32)===32}function YN(e,n,t,i,r,o,s,a,l){let c=n.consts,u=Pr(n,e,4,s||null,a||null);kf(n,t,u,Ir(c,l)),ec(n,u);let d=u.tView=xf(2,u,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}function mD(e,n,t,i,r,o,s,a,l,c){let u=t+Je,d=n.firstCreatePass?YN(u,n,e,i,r,o,s,a,l):n.data[u];Mi(d,!1);let h=JN(n,e,d,t);Jl()&&rc(n,e,h,d),jn(h,e);let f=Q0(h,e,h,d);return e[u]=f,ac(e,f),DN(f,d,e),ql(d)&&Of(n,e,d),l!=null&&Rf(e,d,c),d}function yn(e,n,t,i,r,o,s,a){let l=Q(),c=ve(),u=Ir(c.consts,o);return mD(l,c,e,n,t,i,r,u,s,a),yn}var JN=XN;function XN(e,n,t,i){return Xl(!0),n[ge].createComment("")}var vr=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(vr||{}),_D=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Wh=class e{constructor(){this.ngZone=g(H),this.scheduler=g(Sr),this.errorHandler=g(un,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[vr.EarlyRead,vr.Write,vr.MixedReadWrite,vr.Read]}execute(){this.executing=!0;for(let n of e.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[n]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}},qh=class{constructor(n,t,i,r){this.impl=n,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function jf(e,n){!n?.injector&&RI(jf);let t=n?.injector??g(xe);return WS(t)?(Vr("NgAfterNextRender"),tA(e,t,n,!0)):nA}function eA(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function tA(e,n,t,i){let r=n.get(_D);r.impl??=n.get(Wh);let o=t?.phase??vr.MixedReadWrite,s=t?.manualCleanup!==!0?n.get(tc):null,a=new qh(r.impl,eA(e,o),i,s);return r.impl.register(a),a}var nA={destroy(){}};function Yo(e,n,t,i){let r=Q(),o=Ql();if(Oi(r,o,n)){let s=ve(),a=Df();xM(a,r,e,n,t,i)}return Yo}function iA(e,n,t,i){return Oi(e,Ql(),t)?n+of(t)+i:_n}function sl(e,n){return e<<17|n<<2}function Ii(e){return e>>17&32767}function rA(e){return(e&2)==2}function oA(e,n){return e&131071|n<<17}function Zh(e){return e|2}function Ar(e){return(e&131068)>>2}function nh(e,n){return e&-131069|n<<2}function sA(e){return(e&1)===1}function Kh(e){return e|1}function aA(e,n,t,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Ii(s),l=Ar(s);e[i]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ko(d,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let h=Ii(e[a+1]);e[i+1]=sl(h,a),h!==0&&(e[h+1]=nh(e[h+1],i)),e[a+1]=oA(e[a+1],i)}else e[i+1]=sl(a,0),a!==0&&(e[a+1]=nh(e[a+1],i)),a=i;else e[i+1]=sl(l,0),a===0?a=i:e[l+1]=nh(e[l+1],i),l=i;c&&(e[i+1]=Zh(e[i+1])),ty(e,u,i,!0),ty(e,u,i,!1),lA(n,u,e,i,o),s=sl(a,l),o?n.classBindings=s:n.styleBindings=s}function lA(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Ko(o,n)>=0&&(t[i+1]=Kh(t[i+1]))}function ty(e,n,t,i){let r=e[t+1],o=n===null,s=i?Ii(r):Ar(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];cA(l,n)&&(a=!0,e[s+1]=i?Kh(c):Zh(c)),s=i?Ii(c):Ar(c)}a&&(e[t+1]=i?Zh(r):Kh(r))}function cA(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ko(e,n)>=0:!1}var Mt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uA(e){return e.substring(Mt.key,Mt.keyEnd)}function dA(e){return hA(e),vD(e,yD(e,0,Mt.textEnd))}function vD(e,n){let t=Mt.textEnd;return t===n?-1:(n=Mt.keyEnd=fA(e,Mt.key=n,t),yD(e,n,t))}function hA(e){Mt.key=0,Mt.keyEnd=0,Mt.value=0,Mt.valueEnd=0,Mt.textEnd=e.length}function yD(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function fA(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Ot(e,n,t){let i=Q(),r=Ql();if(Oi(i,r,n)){let o=ve(),s=Df();q0(o,s,i,e,n,i[ge],t,!1)}return Ot}function Qh(e,n,t,i,r){let o=n.inputs,s=r?"class":"style";Ff(e,t,o[s],s,i)}function Br(e,n){return gA(e,n,null,!0),Br}function dc(e){mA(wA,pA,e,!0)}function pA(e,n){for(let t=dA(n);t>=0;t=vD(n,t))cf(e,uA(n),!0)}function gA(e,n,t,i){let r=Q(),o=ve(),s=Jy(2);if(o.firstUpdatePass&&bD(o,e,s,i),n!==_n&&Oi(r,s,n)){let a=o.data[Ni()];wD(o,a,r,r[ge],e,r[s+1]=EA(n,t),i,s)}}function mA(e,n,t,i){let r=ve(),o=Jy(2);r.firstUpdatePass&&bD(r,null,o,i);let s=Q();if(t!==_n&&Oi(s,o,t)){let a=r.data[Ni()];if(CD(a,i)&&!DD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=sh(l,t||"")),Qh(r,a,s,t,i)}else CA(r,a,s,s[ge],s[o+1],s[o+1]=bA(e,n,t),i,o)}}function DD(e,n){return n>=e.expandoStartIndex}function bD(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[Ni()],s=DD(e,t);CD(o,i)&&n===null&&!s&&(n=!1),n=_A(r,o,n,i),aA(r,o,n,t,s,i)}}function _A(e,n,t,i){let r=tS(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=ih(null,e,n,t,i),t=Wo(t,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==r)if(t=ih(r,e,n,t,i),o===null){let l=vA(e,n,i);l!==void 0&&Array.isArray(l)&&(l=ih(null,e,n,l[1],i),l=Wo(l,n.attrs,i),yA(e,n,i,l))}else o=DA(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function vA(e,n,t){let i=t?n.classBindings:n.styleBindings;if(Ar(i)!==0)return e[Ii(i)]}function yA(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[Ii(r)]=i}function DA(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Wo(i,s,t)}return Wo(i,n.attrs,t)}function ih(e,n,t,i,r){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],i=Wo(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),i}function Wo(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),cf(e,s,t?!0:n[++o]))}return e===void 0?null:e}function bA(e,n,t){if(t==null||t==="")return Ye;let i=[],r=ic(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function wA(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&cf(e,i,t)}function CA(e,n,t,i,r,o,s,a){r===_n&&(r=Ye);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,m;u===d?(l+=2,c+=2,h!==f&&(p=d,m=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,m=f),p!==null&&wD(e,n,t,i,p,m,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function wD(e,n,t,i,r,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=sA(c)?ny(l,n,t,r,Ar(c),s):void 0;if(!Pl(u)){Pl(o)||rA(c)&&(o=ny(l,null,t,r,a,s));let d=Uy(Ni(),t);uM(i,s,d,r,o)}}function ny(e,n,t,i,r,o){let s=n===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=t[r+1];h===_n&&(h=d?Ye:void 0);let f=d?qd(h,i):u===i?h:void 0;if(c&&!Pl(f)&&(f=qd(l,i)),Pl(f)&&(a=f,s))return a;let p=e[r+1];r=s?Ii(p):Ar(p)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=qd(l,i))}return a}function Pl(e){return e!==void 0}function EA(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ue(ic(e)))),e}function CD(e,n){return(e.flags&(n?8:16))!==0}function TA(e,n,t,i,r,o){let s=n.consts,a=Ir(s,r),l=Pr(n,e,2,i,a);return kf(n,t,l,Ir(s,o)),l.attrs!==null&&Ol(l,l.attrs,!1),l.mergedAttrs!==null&&Ol(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function le(e,n,t,i){let r=Q(),o=ve(),s=Je+e,a=r[ge],l=o.firstCreatePass?TA(s,o,r,n,t,i):o.data[s],c=IA(o,r,l,a,n,e);r[s]=c;let u=ql(l);return Mi(l,!0),j0(a,c,l),!QN(l)&&Jl()&&rc(o,r,c,l),HI()===0&&jn(c,r),GI(),u&&(Of(o,r,l),Af(o,l,r)),i!==null&&Rf(r,l),le}function Me(){let e=$e();gf()?mf():(e=e.parent,Mi(e,!1));let n=e;WI(n)&&qI(),zI();let t=ve();return t.firstCreatePass&&(ec(t,e),ff(e)&&t.queries.elementEnd(e)),n.classesWithoutHost!=null&&cS(n)&&Qh(t,n,Q(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&uS(n)&&Qh(t,n,Q(),n.stylesWithoutHost,!1),Me}function Wt(e,n,t,i){return le(e,n,t,i),Me(),Wt}var IA=(e,n,t,i,r,o)=>(Xl(!0),N0(i,r,oS()));function SA(e,n,t,i,r){let o=n.consts,s=Ir(o,i),a=Pr(n,e,8,"ng-container",s);s!==null&&Ol(a,s,!0);let l=Ir(o,r);return kf(n,t,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Jo(e,n,t){let i=Q(),r=ve(),o=e+Je,s=r.firstCreatePass?SA(o,r,i,n,t):r.data[o];Mi(s,!0);let a=MA(r,i,s,e);return i[o]=a,Jl()&&rc(r,i,a,s),jn(a,i),ql(s)&&(Of(r,i,s),Af(r,s,i)),t!=null&&Rf(i,s),Jo}function Xo(){let e=$e(),n=ve();return gf()?mf():(e=e.parent,Mi(e,!1)),n.firstCreatePass&&(ec(n,e),ff(e)&&n.queries.elementEnd(e)),Xo}var MA=(e,n,t,i)=>(Xl(!0),QS(n[ge],""));function es(){return Q()}var Ll="en-US";var NA=Ll;function AA(e){typeof e=="string"&&(NA=e.toLowerCase().replace(/_/g,"-"))}var OA=(e,n,t)=>{};function Rt(e,n,t,i){let r=Q(),o=ve(),s=$e();return ED(o,r,r[ge],s,e,n,i),Rt}function RA(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let a=n[vl],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ED(e,n,t,i,r,o,s){let a=ql(i),c=e.firstCreatePass&&X0(e),u=n[At],d=J0(n),h=!0;if(i.type&3||s){let m=mt(i,n),D=s?s(m):m,I=d.length,B=s?ie=>s(Gt(ie[i.index])):i.index,T=null;if(!s&&a&&(T=RA(e,n,r,i.index)),T!==null){let ie=T.__ngLastListenerFn__||T;ie.__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,h=!1}else{o=ry(i,n,u,o),OA(m,r,o);let ie=t.listen(D,r,o);d.push(o,ie),c&&c.push(r,B,I,I+1)}}else o=ry(i,n,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let m=p.length;if(m)for(let D=0;D<m;D+=2){let I=p[D],B=p[D+1],he=n[I][B].subscribe(o),De=d.length;d.push(o,he),c&&c.push(r,i.index,De,-(De+1))}}}function iy(e,n,t,i){let r=K(null);try{return Ut(6,n,t),t(i)!==!1}catch(o){return eD(e,o),!1}finally{Ut(7,n,t),K(r)}}function ry(e,n,t,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?Hn(e.index,n):n;Lf(s,5);let a=iy(n,t,i,o),l=r.__ngNextListenerFn__;for(;l;)a=iy(n,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function He(e=1){return iS(e)}function xA(e,n){let t=null,i=dI(e);for(let r=0;r<n.length;r++){let o=n[r];if(o==="*"){t=r;continue}if(i===null?wy(e,o,!0):pI(i,o))return r}return t}function TD(e){let n=Q()[pt][Xe];if(!n.projection){let t=e?e.length:1,i=n.projection=tI(t,null),r=i.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let s=e?xA(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ID(e,n=0,t,i,r,o){let s=Q(),a=ve(),l=i?e+1:null;l!==null&&mD(s,a,l,i,r,o,null,t);let c=Pr(a,Je+e,16,null,t||null);c.projection===null&&(c.projection=n),mf();let d=!s[Ho]||Ky();s[pt][Xe].projection[c.projection]===null&&l!==null?kA(s,a,l):d&&(c.flags&32)!==32&&lM(a,s,c)}function kA(e,n,t){let i=Je+t,r=n.data[i],o=e[i],s=Fh(o,r.tView.ssrId),a=tD(e,r,void 0,{dehydratedView:s});nD(o,a,0,xh(r,s))}function SD(e,n,t){MN(e,n,t)}function Uf(e){let n=Q(),t=ve(),i=Xy();_f(i+1);let r=Bf(t,i);if(e.dirty&&BI(n)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=ON(n,i);e.reset(o,OS),e.notifyOnChanges()}return!0}return!1}function $f(){return IN(Q(),Xy())}function FA(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function hc(e){let n=KI();return Hy(n,Je+e)}function Ri(e,n=""){let t=Q(),i=ve(),r=e+Je,o=i.firstCreatePass?Pr(i,r,1,n,null):i.data[r],s=PA(i,t,o,n,e);t[r]=s,Jl()&&rc(i,t,s,o),Mi(o,!1)}var PA=(e,n,t,i,r)=>(Xl(!0),ZS(n[ge],i));function fc(e){return jr("",e,""),fc}function jr(e,n,t){let i=Q(),r=iA(i,e,n,t);return r!==_n&&LM(i,Ni(),r),jr}function pc(e,n,t){pD(n)&&(n=n());let i=Q(),r=Ql();if(Oi(i,r,n)){let o=ve(),s=Df();q0(o,s,i,e,n,i[ge],t,!1)}return pc}function Hf(e,n){let t=pD(e);return t&&e.set(n),t}function gc(e,n){let t=Q(),i=ve(),r=$e();return ED(i,t,t[ge],r,e,n),gc}function LA(e,n,t){let i=ve();if(i.firstCreatePass){let r=Bn(e);Yh(t,i.data,i.blueprint,r,!0),Yh(n,i.data,i.blueprint,r,!1)}}function Yh(e,n,t,i,r){if(e=je(e),Array.isArray(e))for(let o=0;o<e.length;o++)Yh(e[o],n,t,i,r);else{let o=ve(),s=Q(),a=$e(),l=Cr(e)?e:je(e.provide),c=Ry(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Cr(e)||!e.multi){let f=new wi(c,r,ee),p=oh(l,n,r?u:u+h,d);p===-1?(Dh(El(a,s),o,l),rh(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{let f=oh(l,n,u+h,d),p=oh(l,n,u,u+h),m=f>=0&&t[f],D=p>=0&&t[p];if(r&&!D||!r&&!m){Dh(El(a,s),o,l);let I=jA(r?BA:VA,t.length,r,i,c);!r&&D&&(t[p].providerFactory=I),rh(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(I),s.push(I)}else{let I=MD(t[r?p:f],c,!r&&i);rh(o,e,f>-1?f:p,I)}!r&&i&&D&&t[p].componentProviders++}}}function rh(e,n,t,i){let r=Cr(n),o=TI(n);if(r||o){let l=(o?je(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function MD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function oh(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function VA(e,n,t,i){return Jh(this.multi,[])}function BA(e,n,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ci(t,t[P],this.providerFactory.index,i);o=a.slice(0,s),Jh(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Jh(r,o);return o}function Jh(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function jA(e,n,t,i,r){let o=new wi(e,t,ee);return o.multi=[],o.index=n,o.componentProviders=0,MD(o,r,i&&!t),o}function mc(e,n=[]){return t=>{t.providersResolver=(i,r)=>LA(i,r?r(e):e,n)}}var UA=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Ny(!1,t.type),r=i.length>0?uc([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(_(Se))})}}return e})();function ts(e){Vr("NgStandalone"),e.getStandaloneInjector=n=>n.get(UA).getOrCreateStandaloneInjector(e)}function $A(e,n){let t=e[n];return t===_n?void 0:t}function HA(e,n,t,i,r,o){let s=n+t;return Oi(e,s,r)?KN(e,s+1,o?i.call(o,r):i(r)):$A(e,s+1)}function _c(e,n){let t=ve(),i,r=e+Je;t.firstCreatePass?(i=GA(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=_i(i.type,!0)),s,a=Qe(ee);try{let l=Cl(!1),c=o();return Cl(l),FA(t,Q(),r,c),c}finally{Qe(a)}}function GA(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function vc(e,n,t){let i=e+Je,r=Q(),o=Hy(r,i);return zA(r,i)?HA(r,QI(),n,o.transform,t,o):o.transform(t)}function zA(e,n){return e[P].data[n].pure}function yc(e,n){return lc(e,n)}var al=null;function WA(e){al!==null&&(e.defaultEncapsulation!==al.defaultEncapsulation||e.preserveWhitespaces!==al.preserveWhitespaces)||(al=e)}var $n=class{constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}};var Dc=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Gf=new w(""),ns=new w(""),bc=(()=>{class e{constructor(t,i,r){this._ngZone=t,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,zf||(qA(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(_(H),_(wc),_(ns))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),wc=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return zf?.findTestabilityInTree(this,t,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function qA(e){zf=e}var zf;function xi(e){return!!e&&typeof e.then=="function"}function ND(e){return!!e&&typeof e.subscribe=="function"}var Cc=new w(""),AD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=g(Cc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=r();if(xi(o))t.push(o);else if(ND(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ec=new w("");function ZA(){iv(()=>{throw new S(600,!1)})}function KA(e){return e.isBoundToModule}var QA=10;function YA(e,n,t){try{let i=t();return xi(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e.handleError(i)),i}}function OD(e,n){return Array.isArray(n)?n.reduce(OD,e):y(y({},e),n)}var xt=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(NS),this.afterRenderManager=g(_D),this.zonelessEnabled=g(Vf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new q,this.afterTick=new q,this.componentTypes=[],this.components=[],this.isStable=g(Gn).hasPendingTasks.pipe(E(t=>!t)),this._injector=g(Se)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,i){let r=t instanceof Al;if(!this._injector.get(AD).done){let h=!r&&Ty(t),f=!1;throw new S(405,f)}let s;r?s=t:s=this._injector.get(Mr).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=KA(s)?void 0:this._injector.get(Un),l=i||s.selector,c=s.create(xe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(Gf,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),fl(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new S(101,!1);let t=K(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,K(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Nr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<QA;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)JA(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;fl(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Ec,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>fl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new S(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fl(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function JA(e,n,t,i){if(!t&&!Zl(e))return;oD(e,n,t&&!i?0:1)}var Xh=class{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Tc=(()=>{class e{compileModuleSync(t){return new Fl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Iy(t),o=M0(r.declarations).reduce((s,a)=>{let l=an(a);return l&&s.push(new Ti(l)),s},[]);return new Xh(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XA=new w("");function eO(e,n,t){let i=new Fl(t);return Promise.resolve(i)}function oy(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var tO=(()=>{class e{constructor(){this.zone=g(H),this.changeDetectionScheduler=g(Sr),this.applicationRef=g(xt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nO({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new H(F(y({},RD()),{scheduleInRootZone:t})),[{provide:H,useFactory:e},{provide:wr,multi:!0,useFactory:()=>{let i=g(tO,{optional:!0});return()=>i.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let i=g(iO);return()=>{i.initialize()}}},n===!0?{provide:cD,useValue:!0}:[],{provide:uD,useValue:t??v0}]}function RD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var iO=(()=>{class e{constructor(){this.subscription=new fe,this.initialized=!1,this.zone=g(H),this.pendingTasks=g(Gn)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{H.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var rO=(()=>{class e{constructor(){this.appRef=g(xt),this.taskService=g(Gn),this.ngZone=g(H),this.zonelessEnabled=g(Vf),this.disableScheduling=g(cD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new fe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Il):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(uD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Gv:y0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oO(){return typeof $localize<"u"&&$localize.locale||Ll}var Ic=new w("",{providedIn:"root",factory:()=>g(Ic,$.Optional|$.SkipSelf)||oO()});var Vl=new w("");function ll(e){return!e.moduleRef}function sO(e){let n=ll(e)?e.r3Injector:e.moduleRef.injector,t=n.get(H);return t.run(()=>{ll(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(un,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),ll(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Vl);s.add(o),n.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Vl);s.add(o),e.moduleRef.onDestroy(()=>{fl(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return YA(i,t,()=>{let o=n.get(AD);return o.runInitializers(),o.donePromise.then(()=>{let s=n.get(Ic,Ll);if(AA(s||Ll),ll(e)){let a=n.get(xt);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return aO(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function aO(e,n){let t=e.injector.get(xt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new S(-403,!1);n.push(e)}var xD=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,o=()=>MS(i?.ngZone,F(y({},RD({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[nO({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Sr,useExisting:rO}],l=WN(t.moduleType,this.injector,a);return sO({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=OD({},i);return eO(this.injector,r,t).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(Vl,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(_(xe))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Bo=null,kD=new w("");function lO(e){if(Bo&&!Bo.get(kD,!1))throw new S(400,!1);ZA(),Bo=e;let n=e.get(xD);return dO(e),n}function Wf(e,n,t=[]){let i=`Platform: ${n}`,r=new w(i);return(o=[])=>{let s=FD();if(!s||s.injector.get(kD,!1)){let a=[...t,...o,{provide:r,useValue:!0}];e?e(a):lO(cO(a,i))}return uO(r)}}function cO(e=[],n){return xe.create({name:n,providers:[{provide:Hl,useValue:"platform"},{provide:Vl,useValue:new Set([()=>Bo=null])},...e]})}function uO(e){let n=FD();if(!n)throw new S(401,!1);return n}function FD(){return Bo?.get(xD)??null}function dO(e){e.get(Ef,null)?.forEach(t=>t())}function qf(){return!1}var kt=(()=>{class e{static{this.__NG_ELEMENT_ID__=hO}}return e})();function hO(e){return fO($e(),Q(),(e&16)===16)}function fO(e,n,t){if(Wl(e)&&!t){let i=Hn(e.index,n);return new Ei(i,i)}else if(e.type&175){let i=n[pt];return new Ei(i,n)}return null}var ef=class{constructor(){}supports(n){return gD(n)}create(n){return new tf(n)}},pO=(e,n)=>n,tf=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||pO}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<sy(i,r,o)?t:i,a=sy(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!gD(n))throw new S(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,qN(n,a=>{s=this._trackByFn(r,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,r)):n=this._addAfter(new nf(t,i),o,r)),n}_verifyReinsertion(n,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,t,i),this._addToMoves(n,i),n}_moveAfter(n,t,i){return this._unlink(n),this._insertAfter(n,t,i),this._addToMoves(n,i),n}_addAfter(n,t,i){return this._insertAfter(n,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,i){let r=t===null?this._itHead:t._next;return n._next=r,n._prev=t,r===null?this._itTail=n:r._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Bl),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,i=n._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bl),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},nf=class{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},rf=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let t=n._prevDup,i=n._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Bl=class{constructor(){this.map=new Map}put(n){let t=n.trackById,i=this.map.get(t);i||(i=new rf,this.map.set(t,i)),i.add(n)}get(n,t){let i=n,r=this.map.get(i);return r?r.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sy(e,n,t){let i=e.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+n+r}function ay(){return new Zf([new ef])}var Zf=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:ay})}constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||ay()),deps:[[e,new af,new Zo]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new S(901,!1)}}return e})();var PD=Wf(null,"core",[]),LD=(()=>{class e{constructor(t){}static{this.\u0275fac=function(i){return new(i||e)(_(xt))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();function Sc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Mc(e,n){Vr("NgSignals");let t=ev(e);return n?.equal&&(t[nn].equal=n.equal),t}function zn(e){let n=K(null);try{return e()}finally{K(n)}}function Nc(e,n){let t=an(e),i=n.elementInjector||Gl();return new Ti(t).create(i,n.projectableNodes,n.hostElement,n.environmentInjector)}function VD(e){let n=an(e);if(!n)return null;let t=new Ti(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var GD=null;function qt(){return GD}function zD(e){GD??=e}var Ac=class{};var ye=new w(""),Xf=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(vO),providedIn:"platform"})}}return e})(),WD=new w(""),vO=(()=>{class e extends Xf{constructor(){super(),this._doc=g(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(t){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=qt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function ep(e,n){if(e.length==0)return n;if(n.length==0)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,t==2?e+n.substring(1):t==1?e+n:e+"/"+n}function BD(e){let n=e.match(/#|\?|$/),t=n&&n.index||e.length,i=t-(e[t-1]==="/"?1:0);return e.slice(0,i)+e.slice(t)}function Dn(e){return e&&e[0]!=="?"?"?"+e:e}var ki=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(tp),providedIn:"root"})}}return e})(),qD=new w(""),tp=(()=>{class e extends ki{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ep(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(_(Xf),_(qD,8))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZD=(()=>{class e extends ki{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=ep(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(_(Xf),_(qD,8))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),$r=(()=>{class e{constructor(t){this._subject=new re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=bO(BD(jD(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Dn(i))}normalize(t){return e.stripTrailingSlash(DO(this._basePath,jD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dn(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Dn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static{this.normalizeQueryParams=Dn}static{this.joinWithSlash=ep}static{this.stripTrailingSlash=BD}static{this.\u0275fac=function(i){return new(i||e)(_(ki))}}static{this.\u0275prov=b({token:e,factory:()=>yO(),providedIn:"root"})}}return e})();function yO(){return new $r(_(ki))}function DO(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function jD(e){return e.replace(/\/index.html$/,"")}function bO(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}function Oc(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Kf=class{constructor(n,t,i,r){this.$implicit=n,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},KD=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Kf(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),UD(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);UD(o,r)})}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ee(vn),ee(hn),ee(Zf))}}static{this.\u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function UD(e,n){e.context.$implicit=n.item}var QD=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new Qf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(ee(vn),ee(hn))}}static{this.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Qf=class{constructor(){this.$implicit=null,this.ngIf=null}};function $D(e,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ue(n)}'.`)}var YD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})(),np="browser",wO="server";function JD(e){return e===np}function Hr(e){return e===wO}var XD=(()=>{class e{static{this.\u0275prov=b({token:e,providedIn:"root",factory:()=>JD(g(Pe))?new Yf(g(ye),window):new Jf})}}return e})(),Yf=class{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=CO(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function CO(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}r=i.nextNode()}}return null}var Jf=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},Ur=class{};var rs=class{},xc=class{},bn=class e{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var rp=class{encodeKey(n){return tb(n)}encodeValue(n){return tb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function EO(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var TO=/%(\d[a-f0-9])/gi,IO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tb(e){return encodeURIComponent(e).replace(TO,(n,t)=>IO[t]??n)}function Rc(e){return`${e}`}var qn=class e{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new rp,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=EO(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(Rc):[Rc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Rc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(Rc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var op=class{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function SO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function nb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ib(e){return typeof Blob<"u"&&e instanceof Blob}function rb(e){return typeof FormData<"u"&&e instanceof FormData}function MO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var is=class e{constructor(n,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let o;if(SO(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new bn,this.context??=new op,!this.params)this.params=new qn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||nb(this.body)||ib(this.body)||rb(this.body)||MO(this.body)?this.body:this.body instanceof qn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rb(this.body)?null:ib(this.body)?this.body.type||null:nb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,d=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new e(t,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Zn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zn||{}),os=class{constructor(n,t=200,i="OK"){this.headers=n.headers||new bn,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},kc=class e extends os{constructor(n={}){super(n),this.type=Zn.ResponseHeader}clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},ss=class e extends os{constructor(n={}){super(n),this.type=Zn.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Wn=class extends os{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},lb=200,NO=204;function ip(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Fi=(()=>{class e{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof is)o=t;else{let l;r.headers instanceof bn?l=r.headers:l=new bn(r.headers);let c;r.params&&(r.params instanceof qn?c=r.params:c=new qn({fromObject:r.params})),o=new is(t,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=C(o).pipe(It(l=>this.handler.handle(l)));if(t instanceof is||r.observe==="events")return s;let a=s.pipe(me(l=>l instanceof ss));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(E(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(E(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(E(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(E(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new qn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,ip(r,i))}post(t,i,r={}){return this.request("POST",t,ip(r,i))}put(t,i,r={}){return this.request("PUT",t,ip(r,i))}static{this.\u0275fac=function(i){return new(i||e)(_(rs))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),AO=/^\)\]\}',?\n/,OO="X-Request-URL";function ob(e){if(e.url)return e.url;let n=OO.toLocaleLowerCase();return e.headers.get(n)}var RO=(()=>{class e{constructor(){this.fetchImpl=g(sp,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=g(H)}handle(t){return new A(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(ap,o=>i.error(new Wn({error:o}))),()=>r.abort()})}doRequest(t,i,r){return qe(this,null,function*(){let o=this.createRequestInit(t),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,y({signal:i},o)));xO(f),r.next({type:Zn.Sent}),s=yield f}catch(f){r.error(new Wn({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let a=new bn(s.headers),l=s.statusText,c=ob(s)??t.urlWithParams,u=s.status,d=null;if(t.reportProgress&&r.next(new kc({headers:a,status:u,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),p=[],m=s.body.getReader(),D=0,I,B,T=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>qe(this,null,function*(){for(;;){let{done:he,value:De}=yield m.read();if(he)break;if(p.push(De),D+=De.length,t.reportProgress){B=t.responseType==="text"?(B??"")+(I??=new TextDecoder).decode(De,{stream:!0}):void 0;let en=()=>r.next({type:Zn.DownloadProgress,total:f?+f:void 0,loaded:D,partialText:B});T?T.run(en):en()}}}));let ie=this.concatChunks(p,D);try{let he=s.headers.get("Content-Type")??"";d=this.parseBody(t,ie,he)}catch(he){r.error(new Wn({error:he,headers:new bn(s.headers),status:s.status,statusText:s.statusText,url:ob(s)??t.urlWithParams}));return}}u===0&&(u=d?lb:0),u>=200&&u<300?(r.next(new ss({body:d,headers:a,status:u,statusText:l,url:c})),r.complete()):r.error(new Wn({error:d,headers:a,status:u,statusText:l,url:c}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(AO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),sp=class{};function ap(){}function xO(e){e.then(ap,ap)}function kO(e,n){return n(e)}function FO(e,n,t){return(i,r)=>gt(t,()=>n(i,o=>e(o,r)))}var cb=new w(""),PO=new w(""),LO=new w("",{providedIn:"root",factory:()=>!0});var sb=(()=>{class e extends rs{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=g(Gn),this.contributeToStability=g(LO)}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(cb),...this.injector.get(PO,[])]));this.chain=i.reduceRight((r,o)=>FO(r,o,this.injector),kO)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kn(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(_(xc),_(Se))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();var VO=/^\)\]\}',?\n/;function BO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var ab=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new S(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?te(i.\u0275loadImpl()):C(null)).pipe(X(()=>new A(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,D)=>s.setRequestHeader(m,D.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader("Content-Type",m)}if(t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",D=new bn(s.getAllResponseHeaders()),I=BO(s)||t.url;return l=new kc({headers:D,status:s.status,statusText:m,url:I}),l},u=()=>{let{headers:m,status:D,statusText:I,url:B}=c(),T=null;D!==NO&&(T=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=T?lb:0);let ie=D>=200&&D<300;if(t.responseType==="json"&&typeof T=="string"){let he=T;T=T.replace(VO,"");try{T=T!==""?JSON.parse(T):null}catch(De){T=he,ie&&(ie=!1,T={error:De,text:T})}}ie?(o.next(new ss({body:T,headers:m,status:D,statusText:I,url:B||void 0})),o.complete()):o.error(new Wn({error:T,headers:m,status:D,statusText:I,url:B||void 0}))},d=m=>{let{url:D}=c(),I=new Wn({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(I)},h=!1,f=m=>{h||(o.next(c()),h=!0);let D={type:Zn.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),t.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},p=m=>{let D={type:Zn.UploadProgress,loaded:m.loaded};m.lengthComputable&&(D.total=m.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Zn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(_(Ur))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),ub=new w(""),jO="XSRF-TOKEN",UO=new w("",{providedIn:"root",factory:()=>jO}),$O="X-XSRF-TOKEN",HO=new w("",{providedIn:"root",factory:()=>$O}),Fc=class{},GO=(()=>{class e{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(_(ye),_(Pe),_(UO))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function zO(e,n){let t=e.url.toLowerCase();if(!g(ub)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=g(Fc).getToken(),r=g(HO);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}function db(...e){let n=[Fi,ab,sb,{provide:rs,useExisting:sb},{provide:xc,useFactory:()=>g(RO,{optional:!0})??g(ab)},{provide:cb,useValue:zO,multi:!0},{provide:ub,useValue:!0},{provide:Fc,useClass:GO}];for(let t of e)n.push(...t.\u0275providers);return Qo(n)}var up=class extends Ac{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dp=class e extends up{static makeCurrent(){zD(new e)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=WO();return t==null?null:qO(t)}resetBaseElement(){as=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Oc(document.cookie,n)}},as=null;function WO(){return as=as||document.querySelector("base"),as?as.getAttribute("href"):null}function qO(e){return new URL(e,document.baseURI).pathname}var hp=class{addToWindow(n){fn.getAngularTestability=(i,r=!0)=>{let o=n.findTestabilityInTree(i,r);if(o==null)throw new S(5103,!1);return o},fn.getAllAngularTestabilities=()=>n.getAllTestabilities(),fn.getAllAngularRootElements=()=>n.getAllRootElements();let t=i=>{let r=fn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};fn.frameworkStabilizers||(fn.frameworkStabilizers=[]),fn.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,i){if(t==null)return null;let r=n.getTestability(t);return r??(i?qt().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},ZO=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),fp=new w(""),mb=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new S(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(_(fp),_(H))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),Pc=class{constructor(n){this._doc=n}},lp="ng-app-id",_b=(()=>{class e{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hr(o),this.resetHostNodes()}addStyles(t){for(let i of t)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(t){for(let i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){let i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${lp}="${this.appId}"]`);if(t?.length){let i=new Map;return t.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){let r=this.styleRef;if(r.has(t)){let o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(lp),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(lp,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){let r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(_(ye),_(nc),_(Tf,8),_(Pe))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},gp=/%COMP%/g,vb="%COMP%",KO=`_nghost-${vb}`,QO=`_ngcontent-${vb}`,YO=!0,JO=new w("",{providedIn:"root",factory:()=>YO});function XO(e){return QO.replace(gp,e)}function eR(e){return KO.replace(gp,e)}function yb(e,n){return n.map(t=>t.replace(gp,e))}var fb=(()=>{class e{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Hr(a),this.defaultRenderer=new ls(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ht.ShadowDom&&(i=F(y({},i),{encapsulation:Ht.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Lc?r.applyToHost(t):r instanceof cs&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ht.Emulated:o=new Lc(l,c,i,this.appId,u,s,a,d);break;case Ht.ShadowDom:return new pp(l,c,t,i,s,a,this.nonce,d);default:o=new cs(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(_(mb),_(_b),_(nc),_(JO),_(ye),_(Pe),_(H),_(Tf))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),ls=class{constructor(n,t,i,r){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(cp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(pb(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(pb(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new S(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=cp[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=cp[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(dn.DashCase|dn.Important)?n.style.setProperty(t,i,r&dn.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&dn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i){if(typeof n=="string"&&(n=qt().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function pb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var pp=class extends ls{constructor(n,t,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=yb(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cs=class extends ls{constructor(n,t,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?yb(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Lc=class extends cs{constructor(n,t,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,t,i,o,s,a,l,c),this.contentAttr=XO(c),this.hostAttr=eR(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}},tR=(()=>{class e extends Pc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(_(ye))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})(),gb=["alt","control","meta","shift"],nR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},rR=(()=>{class e extends Pc{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),gb.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=nR[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),gb.forEach(s=>{if(s!==r){let a=iR[s];a(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(_(ye))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function oR(){dp.makeCurrent()}function sR(){return new un}function aR(){return I0(document),document}var lR=[{provide:Pe,useValue:np},{provide:Ef,useValue:oR,multi:!0},{provide:ye,useFactory:aR,deps:[]}],Db=Wf(PD,"browser",lR),cR=new w(""),uR=[{provide:ns,useClass:hp,deps:[]},{provide:Gf,useClass:bc,deps:[H,wc,ns]},{provide:bc,useClass:bc,deps:[H,wc,ns]}],dR=[{provide:Hl,useValue:"root"},{provide:un,useFactory:sR,deps:[]},{provide:fp,useClass:tR,multi:!0,deps:[ye,H,Pe]},{provide:fp,useClass:rR,multi:!0,deps:[ye]},fb,_b,mb,{provide:Nr,useExisting:fb},{provide:Ur,useClass:ZO,deps:[]},[]],bb=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:nc,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(_(cR,12))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({providers:[...dR,...uR],imports:[YD,LD]})}}return e})();var wb=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(_(ye))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V="primary",Es=Symbol("RouteTitle"),Dp=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Kr(e){return new Dp(e)}function fR(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function pR(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Zt(e[t],n[t]))return!1;return!0}function Zt(e,n){let t=e?bp(e):void 0,i=n?bp(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!kb(e[r],n[r]))return!1;return!0}function bp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kb(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function Fb(e){return e.length>0?e[e.length-1]:null}function Qn(e){return on(e)?e:xi(e)?te(Promise.resolve(e)):C(e)}var gR={exact:Lb,subset:Vb},Pb={exact:mR,subset:_R,ignored:()=>!0};function Eb(e,n,t){return gR[t.paths](e.root,n.root,t.matrixParams)&&Pb[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function mR(e,n){return Zt(e,n)}function Lb(e,n,t){if(!Li(e.segments,n.segments)||!jc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!Lb(e.children[i],n.children[i],t))return!1;return!0}function _R(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>kb(e[t],n[t]))}function Vb(e,n,t){return Bb(e,n,n.segments,t)}function Bb(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!Li(r,t)||n.hasChildren()||!jc(r,t,i))}else if(e.segments.length===t.length){if(!Li(e.segments,t)||!jc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!Vb(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Li(e.segments,r)||!jc(e.segments,r,i)||!e.children[V]?!1:Bb(e.children[V],n,o,i)}}function jc(e,n,t){return n.every((i,r)=>Pb[t](e[r].parameters,i.parameters))}var Cn=class{constructor(n=new ne([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return DR.serialize(this)}},ne=class{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uc(this)}},Pi=class{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return Ub(this)}};function vR(e,n){return Li(e,n)&&e.every((t,i)=>Zt(t.parameters,n[i].parameters))}function Li(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function yR(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===V&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==V&&(t=t.concat(n(r,i)))}),t}var Ts=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>new Qr,providedIn:"root"})}}return e})(),Qr=class{parse(n){let t=new Cp(n);return new Cn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${us(n.root,!0)}`,i=CR(n.queryParams),r=typeof n.fragment=="string"?`#${bR(n.fragment)}`:"";return`${t}${i}${r}`}},DR=new Qr;function Uc(e){return e.segments.map(n=>Ub(n)).join("/")}function us(e,n){if(!e.hasChildren())return Uc(e);if(n){let t=e.children[V]?us(e.children[V],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==V&&i.push(`${r}:${us(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=yR(e,(i,r)=>r===V?[us(e.children[V],!1)]:[`${r}:${us(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[V]!=null?`${Uc(e)}/${t[0]}`:`${Uc(e)}/(${t.join("//")})`}}function jb(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(e){return jb(e).replace(/%3B/gi,";")}function bR(e){return encodeURI(e)}function wp(e){return jb(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(e){return decodeURIComponent(e)}function Tb(e){return $c(e.replace(/\+/g,"%20"))}function Ub(e){return`${wp(e.path)}${wR(e.parameters)}`}function wR(e){return Object.entries(e).map(([n,t])=>`;${wp(n)}=${wp(t)}`).join("")}function CR(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Vc(t)}=${Vc(r)}`).join("&"):`${Vc(t)}=${Vc(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var ER=/^[^\/()?;#]+/;function mp(e){let n=e.match(ER);return n?n[0]:""}var TR=/^[^\/()?;=#]+/;function IR(e){let n=e.match(TR);return n?n[0]:""}var SR=/^[^=?&#]+/;function MR(e){let n=e.match(SR);return n?n[0]:""}var NR=/^[^&#]+/;function AR(e){let n=e.match(NR);return n?n[0]:""}var Cp=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[V]=new ne(n,t)),i}parseSegment(){let n=mp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(n),new Pi($c(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=IR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=mp(this.remaining);r&&(i=r,this.capture(i))}n[$c(t)]=$c(i)}parseQueryParam(n){let t=MR(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=AR(this.remaining);s&&(i=s,this.capture(i))}let r=Tb(t),o=Tb(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=mp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new S(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=V);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[V]:new ne([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new S(4011,!1)}};function $b(e){return e.segments.length>0?new ne([],{[V]:e}):e}function Hb(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=Hb(r);if(i===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new ne(e.segments,n);return OR(t)}function OR(e){if(e.numberOfChildren===1&&e.children[V]){let n=e.children[V];return new ne(e.segments.concat(n.segments),n.children)}return e}function ms(e){return e instanceof Cn}function RR(e,n,t=null,i=null){let r=Gb(e);return zb(r,n,t,i)}function Gb(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new ne(o.url,s);return o===e&&(n=a),a}let i=t(e.root),r=$b(i);return n??r}function zb(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return _p(r,r,r,t,i);let o=xR(n);if(o.toRoot())return _p(r,r,new ne([],{}),t,i);let s=kR(o,r,e),a=s.processChildren?fs(s.segmentGroup,s.index,o.commands):qb(s.segmentGroup,s.index,o.commands);return _p(r,s.segmentGroup,a,t,i)}function Hc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function _s(e){return typeof e=="object"&&e!=null&&e.outlets}function _p(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===n?s=t:s=Wb(e,n,t);let a=$b(Hb(s));return new Cn(a,o,r)}function Wb(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=Wb(o,n,t)}),new ne(e.segments,i)}var Gc=class{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Hc(i[0]))throw new S(4003,!1);let r=i.find(_s);if(r&&r!==Fb(i))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Gc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Gc(t,n,i)}var Wr=class{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function kR(e,n,t){if(e.isAbsolute)return new Wr(n,!0,0);if(!t)return new Wr(n,!1,NaN);if(t.parent===null)return new Wr(t,!0,0);let i=Hc(e.commands[0])?0:1,r=t.segments.length-1+i;return FR(t,r,e.numberOfDoubleDots)}function FR(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new S(4005,!1);r=i.segments.length}return new Wr(i,!1,r-o)}function PR(e){return _s(e[0])?e[0].outlets:{[V]:e}}function qb(e,n,t){if(e??=new ne([],{}),e.segments.length===0&&e.hasChildren())return fs(e,n,t);let i=LR(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new ne(e.segments.slice(0,i.pathIndex),{});return o.children[V]=new ne(e.segments.slice(i.pathIndex),e.children),fs(o,0,r)}else return i.match&&r.length===0?new ne(e.segments,{}):i.match&&!e.hasChildren()?Ep(e,n,t):i.match?fs(e,0,r):Ep(e,n,t)}function fs(e,n,t){if(t.length===0)return new ne(e.segments,{});{let i=PR(t),r={};if(Object.keys(i).some(o=>o!==V)&&e.children[V]&&e.numberOfChildren===1&&e.children[V].segments.length===0){let o=fs(e.children[V],n,t);return new ne(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=qb(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ne(e.segments,r)}}function LR(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let s=e.segments[r],a=t[i];if(_s(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Sb(l,c,s))return o;i+=2}else{if(!Sb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Ep(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(_s(o)){let l=VR(o.outlets);return new ne(i,l)}if(r===0&&Hc(t[0])){let l=e.segments[n];i.push(new Pi(l.path,Ib(t[0]))),r++;continue}let s=_s(o)?o.outlets[V]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Hc(a)?(i.push(new Pi(s,Ib(a))),r+=2):(i.push(new Pi(s,{})),r++)}return new ne(i,{})}function VR(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Ep(new ne([],{}),0,i))}),n}function Ib(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function Sb(e,n,t){return e==t.path&&Zt(n,t.parameters)}var ps="imperative",Ne=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ne||{}),vt=class{constructor(n,t){this.id=n,this.url=t}},Yr=class extends vt{constructor(n,t,i="imperative",r=null){super(n,t),this.type=Ne.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends vt{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(rt||{}),zc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(zc||{}),wn=class extends vt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kn=class extends vt{constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r,this.type=Ne.NavigationSkipped}},vs=class extends vt{constructor(n,t,i,r){super(n,t),this.error=i,this.target=r,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wc=class extends vt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends vt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ip=class extends vt{constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sp=class extends vt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class extends vt{constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class{constructor(n){this.route=n,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ap=class{constructor(n){this.route=n,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Op=class{constructor(n){this.snapshot=n,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{constructor(n){this.snapshot=n,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xp=class{constructor(n){this.snapshot=n,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kp=class{constructor(n){this.snapshot=n,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=Ne.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ys=class{},Jr=class{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function BR(e,n){return e.providers&&!e._injector&&(e._injector=uc(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Ft(e){return e.outlet||V}function jR(e,n){let t=e.filter(i=>Ft(i)===n);return t.push(...e.filter(i=>Ft(i)!==n)),t}function Is(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Fp=class{get injector(){return Is(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Ss(this.rootInjector),this.attachRef=null}},Ss=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Fp(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)(_(Se))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zc=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Pp(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=Pp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Lp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return Lp(n,this._root).map(t=>t.value)}};function Pp(e,n){if(e===n.value)return n;for(let t of n.children){let i=Pp(e,t);if(i)return i}return null}function Lp(e,n){if(e===n.value)return[n];for(let t of n.children){let i=Lp(e,t);if(i.length)return i.unshift(n),i}return[]}var it=class{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function zr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Kc=class extends Zc{constructor(n,t){super(n),this.snapshot=t,Wp(this,n)}toString(){return this.snapshot.toString()}};function Zb(e){let n=UR(e),t=new Ie([new Pi("",{})]),i=new Ie({}),r=new Ie({}),o=new Ie({}),s=new Ie(""),a=new Xr(t,i,o,s,r,V,e,n.root);return a.snapshot=n.root,new Kc(new it(a,[]),n)}function UR(e){let n={},t={},i={},r="",o=new qr([],n,i,r,t,V,e,null,{});return new Yc("",new it(o,[]))}var Xr=class{constructor(n,t,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(E(c=>c[Es]))??C(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(n=>Kr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(n=>Kr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qc(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:y(y({},n.params),e.params),data:y(y({},n.data),e.data),resolve:y(y(y(y({},e.data),n.data),r?.data),e._resolvedData)}:i={params:y({},e.params),data:y({},e.data),resolve:y(y({},e.data),e._resolvedData??{})},r&&Qb(r)&&(i.resolve[Es]=r.title),i}var qr=class{get title(){return this.data?.[Es]}constructor(n,t,i,r,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Yc=class extends Zc{constructor(n,t){super(t),this.url=n,Wp(this,t)}toString(){return Kb(this._root)}};function Wp(e,n){n.value._routerState=e,n.children.forEach(t=>Wp(e,t))}function Kb(e){let n=e.children.length>0?` { ${e.children.map(Kb).join(", ")} } `:"";return`${e.value}${n}`}function vp(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Zt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Zt(n.params,t.params)||e.paramsSubject.next(t.params),pR(n.url,t.url)||e.urlSubject.next(t.url),Zt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Vp(e,n){let t=Zt(e.params,n.params)&&vR(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||Vp(e.parent,n.parent))}function Qb(e){return typeof e.title=="string"||e.title===null}var qp=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new re,this.deactivateEvents=new re,this.attachEvents=new re,this.detachEvents=new re,this.parentContexts=g(Ss),this.location=g(vn),this.changeDetector=g(kt),this.inputBinder=g(nu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Bp(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]})}}return e})(),Bp=class e{__ngOutletInjector(n){return new e(this.route,this.childContexts,n)}constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Xr?this.route:n===Ss?this.childContexts:this.parent.get(n,t)}},nu=new w(""),Mb=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=dr([i.queryParams,i.params,i.data]).pipe(X(([o,s,a],l)=>(a=y(y(y({},o),s),a),l===0?C(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=VD(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function $R(e,n,t){let i=Ds(e,n._root,t?t._root:void 0);return new Kc(i,n)}function Ds(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=HR(e,n,t);return new it(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ds(e,a)),s}}let i=GR(n.value),r=n.children.map(o=>Ds(e,o));return new it(i,r)}}function HR(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ds(e,i,r);return Ds(e,i)})}function GR(e){return new Xr(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var bs=class{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Yb="ngNavigationCancelingError";function Jc(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=ms(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Jb(!1,rt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Jb(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Yb]=!0,t.cancellationCode=n,t}function zR(e){return Xb(e)&&ms(e.url)}function Xb(e){return!!e&&e[Yb]}var WR=(e,n,t,i)=>E(r=>(new jp(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),jp=class{constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),vp(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=zr(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=zr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=zr(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=zr(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new kp(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Rp(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(vp(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vp(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,i)}},Xc=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Zr=class{constructor(n,t){this.component=n,this.route=t}};function qR(e,n,t){let i=e._root,r=n?n._root:null;return ds(i,r,t,[i.value])}function ZR(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function to(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!uy(e)?e:n.get(e):i}function ds(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=zr(n);return e.children.forEach(s=>{KR(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gs(a,t.getContext(s),r)),r}function KR(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=QR(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Xc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ds(e,n,a?a.children:null,i,r):ds(e,n,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zr(a.outlet.component,s))}else s&&gs(n,a,r),r.canActivateChecks.push(new Xc(i)),o.component?ds(e,null,a?a.children:null,i,r):ds(e,null,t,i,r);return r}function QR(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Li(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Li(e.url,n.url)||!Zt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vp(e,n)||!Zt(e.queryParams,n.queryParams);case"paramsChange":default:return!Vp(e,n)}}function gs(e,n,t){let i=zr(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?n?gs(s,n.children.getContext(o),t):gs(s,null,t):gs(s,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Zr(n.outlet.component,r)):t.canDeactivateChecks.push(new Zr(null,r)):t.canDeactivateChecks.push(new Zr(null,r))}function Ms(e){return typeof e=="function"}function YR(e){return typeof e=="boolean"}function JR(e){return e&&Ms(e.canLoad)}function XR(e){return e&&Ms(e.canActivate)}function ex(e){return e&&Ms(e.canActivateChild)}function tx(e){return e&&Ms(e.canDeactivate)}function nx(e){return e&&Ms(e.canMatch)}function ew(e){return e instanceof sn||e?.name==="EmptyError"}var Bc=Symbol("INITIAL_VALUE");function eo(){return X(e=>dr(e.map(n=>n.pipe(Ee(1),nl(Bc)))).pipe(E(n=>{for(let t of n)if(t!==!0){if(t===Bc)return Bc;if(t===!1||ix(t))return t}return!0}),me(n=>n!==Bc),Ee(1)))}function ix(e){return ms(e)||e instanceof bs}function rx(e,n){return ue(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?C(F(y({},t),{guardsResult:!0})):ox(s,i,r,e).pipe(ue(a=>a&&YR(a)?sx(i,o,e,n):C(a)),E(a=>F(y({},t),{guardsResult:a})))})}function ox(e,n,t,i){return te(e).pipe(ue(r=>dx(r.component,r.route,t,n,i)),ht(r=>r!==!0,!0))}function sx(e,n,t,i){return te(n).pipe(It(r=>Tt(lx(r.route.parent,i),ax(r.route,i),ux(e,r.path,t),cx(e,r.route,t))),ht(r=>r!==!0,!0))}function ax(e,n){return e!==null&&n&&n(new xp(e)),C(!0)}function lx(e,n){return e!==null&&n&&n(new Op(e)),C(!0)}function cx(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return C(!0);let r=i.map(o=>fi(()=>{let s=Is(n)??t,a=to(o,s),l=XR(a)?a.canActivate(n,e):gt(s,()=>a(n,e));return Qn(l).pipe(ht())}));return C(r).pipe(eo())}function ux(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>ZR(s)).filter(s=>s!==null).map(s=>fi(()=>{let a=s.guards.map(l=>{let c=Is(s.node)??t,u=to(l,c),d=ex(u)?u.canActivateChild(i,e):gt(c,()=>u(i,e));return Qn(d).pipe(ht())});return C(a).pipe(eo())}));return C(o).pipe(eo())}function dx(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return C(!0);let s=o.map(a=>{let l=Is(n)??r,c=to(a,l),u=tx(c)?c.canDeactivate(e,n,t,i):gt(l,()=>c(e,n,t,i));return Qn(u).pipe(ht())});return C(s).pipe(eo())}function hx(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return C(!0);let o=r.map(s=>{let a=to(s,e),l=JR(a)?a.canLoad(n,t):gt(e,()=>a(n,t));return Qn(l)});return C(o).pipe(eo(),tw(i))}function tw(e){return xd(pe(n=>{if(typeof n!="boolean")throw Jc(e,n)}),E(n=>n===!0))}function fx(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return C(!0);let o=r.map(s=>{let a=to(s,e),l=nx(a)?a.canMatch(n,t):gt(e,()=>a(n,t));return Qn(l)});return C(o).pipe(eo(),tw(i))}var ws=class{constructor(n){this.segmentGroup=n||null}},Cs=class extends Error{constructor(n){super(),this.urlTree=n}};function Gr(e){return cr(new ws(e))}function px(e){return cr(new S(4e3,!1))}function gx(e){return cr(Jb(!1,rt.GuardRejected))}var Up=class{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return C(i);if(r.numberOfChildren>1||!r.children[V])return px(`${n.redirectTo}`);r=r.children[V]}}applyRedirectCommands(n,t,i,r,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:m}=r,D=gt(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:m}));if(D instanceof Cn)throw new Cs(D);t=D}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i);if(t[0]==="/")throw new Cs(s);return s}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new Cn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new ne(o,s)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new S(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}},$p={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mx(e,n,t,i,r){let o=nw(e,n,t);return o.matched?(i=BR(n,i),fx(i,n,t,r).pipe(E(s=>s===!0?o:y({},$p)))):C(o)}function nw(e,n,t){if(n.path==="**")return _x(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?y({},$p):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||fR)(t,e,n);if(!r)return y({},$p);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?y(y({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function _x(e){return{matched:!0,parameters:e.length>0?Fb(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Nb(e,n,t,i){return t.length>0&&Dx(e,t,i)?{segmentGroup:new ne(n,yx(i,new ne(t,e.children))),slicedSegments:[]}:t.length===0&&bx(e,t,i)?{segmentGroup:new ne(e.segments,vx(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new ne(e.segments,e.children),slicedSegments:t}}function vx(e,n,t,i){let r={};for(let o of t)if(iu(e,n,o)&&!i[Ft(o)]){let s=new ne([],{});r[Ft(o)]=s}return y(y({},i),r)}function yx(e,n){let t={};t[V]=n;for(let i of e)if(i.path===""&&Ft(i)!==V){let r=new ne([],{});t[Ft(i)]=r}return t}function Dx(e,n,t){return t.some(i=>iu(e,n,i)&&Ft(i)!==V)}function bx(e,n,t){return t.some(i=>iu(e,n,i))}function iu(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function wx(e,n,t){return n.length===0&&!e.children[t]}var Hp=class{};function Cx(e,n,t,i,r,o,s="emptyOnly"){return new Gp(e,n,t,i,r,s,o).recognize()}var Ex=31,Gp=class{constructor(n,t,i,r,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Up(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new S(4002,`'${n.segmentGroup}'`)}recognize(){let n=Nb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(E(({children:t,rootSnapshot:i})=>{let r=new it(i,t),o=new Yc("",r),s=RR(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){let t=new qr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,V,t).pipe(E(i=>({children:i,rootSnapshot:t})),Rn(i=>{if(i instanceof Cs)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ws?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(E(s=>s instanceof it?[s]:[]))}processChildren(n,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return te(o).pipe(It(s=>{let a=i.children[s],l=jR(t,s);return this.processSegmentGroup(n,l,a,s,r)}),fr((s,a)=>(s.push(...a),s)),xn(null),Gd(),ue(s=>{if(s===null)return Gr(i);let a=iw(s);return Tx(a),C(a)}))}processSegment(n,t,i,r,o,s,a){return te(t).pipe(It(l=>this.processSegmentAgainstRoute(l._injector??n,t,l,i,r,o,s,a).pipe(Rn(c=>{if(c instanceof ws)return C(null);throw c}))),ht(l=>!!l),Rn(l=>{if(ew(l))return wx(i,r,o)?C(new Hp):Gr(i);throw l}))}processSegmentAgainstRoute(n,t,i,r,o,s,a,l){return Ft(i)!==s&&(s===V||!iu(r,o,i))?Gr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,s,l):Gr(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=nw(t,r,o);if(!l)return Gr(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ex&&(this.allowRedirects=!1));let f=new qr(o,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(r),Ft(r),r.component??r._loadedComponent??null,r,Ob(r)),p=Qc(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,n);return this.applyRedirects.lineralizeSegments(r,m).pipe(ue(D=>this.processSegment(n,i,t,D.concat(h),s,!1,a)))}matchSegmentAgainstRoute(n,t,i,r,o,s){let a=mx(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(X(l=>l.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(X(({routes:c})=>{let u=i._loadedInjector??n,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new qr(h,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Ab(i),Ft(i),i.component??i._loadedComponent??null,i,Ob(i)),m=Qc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:D,slicedSegments:I}=Nb(t,h,f,c);if(I.length===0&&D.hasChildren())return this.processChildren(u,c,D,p).pipe(E(T=>new it(p,T)));if(c.length===0&&I.length===0)return C(new it(p,[]));let B=Ft(i)===o;return this.processSegment(u,c,D,I,B?V:o,!0,p).pipe(E(T=>new it(p,T instanceof it?[T]:[])))}))):Gr(t)))}getChildConfig(n,t,i){return t.children?C({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?C({routes:t._loadedRoutes,injector:t._loadedInjector}):hx(n,t,i,this.urlSerializer).pipe(ue(r=>r?this.configLoader.loadChildren(n,t).pipe(pe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):gx(t))):C({routes:[],injector:n})}};function Tx(e){e.sort((n,t)=>n.value.outlet===V?-1:t.value.outlet===V?1:n.value.outlet.localeCompare(t.value.outlet))}function Ix(e){let n=e.value.routeConfig;return n&&n.path===""}function iw(e){let n=[],t=new Set;for(let i of e){if(!Ix(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=iw(i.children);n.push(new it(i.value,r))}return n.filter(i=>!t.has(i))}function Ab(e){return e.data||{}}function Ob(e){return e.resolve||{}}function Sx(e,n,t,i,r,o){return ue(s=>Cx(e,n,t,i,s.extractedUrl,r,o).pipe(E(({state:a,tree:l})=>F(y({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Mx(e,n){return ue(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return C(t);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of rw(l))s.add(c);let a=0;return te(s).pipe(It(l=>o.has(l)?Nx(l,i,e,n):(l.data=Qc(l,l.parent,e).resolve,C(void 0))),pe(()=>a++),hr(1),ue(l=>a===s.size?C(t):Ce))})}function rw(e){let n=e.children.map(t=>rw(t)).flat();return[e,...n]}function Nx(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Qb(r)&&(o[Es]=r.title),Ax(o,e,n,i).pipe(E(s=>(e._resolvedData=s,e.data=Qc(e,e.parent,t).resolve,null)))}function Ax(e,n,t,i){let r=bp(e);if(r.length===0)return C({});let o={};return te(r).pipe(ue(s=>Ox(e[s],n,t,i).pipe(ht(),pe(a=>{if(a instanceof bs)throw Jc(new Qr,a);o[s]=a}))),hr(1),$d(o),Rn(s=>ew(s)?Ce:cr(s)))}function Ox(e,n,t,i){let r=Is(n)??i,o=to(e,r),s=o.resolve?o.resolve(n,t):gt(r,()=>o(n,t));return Qn(s)}function yp(e){return X(n=>{let t=e(n);return t?te(t).pipe(E(()=>n)):C(n)})}var ow=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===V);return i}getResolvedTitleForRoute(t){return t.data[Es]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(Rx),providedIn:"root"})}}return e})(),Rx=(()=>{class e extends ow{constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(_(wb))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ns=new w("",{providedIn:"root",factory:()=>({})}),xx=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pn({type:e,selectors:[["ng-component"]],standalone:!0,features:[ts],decls:1,vars:0,template:function(i,r){i&1&&Wt(0,"router-outlet")},dependencies:[qp],encapsulation:2})}}return e})();function Zp(e){let n=e.children&&e.children.map(Zp),t=n?F(y({},e),{children:n}):y({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==V&&(t.component=xx),t}var eu=new w(""),Kp=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Tc)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return C(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Qn(t.loadComponent()).pipe(E(sw),pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),kn(()=>{this.componentLoaders.delete(t)})),r=new ir(i,()=>new q).pipe(nr());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return C({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=kx(i,this.compiler,t,this.onLoadEndListener).pipe(kn(()=>{this.childrenLoaders.delete(i)})),s=new ir(o,()=>new q).pipe(nr());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kx(e,n,t,i){return Qn(e.loadChildren()).pipe(E(sw),ue(r=>r instanceof zo||Array.isArray(r)?C(r):te(n.compileModuleAsync(r))),E(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(t).injector,s=o.get(eu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zp),injector:o}}))}function Fx(e){return e&&typeof e=="object"&&"default"in e}function sw(e){return Fx(e)?e.default:e}var Qp=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(Px),providedIn:"root"})}}return e})(),Px=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aw=new w(""),lw=new w("");function Lx(e,n,t){let i=e.get(lw),r=e.get(ye);return e.get(H).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),Vx(e))),{onViewTransitionCreated:l}=i;return l&&gt(e,()=>l({transition:a,from:n,to:t})),s})}function Vx(e){return new Promise(n=>{jf({read:()=>setTimeout(n)},{injector:e})})}var Bx=new w(""),Yp=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=g(Kp),this.environmentInjector=g(Se),this.urlSerializer=g(Ts),this.rootContexts=g(Ss),this.location=g($r),this.inputBindingEnabled=g(nu,{optional:!0})!==null,this.titleStrategy=g(ow),this.options=g(Ns,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Qp),this.createViewTransition=g(aw,{optional:!0}),this.navigationErrorHandler=g(Bx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>C(void 0),this.rootComponentType=null;let t=r=>this.events.next(new Np(r)),i=r=>this.events.next(new Ap(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(F(y(y({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ps,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(me(o=>o.id!==0),E(o=>F(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),X(o=>{let s=!1,a=!1;return C(o).pipe(X(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rt.SupersededByNewNavigation),Ce;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?F(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Kn(l.id,this.urlSerializer.serialize(l.rawUrl),d,zc.IgnoredSameUrlNavigation)),l.resolve(!1),Ce}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return C(l).pipe(X(d=>{let h=this.transitions?.getValue();return this.events.next(new Yr(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Ce:Promise.resolve(d)}),Sx(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=F(y({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new Wc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=l,D=new Yr(d,this.urlSerializer.serialize(h),f,p);this.events.next(D);let I=Zb(this.rootComponentType).snapshot;return this.currentTransition=o=F(y({},l),{targetSnapshot:I,urlAfterRedirects:h,extras:F(y({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,C(o)}else{let d="";return this.events.next(new Kn(l.id,this.urlSerializer.serialize(l.extractedUrl),d,zc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ce}}),pe(l=>{let c=new Tp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),E(l=>(this.currentTransition=o=F(y({},l),{guards:qR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),rx(this.environmentInjector,l=>this.events.next(l)),pe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Jc(this.urlSerializer,l.guardsResult);let c=new Ip(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",rt.GuardRejected),!1)),yp(l=>{if(l.guards.canActivateChecks.length)return C(l).pipe(pe(c=>{let u=new Sp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),X(c=>{let u=!1;return C(c).pipe(Mx(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",rt.NoDataFromResolver)}}))}),pe(c=>{let u=new Mp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),yp(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(pe(h=>{u.component=h}),E(()=>{})));for(let h of u.children)d.push(...c(h));return d};return dr(c(l.targetSnapshot.root)).pipe(xn(null),Ee(1))}),yp(()=>this.afterPreactivation()),X(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?te(u).pipe(E(()=>o)):C(o)}),E(l=>{let c=$R(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=F(y({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),pe(()=>{this.events.next(new ys)}),WR(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ee(1),pe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ke(this.transitionAbortSubject.pipe(pe(l=>{throw l}))),kn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rn(l=>{if(a=!0,Xb(l))this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),zR(l)?this.events.next(new Jr(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new vs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=gt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof bs){let{message:d,cancellationCode:h}=Jc(this.urlSerializer,u);this.events.next(new wn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Jr(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=t.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ce}))}))}cancelNavigationTransition(t,i,r){let o=new wn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jx(e){return e!==ps}var Ux=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g($x),providedIn:"root"})}}return e})(),zp=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},$x=(()=>{class e extends zp{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})()}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:()=>g(Hx),providedIn:"root"})}}return e})(),Hx=(()=>{class e extends cw{constructor(){super(...arguments),this.location=g($r),this.urlSerializer=g(Ts),this.options=g(Ns,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Qp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Yr)this.stateMemento=this.createStateMemento();else if(t instanceof Kn)this.rawUrlTree=i.initialUrl;else if(t instanceof Wc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof ys?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof wn&&(t.code===rt.GuardRejected||t.code===rt.NoDataFromResolver)?this.restoreHistory(i):t instanceof vs?this.restoreHistory(i,!0):t instanceof En&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof Cn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=y(y({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})()}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(hs||{});function uw(e,n){e.events.pipe(me(t=>t instanceof En||t instanceof wn||t instanceof vs||t instanceof Kn),E(t=>t instanceof En||t instanceof Kn?hs.COMPLETE:(t instanceof wn?t.code===rt.Redirect||t.code===rt.SupersededByNewNavigation:!1)?hs.REDIRECTING:hs.FAILED),me(t=>t!==hs.REDIRECTING),Ee(1)).subscribe(()=>{n()})}function Gx(e){throw e}var zx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(Dc),this.stateManager=g(cw),this.options=g(Ns,{optional:!0})||{},this.pendingTasks=g(Gn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Yp),this.urlSerializer=g(Ts),this.location=g($r),this.urlHandlingStrategy=g(Qp),this._events=new q,this.errorHandler=this.options.errorHandler||Gx,this.navigated=!1,this.routeReuseStrategy=g(Ux),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(eu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(nu,{optional:!0}),this.eventsSubscription=new fe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wn&&i.code!==rt.Redirect&&i.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof En)this.navigated=!0;else if(i instanceof Jr){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=y({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jx(r.source)},s);this.scheduleNavigation(a,ps,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Zx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=y({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=Gb(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return zb(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=ms(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ps,null,i)}navigate(t,i={skipLocationChange:!1}){return qx(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=y({},zx):i===!1?r=y({},Wx):r=i,ms(t))return Eb(this.currentUrlTree,t,r);let o=this.parseUrl(t);return Eb(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return uw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qx(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new S(4008,!1)}function Zx(e){return!(e instanceof ys)&&!(e instanceof Jr)}var tu=class{};var Kx=(()=>{class e{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(me(t=>t instanceof En),It(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=uc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return te(r).pipe(On())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=C(null);let o=r.pipe(ue(s=>s===null?C(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return te([o,s]).pipe(On())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(_(Vi),_(Tc),_(Se),_(tu),_(Kp))}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dw=new w(""),Qx=(()=>{class e{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof En?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Kn&&t.code===zc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){$0()}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac})}}return e})();function Yx(e){return e.routerState.root}function As(e,n){return{\u0275kind:e,\u0275providers:n}}function Jx(){let e=g(xe);return n=>{let t=e.get(xt);if(n!==t.components[0])return;let i=e.get(Vi),r=e.get(hw);e.get(Jp)===1&&i.initialNavigation(),e.get(fw,null,$.Optional)?.setUpPreloading(),e.get(dw,null,$.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var hw=new w("",{factory:()=>new q}),Jp=new w("",{providedIn:"root",factory:()=>1});function Xx(){return As(2,[{provide:Jp,useValue:0},{provide:Cc,multi:!0,deps:[xe],useFactory:n=>{let t=n.get(WD,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=n.get(Vi),o=n.get(hw);uw(r,()=>{i(!0)}),n.get(Yp).afterPreactivation=()=>(i(!0),o.closed?C(void 0):o),r.initialNavigation()}))}}])}function ek(){return As(3,[{provide:Cc,multi:!0,useFactory:()=>{let n=g(Vi);return()=>{n.setUpLocationChangeListener()}}},{provide:Jp,useValue:2}])}var fw=new w("");function tk(e){return As(0,[{provide:fw,useExisting:Kx},{provide:tu,useExisting:e}])}function nk(){return As(8,[Mb,{provide:nu,useExisting:Mb}])}function ik(e){let n=[{provide:aw,useValue:Lx},{provide:lw,useValue:y({skipNextTransition:!!e?.skipInitialTransition},e)}];return As(9,n)}var Rb=new w("ROUTER_FORROOT_GUARD"),rk=[$r,{provide:Ts,useClass:Qr},Vi,Ss,{provide:Xr,useFactory:Yx,deps:[Vi]},Kp,[]],Xp=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[rk,[],{provide:eu,multi:!0,useValue:t},{provide:Rb,useFactory:lk,deps:[[Vi,new Zo,new af]]},{provide:Ns,useValue:i||{}},i?.useHash?sk():ak(),ok(),i?.preloadingStrategy?tk(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?ck(i):[],i?.bindToComponentInputs?nk().\u0275providers:[],i?.enableViewTransitions?ik().\u0275providers:[],uk()]}}static forChild(t){return{ngModule:e,providers:[{provide:eu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||e)(_(Rb,8))}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();function ok(){return{provide:dw,useFactory:()=>{let e=g(XD),n=g(H),t=g(Ns),i=g(Yp),r=g(Ts);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Qx(r,i,e,n,t)}}}function sk(){return{provide:ki,useClass:ZD}}function ak(){return{provide:ki,useClass:tp}}function lk(e){return"guarded"}function ck(e){return[e.initialNavigation==="disabled"?ek().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Xx().\u0275providers:[]]}var xb=new w("");function uk(){return[{provide:xb,useFactory:Jx},{provide:Ec,multi:!0,useExisting:xb}]}var ru=class e{constructor(n){this.http=n}url="https://dolgozat-79584-default-rtdb.europe-west1.firebasedatabase.app";dataSubject=new q;getDatas(){return this.http.get(`${this.url}/.json`)}createData(n){return n.price=parseFloat(n.price).toFixed(2),this.http.post(`${this.url}/.json`,n)}updateData(n){return n.price=parseFloat(n.price).toFixed(2),this.http.put(`${this.url}/${n.id}.json`,n)}deleteData(n){return this.http.delete(`${this.url}/${n}.json`)}static \u0275fac=function(t){return new(t||e)(_(Fi))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var Jn=class{},pw=(()=>{class e extends Jn{getTranslation(t){return C({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Rs=class{},gw=(()=>{class e{handle(t){return t.key}static \u0275fac=function(i){return new(i||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function su(e,n){if(e===n)return!0;if(e===null||n===null)return!1;if(e!==e&&n!==n)return!0;let t=typeof e,i=typeof n,r,o,s;if(t==i&&t=="object")if(Array.isArray(e)){if(!Array.isArray(n))return!1;if((r=e.length)==n.length){for(o=0;o<r;o++)if(!su(e[o],n[o]))return!1;return!0}}else{if(Array.isArray(n))return!1;s=Object.create(null);for(o in e){if(!su(e[o],n[o]))return!1;s[o]=!0}for(o in n)if(!(o in s)&&typeof n[o]<"u")return!1;return!0}return!1}function Yn(e){return typeof e<"u"&&e!==null}function Fs(e){return ou(e)&&!sg(e)&&e!==null}function ou(e){return typeof e=="object"}function sg(e){return Array.isArray(e)}function ag(e){return typeof e=="string"}function fk(e){return typeof e=="function"}function eg(e,n){let t=Object.assign({},e);return ou(e)?(ou(e)&&ou(n)&&Object.keys(n).forEach(i=>{Fs(n[i])?i in e?t[i]=eg(e[i],n[i]):Object.assign(t,{[i]:n[i]}):Object.assign(t,{[i]:n[i]})}),t):eg({},n)}function tg(e,n){let t=n.split(".");n="";do n+=t.shift(),Yn(e)&&Yn(e[n])&&(Fs(e[n])||sg(e[n])||!t.length)?(e=e[n],n=""):t.length?n+=".":e=void 0;while(t.length);return e}function pk(e,n,t){let i=n.split("."),r=e;for(let o=0;o<i.length;o++){let s=i[o];o===i.length-1?r[s]=t:((!r[s]||!Fs(r[s]))&&(r[s]={}),r=r[s])}}var no=class{},mw=(()=>{class e extends no{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,i){if(ag(t))return this.interpolateString(t,i);if(fk(t))return this.interpolateFunction(t,i)}interpolateFunction(t,i){return t(i)}interpolateString(t,i){return i?t.replace(this.templateMatcher,(r,o)=>{let s=tg(i,o);return Yn(s)?s:r}):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),io=class{},_w=(()=>{class e extends io{compile(t,i){return t}compileTranslations(t,i){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),xs=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new re;onLangChange=new re;onDefaultLangChange=new re},ng=new w("ISOLATE_TRANSLATE_SERVICE"),ig=new w("USE_DEFAULT_LANG"),rg=new w("DEFAULT_LANGUAGE"),og=new w("USE_EXTEND"),Os=e=>on(e)?e:C(e),ks=(()=>{class e{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(t){this.store.defaultLang=t}get currentLang(){return this.store.currentLang}set currentLang(t){this.store.currentLang=t}get langs(){return this.store.langs}set langs(t){this.store.langs=t}get translations(){return this.store.translations}set translations(t){this.store.translations=t}constructor(t,i,r,o,s,a=!0,l=!1,c=!1,u){this.store=t,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.extend=c,l&&(this.store=new xs),u&&this.setDefaultLang(u)}setDefaultLang(t){if(t===this.defaultLang)return;let i=this.retrieveTranslations(t);typeof i<"u"?(this.defaultLang==null&&(this.defaultLang=t),i.pipe(Ee(1)).subscribe(()=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(this.lastUseLanguage=t,t===this.currentLang)return C(this.translations[t]);this.currentLang||(this.currentLang=t);let i=this.retrieveTranslations(t);return on(i)?(i.pipe(Ee(1)).subscribe(()=>{this.changeLang(t)}),i):(this.changeLang(t),C(this.translations[t]))}changeLang(t){t===this.lastUseLanguage&&(this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t))}retrieveTranslations(t){if(typeof this.translations[t]>"u"||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}getTranslation(t){return this.loadAndCompileTranslations(t)}loadAndCompileTranslations(t){this.pending=!0;let i=this.currentLoader.getTranslation(t).pipe(gi(1),Ee(1));return this.loadingTranslations=i.pipe(E(r=>this.compiler.compileTranslations(r,t)),gi(1),Ee(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[t]=this.extend&&this.translations[t]?y(y({},r),this.translations[t]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(t,i,r=!1){let o=this.compiler.compileTranslations(i,t);(r||this.extend)&&this.translations[t]?this.translations[t]=eg(this.translations[t],o):this.translations[t]=o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){let i=t.filter(r=>!this.langs.includes(r));i.length>0&&(this.langs=[...this.langs,...i])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(t,i,r){let o;if(t&&(o=this.runInterpolation(tg(t,i),r)),o===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.runInterpolation(tg(this.translations[this.defaultLang],i),r)),o===void 0){let s={key:i,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return o!==void 0?o:i}runInterpolation(t,i){if(sg(t))return t.map(r=>this.runInterpolation(r,i));if(Fs(t)){let r={};for(let o in t){let s=this.runInterpolation(t[o],i);s!==void 0&&(r[o]=s)}return r}else return this.parser.interpolate(t,i)}getParsedResult(t,i,r){if(i instanceof Array){let o={},s=!1;for(let l of i)o[l]=this.getParsedResultForKey(t,l,r),s=s||on(o[l]);if(!s)return o;let a=i.map(l=>Os(o[l]));return ko(a).pipe(E(l=>{let c={};return l.forEach((u,d)=>{c[i[d]]=u}),c}))}return this.getParsedResultForKey(t,i,r)}get(t,i){if(!Yn(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(It(r=>Os(this.getParsedResult(r,t,i)))):Os(this.getParsedResult(this.translations[this.currentLang],t,i))}getStreamOnTranslationChange(t,i){if(!Yn(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return Tt(fi(()=>this.get(t,i)),this.onTranslationChange.pipe(X(r=>{let o=this.getParsedResult(r.translations,t,i);return Os(o)})))}stream(t,i){if(!Yn(t)||!t.length)throw new Error('Parameter "key" required');return Tt(fi(()=>this.get(t,i)),this.onLangChange.pipe(X(r=>{let o=this.getParsedResult(r.translations,t,i);return Os(o)})))}instant(t,i){if(!Yn(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(this.translations[this.currentLang],t,i);return on(r)?Array.isArray(t)?t.reduce((o,s)=>(o[s]=s,o),{}):t:r}set(t,i,r=this.currentLang){pk(this.translations[r],t,ag(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],delete this.translations[t]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(i){return new(i||e)(_(xs),_(Jn),_(io),_(no),_(Rs),_(ig),_(ng),_(og),_(rg))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vw=(()=>{class e{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,i){this.translate=t,this._ref=i}updateValue(t,i,r){let o=s=>{this.value=s!==void 0?s:t,this.lastKey=t,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,t,i);on(s)?s.subscribe(o):o(s)}this.translate.get(t,i).subscribe(o)}transform(t,...i){if(!t||!t.length)return t;if(su(t,this.lastKey)&&su(i,this.lastParams))return this.value;let r;if(Yn(i[0])&&i.length)if(ag(i[0])&&i[0].length){let o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Fs(i[0])&&(r=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||e)(ee(ks,16),ee(kt,16))};static \u0275pipe=df({name:"translate",type:e,pure:!1,standalone:!0});static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var yw=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:Jn,useClass:pw},t.compiler||{provide:io,useClass:_w},t.parser||{provide:no,useClass:mw},t.missingTranslationHandler||{provide:Rs,useClass:gw},xs,{provide:ng,useValue:t.isolate},{provide:ig,useValue:t.useDefaultLang},{provide:og,useValue:t.extend},{provide:rg,useValue:t.defaultLanguage},ks]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:Jn,useClass:pw},t.compiler||{provide:io,useClass:_w},t.parser||{provide:no,useClass:mw},t.missingTranslationHandler||{provide:Rs,useClass:gw},{provide:ng,useValue:t.isolate},{provide:ig,useValue:t.useDefaultLang},{provide:og,useValue:t.extend},{provide:rg,useValue:t.defaultLanguage},ks]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=U({type:e});static \u0275inj=j({})}return e})();var Sw=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(ee(Lr),ee(et))}}static{this.\u0275dir=nt({type:e})}}return e})(),mk=(()=>{class e extends Sw{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zt(e)))(r||e)}})()}static{this.\u0275dir=nt({type:e,features:[Ai]})}}return e})(),Mw=new w("");var _k={provide:Mw,useExisting:Or(()=>du),multi:!0};function vk(){let e=qt()?qt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var yk=new w(""),du=(()=>{class e extends Sw{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vk())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(ee(Lr),ee(et),ee(yk,8))}}static{this.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Rt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[mc([_k]),Ai]})}}return e})();var Dk=new w(""),bk=new w("");function Nw(e){return e!=null}function Aw(e){return xi(e)?te(e):e}function Ow(e){let n={};return e.forEach(t=>{n=t!=null?y(y({},n),t):n}),Object.keys(n).length===0?null:n}function Rw(e,n){return n.map(t=>t(e))}function wk(e){return!e.validate}function xw(e){return e.map(n=>wk(n)?n:t=>n.validate(t))}function Ck(e){if(!e)return null;let n=e.filter(Nw);return n.length==0?null:function(t){return Ow(Rw(t,n))}}function kw(e){return e!=null?Ck(xw(e)):null}function Ek(e){if(!e)return null;let n=e.filter(Nw);return n.length==0?null:function(t){let i=Rw(t,n).map(Aw);return ko(i).pipe(E(Ow))}}function Fw(e){return e!=null?Ek(xw(e)):null}function Dw(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Tk(e){return e._rawValidators}function Ik(e){return e._rawAsyncValidators}function lg(e){return e?Array.isArray(e)?e:[e]:[]}function lu(e,n){return Array.isArray(e)?e.includes(n):e===n}function bw(e,n){let t=lg(n);return lg(e).forEach(r=>{lu(t,r)||t.push(r)}),t}function ww(e,n){return lg(n).filter(t=>!lu(e,t))}var cu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=kw(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},cg=class extends cu{get formDirective(){return null}get path(){return null}},js=class extends cu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ug=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wz=F(y({},Sk),{"[class.ng-submitted]":"isSubmitted"}),Pw=(()=>{class e extends ug{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(ee(js,2))}}static{this.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Br("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ai]})}}return e})();var Ps="VALID",au="INVALID",ro="PENDING",Ls="DISABLED",so=class{},uu=class extends so{constructor(n,t){super(),this.value=n,this.source=t}},Vs=class extends so{constructor(n,t){super(),this.pristine=n,this.source=t}},Bs=class extends so{constructor(n,t){super(),this.touched=n,this.source=t}},oo=class extends so{constructor(n,t){super(),this.status=n,this.source=t}};function Mk(e){return(hu(e)?e.validators:e)||null}function Nk(e){return Array.isArray(e)?kw(e):e||null}function Ak(e,n){return(hu(n)?n.asyncValidators:e)||null}function Ok(e){return Array.isArray(e)?Fw(e):e||null}function hu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var dg=class{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Mc(()=>this.statusReactive()),this.statusReactive=cc(void 0),this._pristine=Mc(()=>this.pristineReactive()),this.pristineReactive=cc(!0),this._touched=Mc(()=>this.touchedReactive()),this.touchedReactive=cc(!1),this._events=new q,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return zn(this.statusReactive)}set status(n){zn(()=>this.statusReactive.set(n))}get valid(){return this.status===Ps}get invalid(){return this.status===au}get pending(){return this.status==ro}get disabled(){return this.status===Ls}get enabled(){return this.status!==Ls}get pristine(){return zn(this.pristineReactive)}set pristine(n){zn(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return zn(this.touchedReactive)}set touched(n){zn(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(bw(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(bw(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ww(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ww(n,this._rawAsyncValidators))}hasValidator(n){return lu(this._rawValidators,n)}hasAsyncValidator(n){return lu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(F(y({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Bs(!0,i))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new Bs(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(F(y({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Vs(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new Vs(!0,i))}markAsPending(n={}){this.status=ro;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new oo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(F(y({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ls,this.errors=null,this._forEachChild(r=>{r.disable(F(y({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uu(this.value,i)),this._events.next(new oo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ps,this._forEachChild(i=>{i.enable(F(y({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(F(y({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ps||this.status===ro)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uu(this.value,t)),this._events.next(new oo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(F(y({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ls:Ps}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ro,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Aw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new oo(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?Ls:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ro)?ro:this._anyControlsHaveStatus(au)?au:Ps}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new Vs(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Bs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){hu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Nk(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Ok(this._rawAsyncValidators)}};var Lw=new w("CallSetDisabledState",{providedIn:"root",factory:()=>hg}),hg="always";function Rk(e,n){return[...n.path,e]}function xk(e,n,t=hg){Fk(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Pk(e,n),Vk(e,n),Lk(e,n),kk(e,n)}function Cw(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function kk(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function Fk(e,n){let t=Tk(e);n.validator!==null?e.setValidators(Dw(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=Ik(e);n.asyncValidator!==null?e.setAsyncValidators(Dw(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();Cw(n._rawValidators,r),Cw(n._rawAsyncValidators,r)}function Pk(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Vw(e,n)})}function Lk(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Vw(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function Vw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Vk(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Bk(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function jk(e){return Object.getPrototypeOf(e.constructor)===mk}function Uk(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===du?t=o:jk(o)?i=o:r=o}),r||i||t||null}function Ew(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Tw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var $k=class extends dg{constructor(n=null,t,i){super(Mk(t),Ak(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Tw(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ew(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ew(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){Tw(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var Hk={provide:js,useExisting:Or(()=>fg)},Iw=Promise.resolve(),fg=(()=>{class e extends js{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $k,this._registered=!1,this.name="",this.update=new re,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Uk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Bk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xk(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Iw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Sc(i);Iw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Rk(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(ee(cg,9),ee(Dk,10),ee(bk,10),ee(Mw,10),ee(kt,8),ee(Lw,8))}}static{this.\u0275dir=nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mc([Hk]),Ai,Si]})}}return e})();var Gk=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var Bw=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Lw,useValue:t.callSetDisabledState??hg}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({imports:[Gk]})}}return e})();function qk(e,n){if(e&1&&(le(0,"div",3),Ri(1),_c(2,"translate"),Me()),e&2){let t=n.$implicit;_t(),jr(" ",vc(2,1,t.title)," ")}}function Zk(e,n){if(e&1){let t=es();Jo(0),le(1,"input",11),gc("ngModelChange",function(r){xr(t);let o=He().$implicit,s=He();return Hf(s.newData[o.key],r)||(s.newData[o.key]=r),kr(r)}),Me(),Xo()}if(e&2){let t=He().$implicit,i=He();_t(),Ot("type",t.type),pc("ngModel",i.newData[t.key])}}function Kk(e,n){}function Qk(e,n){if(e&1&&(le(0,"div",3),yn(1,Zk,2,2,"ng-container",10)(2,Kk,0,0,"ng-template",null,0,yc),Me()),e&2){let t=n.$implicit,i=hc(3);_t(),Ot("ngIf",t.type!="plain")("ngIfElse",i)}}function Yk(e,n){if(e&1){let t=es();Jo(0),le(1,"input",11),gc("ngModelChange",function(r){xr(t);let o=He().$implicit,s=He().$implicit;return Hf(s[o.key],r)||(s[o.key]=r),kr(r)}),Me(),Xo()}if(e&2){let t=He().$implicit,i=He().$implicit;_t(),Ot("type",t.type),pc("ngModel",i[t.key])}}function Jk(e,n){if(e&1&&Ri(0),e&2){let t=He().$implicit,i=He().$implicit;jr(" ",i[t.key]," ")}}function Xk(e,n){if(e&1&&(le(0,"div",3),yn(1,Yk,2,2,"ng-container",10)(2,Jk,1,1,"ng-template",null,0,yc),Me()),e&2){let t=n.$implicit,i=hc(3);_t(),Ot("ngIf",t.type!=="plain")("ngIfElse",i)}}function eF(e,n){if(e&1){let t=es();le(0,"div",12),yn(1,Xk,4,2,"div",2),le(2,"div",3)(3,"button",13),Rt("click",function(){let r=xr(t).$implicit,o=He();return kr(o.updateData(r))}),Yl(),le(4,"svg",14),Wt(5,"path",15),Me()(),o0(),le(6,"button",16),Rt("click",function(){let r=xr(t).$implicit,o=He();return kr(o.deleteData(r))}),Yl(),le(7,"svg",17),Wt(8,"path",18),Me()()()()}if(e&2){let t=He();_t(),Ot("ngForOf",t.columns)}}var ao=class e{constructor(n,t){this.base=n;this.translate=t;this.translate.addLangs(["en","hu"]),this.translate.setDefaultLang("en"),this.translate.use("en")}languagechange(n){this.translate.use(n)}datas;columns=[{key:"id",title:"#",type:"plain"},{key:"category",title:"CATEGORY",type:"text"},{key:"description",title:"DESCRIPTION",type:"text"},{key:"name",title:"NAME",type:"text"},{key:"price",title:"PRICE",type:"number"}];newData=[];ngOnInit(){this.loadAllDatas()}loadAllDatas(){this.base.getDatas().subscribe(n=>{this.datas=n?Object.entries(n).map(([t,i])=>F(y({},i),{id:t})):[]})}addData(){this.base.createData(this.newData).subscribe(()=>{this.loadAllDatas(),this.newData={id:null,name:"",category:"",description:"",price:null}})}updateData(n){n.price=parseFloat(n.price).toFixed(2),this.base.updateData(n).subscribe(()=>this.loadAllDatas())}deleteData(n){this.base.deleteData(n.id).subscribe(()=>this.loadAllDatas())}static \u0275fac=function(t){return new(t||e)(ee(ru),ee(ks))};static \u0275cmp=pn({type:e,selectors:[["app-home"]],decls:16,vars:6,consts:[["notchange",""],[1,"row","header","mt-5"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"btn","btn-outline-dark","mb-2",3,"click"],[1,"row","mb-4","mt-2","newdata"],["type","button",1,"btn","btn-outline-primary","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"],["class","row mt-0 datas mb-0 ",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"form-control",3,"ngModelChange","type","ngModel"],[1,"row","mt-0","datas","mb-0"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pen"],["d","m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"],["type","button",1,"btn","btn-outline-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"]],template:function(t,i){t&1&&(le(0,"div",1),yn(1,qk,3,3,"div",2),le(2,"div",3),Ri(3),_c(4,"translate"),Me()(),le(5,"button",4),Rt("click",function(){return i.languagechange("en")}),Ri(6,"English"),Me(),le(7,"button",4),Rt("click",function(){return i.languagechange("hu")}),Ri(8,"Magyar"),Me(),le(9,"div",5),yn(10,Qk,4,2,"div",2),le(11,"div",3)(12,"button",6),Rt("click",function(){return i.addData()}),Yl(),le(13,"svg",7),Wt(14,"path",8),Me()()()(),yn(15,eF,9,1,"div",9)),t&2&&(_t(),Ot("ngForOf",i.columns),_t(2),fc(vc(4,4,"OPTIONS")),_t(7),Ot("ngForOf",i.columns),_t(5),Ot("ngForOf",i.datas))},dependencies:[KD,QD,du,Pw,fg,vw],styles:[".header[_ngcontent-%COMP%]{padding:20px;background-color:#add8e6;text-align:center;font-weight:700;font-size:15px;border-radius:20px 20px 0 0}.newdata[_ngcontent-%COMP%]{padding:10px;margin-bottom:15px;background-color:beige;text-align:center;font-weight:700;font-size:15px}.datas[_ngcontent-%COMP%]{background-color:beige;padding:10px;text-align:center;align-items:center}"]})};var tF=[{path:"",component:ao},{path:"home",component:ao},{path:"**",component:ao}],fu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=U({type:e});static \u0275inj=j({imports:[Xp.forRoot(tF),Xp]})};var pu=class e{title="FrontendDolgozat";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=pn({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container"]],template:function(t,i){t&1&&(le(0,"div",0),Wt(1,"router-outlet"),Me())},dependencies:[qp]})};var nF=["*"];var iF=["dialog"];var jw={animation:!0,transitionTimerDelayMs:5},rF=(()=>{class e{constructor(){this.animation=jw.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oF(e){let{transitionDelay:n,transitionDuration:t}=window.getComputedStyle(e),i=parseFloat(n),r=parseFloat(t);return(i+r)*1e3}function Uw(e){return typeof e=="string"}function pg(e){return e!=null}function sF(e){return e&&e.then}function $w(e){return(e||document.body).getBoundingClientRect()}function aF(e){return n=>new A(t=>{let i=s=>e.run(()=>t.next(s)),r=s=>e.run(()=>t.error(s)),o=()=>e.run(()=>t.complete());return n.subscribe({next:i,error:r,complete:o})})}var lF=()=>{},{transitionTimerDelayMs:cF}=jw,gu=new Map,Bi=(e,n,t,i)=>{let r=i.context||{},o=gu.get(n);if(o)switch(i.runningTransition){case"continue":return Ce;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),gu.delete(n)}let s=t(n,i.animation,r)||lF;if(!i.animation||window.getComputedStyle(n).transitionProperty==="none")return e.run(()=>s()),C(void 0).pipe(aF(e));let a=new q,l=new q,c=a.pipe(Hd(!0));gu.set(n,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=oF(n);return e.runOutsideAngular(()=>{let d=dt(n,"transitionend").pipe(ke(c),me(({target:f})=>f===n)),h=jd(u+cF).pipe(ke(c));Ud(h,d,l).pipe(ke(c)).subscribe(()=>{gu.delete(n),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};var Hw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var Gw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var zw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})(),Ww=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var B5=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,n=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||n()):!1})();var uF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qw(e){let n=Array.from(e.querySelectorAll(uF)).filter(t=>t.tabIndex!==-1);return[n[0],n[n.length-1]]}var dF=(e,n,t,i=!1)=>{e.runOutsideAngular(()=>{let r=dt(n,"focusin").pipe(ke(t),E(o=>o.target));dt(n,"keydown").pipe(ke(t),me(o=>o.key==="Tab"),pr(r)).subscribe(([o,s])=>{let[a,l]=qw(n);(s===a||s===n)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&dt(n,"click").pipe(ke(t),pr(r),E(o=>o[1])).subscribe(o=>o.focus())})};var j5=new Date(1882,10,12),U5=new Date(2174,10,25);var $5=1e3*60*60*24;var _g=1080,hF=24*_g,fF=12*_g+793,H5=29*hF+fF,G5=11*_g+204;var Zw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var Kw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})(),pF=(()=>{class e{constructor(){this._ngbConfig=g(rF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lo=class{constructor(n,t,i){this.nodes=n,this.viewRef=t,this.componentRef=i}};var gF=(()=>{class e{constructor(){this._document=g(ye)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(t>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mF=(()=>{class e{constructor(){this._nativeElement=g(et).nativeElement,this._zone=g(H)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ee(1)).subscribe(()=>{Bi(this._zone,this._nativeElement,(t,i)=>{i&&$w(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bi(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pn({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(dc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Br("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ts],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),mu=class{update(n){}close(n){}dismiss(n){}},_F=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],vF=["animation","backdropClass"],gg=class{_applyWindowOptions(n,t){_F.forEach(i=>{pg(t[i])&&(n[i]=t[i])})}_applyBackdropOptions(n,t){vF.forEach(i=>{pg(t[i])&&(n[i]=t[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ke(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ke(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,t,i,r){this._windowCmptRef=n,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new q,this._dismissed=new q,this._hidden=new q,n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(n);else{let t=this._beforeDismiss();sF(t)?t.then(i=>{i!==!1&&this._dismiss(n)},()=>{}):t!==!1&&this._dismiss(n)}}_removeModalElements(){let n=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():C(void 0);n.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Fo(n,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},mg=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(mg||{}),yF=(()=>{class e{constructor(){this._document=g(ye),this._elRef=g(et),this._zone=g(H),this._closed$=new q,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new re,this.shown=new q,this.hidden=new q}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Uw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ee(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Bi(this._zone,t,()=>t.classList.remove("show"),i),o=Bi(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Fo(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Bi(this._zone,this._elRef.nativeElement,(o,s)=>{s&&$w(o),o.classList.add("show")},t),r=Bi(this._zone,this._dialogEl.nativeElement,()=>{},t);Fo(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{dt(t,"keydown").pipe(ke(this._closed$),me(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(mg.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;dt(this._dialogEl.nativeElement,"mousedown").pipe(ke(this._closed$),pe(()=>i=!1),X(()=>dt(t,"mouseup").pipe(ke(this._closed$),Ee(1))),me(({target:r})=>t===r)).subscribe(()=>{i=!0}),dt(t,"click").pipe(ke(this._closed$)).subscribe(({target:r})=>{t===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(mg.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),r=qw(t)[0];(i||r||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,r;i&&i.focus&&t.contains(i)?r=i:r=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Bi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=pn({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&SD(iF,7),i&2){let o;Uf(o=$f())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(Yo("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),dc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Br("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ts],ngContentSelectors:nF,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(TD(),le(0,"div",1,0)(2,"div",2),ID(3),Me()()),i&2&&dc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),DF=(()=>{class e{constructor(){this._applicationRef=g(xt),this._injector=g(xe),this._environmentInjector=g(Se),this._document=g(ye),this._scrollBar=g(gF),this._activeWindowCmptHasChanged=new q,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new re;let t=g(H);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];dF(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){let o=r.container instanceof HTMLElement?r.container:pg(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new mu;t=r.injector||t;let a=t.get(Se,null)||this._environmentInjector,l=this._getContentRef(t,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new gg(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Ee(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Nc(mF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=Nc(yF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_getContentRef(t,i,r,o,s){return r?r instanceof hn?this._createFromTemplateRef(r,o):Uw(r)?this._createFromString(r):this._createFromComponent(t,i,r,o,s):new lo([])}_createFromTemplateRef(t,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=t.createEmbeddedView(r);return this._applicationRef.attachView(o),new lo([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new lo([[i]])}_createFromComponent(t,i,r,o,s){let a=xe.create({providers:[{provide:mu,useValue:o}],parent:t}),l=Nc(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new lo([[c]],l.hostView,l)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bF=(()=>{class e{constructor(){this._injector=g(xe),this._modalStack=g(DF),this._config=g(pF)}open(t,i={}){let r=y(F(y({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({providers:[bF]})}}return e})();var Yw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var Jw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var Xw=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var eC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var tC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var nC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var iC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var rC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var oC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var z5=new w("live announcer delay",{providedIn:"root",factory:()=>100});var sC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})();var aC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({})}}return e})(),wF=[Hw,Gw,zw,Ww,Zw,Kw,Qw,Yw,aC,Jw,Xw,eC,tC,nC,iC,rC,oC,sC],lC=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=U({type:e})}static{this.\u0275inj=j({imports:[wF,Hw,Gw,zw,Ww,Zw,Kw,Qw,Yw,aC,Jw,Xw,eC,tC,nC,iC,rC,oC,sC]})}}return e})();var CF="firebase",EF="10.14.1";Nn(CF,EF,"app");var Dg=new $n("ANGULARFIRE2_VERSION");var TF=(e,n)=>{let t=n?[n]:z_(),i=[];return t.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},ji=class{constructor(){return TF(IF)}},IF="app-check";function vg(){}var _u=class{zone;delegate;constructor(n,t=Vd){this.zone=n,this.delegate=t}now(){return this.delegate.now()}schedule(n,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{n.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},yg=class{zone;task=null;constructor(n){this.zone=n}call(n,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vg,{},vg,vg)),t.pipe(pe({next:i,complete:i,error:i})).subscribe(n).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},vu=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _u(Zone.current)),this.insideAngular=t.run(()=>new _u(Zone.current,ar)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(_(H))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function SF(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function Tn(e){return MF(SF())(e)}function MF(e){return function(t){return t=t.lift(new yg(e.ngZone)),t.pipe(Et(e.outsideAngular),ut(e.insideAngular))}}var OF=new Map,RF={activated:!1,tokenObservers:[]},xF={initialized:!1,enabled:!1};function Pt(e){return OF.get(e)||Object.assign({},RF)}function pC(){return xF}var kF="https://content-firebaseappcheck.googleapis.com/v1";var FF="exchangeDebugToken",uC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},uW=24*60*60*1e3;var wg=class{constructor(n,t,i,r,o){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){return qe(this,null,function*(){this.stop();try{this.pending=new Te,this.pending.promise.catch(t=>{}),yield PF(this.getNextRun(n)),this.pending.resolve(),yield this.pending.promise,this.pending=new Te,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function PF(e){return new Promise(n=>{setTimeout(n,e)})}var LF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Xn=new L_("appCheck","AppCheck",LF);function gC(e){if(!Pt(e).activated)throw Xn.create("use-before-activation",{appName:e.name})}function mC(i,r){return qe(this,arguments,function*({url:e,body:n},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(n),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw Xn.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Xn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Xn.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function _C(e,n){let{projectId:t,appId:i,apiKey:r}=e.options;return{url:`${kF}/projects/${t}/apps/${i}:${FF}?key=${r}`,body:{debug_token:n}}}var VF="firebase-app-check-database",BF=1,Cg="firebase-app-check-store";var yu=null;function jF(){return yu||(yu=new Promise((e,n)=>{try{let t=indexedDB.open(VF,BF);t.onsuccess=i=>{e(i.target.result)},t.onerror=i=>{var r;n(Xn.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Cg,{keyPath:"compositeKey"})}}}catch(t){n(Xn.create("storage-open",{originalErrorMessage:t?.message}))}}),yu)}function UF(e,n){return $F(HF(e),n)}function $F(e,n){return qe(this,null,function*(){let i=(yield jF()).transaction(Cg,"readwrite"),o=i.objectStore(Cg).put({compositeKey:e,value:n});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Xn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function HF(e){return`${e.options.appId}-${e.name}`}var Eg=new Yi("@firebase/app-check");function bg(e,n){return P_()?UF(e,n).catch(t=>{Eg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vC(){return pC().enabled}function yC(){return qe(this,null,function*(){let e=pC();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var GF={error:"UNKNOWN_ERROR"};function zF(e){return wa.encodeString(JSON.stringify(e),!1)}function Tg(e,n=!1){return qe(this,null,function*(){let t=e.app;gC(t);let i=Pt(t),r=i.token,o;if(r&&!Us(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Us(l)?r=l:yield bg(t,void 0))}if(!n&&r&&Us(r))return{token:r.token};let s=!1;if(vC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=mC(_C(t,yield yC()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield bg(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Pt(t).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Eg.warn(l.message):Eg.error(l),o=l}let a;return r?o?Us(r)?a={token:r.token,internalError:o}:a=hC(o):(a={token:r.token},i.token=r,yield bg(t,r)):a=hC(o),s&&KF(t,a),a})}function WF(e){return qe(this,null,function*(){let n=e.app;gC(n);let{provider:t}=Pt(n);if(vC()){let i=yield yC(),{token:r}=yield mC(_C(n,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function qF(e,n,t,i){let{app:r}=e,o=Pt(r),s={next:t,error:i,type:n};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Us(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),dC(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dC(e))}function DC(e,n){let t=Pt(e),i=t.tokenObservers.filter(r=>r.next!==n);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function dC(e){let{app:n}=e,t=Pt(n),i=t.tokenRefresher;i||(i=ZF(e),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ZF(e){let{app:n}=e;return new wg(()=>qe(this,null,function*(){let t=Pt(n),i;if(t.token?i=yield Tg(e,!0):i=yield Tg(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Pt(n);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},uC.RETRIAL_MIN_WAIT,uC.RETRIAL_MAX_WAIT)}function KF(e,n){let t=Pt(e).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&n.error!=null?i.error(n.error):i.next(n)}catch{}}function Us(e){return e.expireTimeMillis-Date.now()>0}function hC(e){return{token:zF(GF),error:e}}var Ig=class{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:n}=Pt(this.app);for(let t of n)DC(this.app,t.next);return Promise.resolve()}};function QF(e,n){return new Ig(e,n)}function YF(e){return{getToken:n=>Tg(e,n),getLimitedUseToken:()=>WF(e),addTokenListener:n=>qF(e,"INTERNAL",n),removeTokenListener:n=>DC(e.app,n)}}var JF="@firebase/app-check",XF="0.8.8";var eP="app-check",fC="app-check-internal";function tP(){No(new tn(eP,e=>{let n=e.getProvider("app").getImmediate(),t=e.getProvider("heartbeat");return QF(n,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(fC).initialize()})),No(new tn(fC,e=>{let n=e.getProvider("app-check").getImmediate();return YF(n)},"PUBLIC").setInstantiationMode("EXPLICIT")),Nn(JF,XF)}tP();var nP=["localhost","0.0.0.0","127.0.0.1"],wW=typeof window<"u"&&nP.includes(window.location.hostname);var iP="firebase",rP="10.14.1";wt.registerVersion(iP,rP,"app-compat");var oP=["ngOnDestroy"],CC=(e,n,t,i={})=>new Proxy(e,{get:(r,o)=>t.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(oP.indexOf(o)>-1)return()=>{};let s=n.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var Sg=class{constructor(n){return n}},Du=new w("angularfire2.app.options"),bu=new w("angularfire2.app.name");function wu(e,n,t){let i=typeof t=="string"&&t||"[DEFAULT]",r=typeof t=="object"&&t||{};r.name=r.name||i;let s=wt.apps.filter(a=>a&&a.name===r.name)[0]||n.runOutsideAngular(()=>wt.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;sP("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Sg(s)}var sP=(e,...n)=>{qf()&&typeof console<"u"&&console[e](...n)};function Cu(e,n,t,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return aP(r,s)||(wC("error",`${n} was already initialized on the ${t} Firebase App with different settings.${lP?" You may need to reload as Firebase is not HMR aware.":""}`),wC("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function aP(e,n){try{return e.toString()===n.toString()}catch{return e===n}}var lP=typeof module<"u"&&!!module.hot,wC=(e,...n)=>{qf()&&typeof console<"u"&&console[e](...n)};globalThis.\u0275AngularfireInstanceCache||=[];var Mg=new w("angularfire2.auth.use-emulator"),Ng=new w("angularfire2.auth.settings"),Ag=new w("angularfire2.auth.tenant-id"),Og=new w("angularfire2.auth.langugage-code"),Rg=new w("angularfire2.auth.use-device-language"),xg=new w("angularfire.auth.persistence"),kg=(e,n,t,i,r,o,s,a)=>Cu(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=n.runOutsideAngular(()=>e.auth());if(t&&l.useEmulator(...t),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[t,i,r,o,s,a]),EC=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,l,c,u,d,h,f){let p=new q,m=C(void 0).pipe(ut(s.outsideAngular),X(()=>o.runOutsideAngular(()=>import("./chunk-RYLOHJGV.js"))),E(()=>wu(t,o,i)),E(D=>kg(D,o,a,c,u,d,l,h)),gi({bufferSize:1,refCount:!1}));if(Hr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=C(null);else{m.pipe(ht()).subscribe();let D=m.pipe(X(T=>T.getRedirectResult().then(ie=>ie,()=>null)),Tn,gi({bufferSize:1,refCount:!1})),I=m.pipe(X(T=>new A(ie=>({unsubscribe:o.runOutsideAngular(()=>T.onAuthStateChanged(he=>ie.next(he),he=>ie.error(he),()=>ie.complete()))})))),B=m.pipe(X(T=>new A(ie=>({unsubscribe:o.runOutsideAngular(()=>T.onIdTokenChanged(he=>ie.next(he),he=>ie.error(he),()=>ie.complete()))}))));this.authState=D.pipe(il(I),Et(s.outsideAngular),ut(s.insideAngular)),this.user=D.pipe(il(B),Et(s.outsideAngular),ut(s.insideAngular)),this.idToken=this.user.pipe(X(T=>T?te(T.getIdToken()):C(null))),this.idTokenResult=this.user.pipe(X(T=>T?te(T.getIdTokenResult()):C(null))),this.credential=pi(D,p,this.authState.pipe(me(T=>!T))).pipe(E(T=>T?.user?T:null),Et(s.outsideAngular),ut(s.insideAngular))}return CC(this,m,o,{spy:{apply:(D,I,B)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&B.then(T=>p.next(T))}}})}static \u0275fac=function(i){return new(i||e)(_(Du),_(bu,8),_(Pe),_(H),_(vu),_(Mg,8),_(Ng,8),_(Ag,8),_(Og,8),_(Rg,8),_(xg,8),_(ji,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var TC="@firebase/database",IC="1.0.8";var Wm="";function qm(e){Wm=e}var $g=class{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){t==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),_e(t))}get(n){let t=this.domStorage_.getItem(this.prefixedName_(n));return t==null?null:Ca(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}};var Hg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){t==null?delete this.cache_[n]:this.cache_[n]=t}get(n){return ct(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}};var iE=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new $g(n)}}catch{}return new Hg},$i=iE("localStorage"),Gg=iE("sessionStorage");var fo=new Yi("@firebase/database"),rE=function(){let e=1;return function(){return e++}}(),oE=function(e){let n=$_(e),t=new U_;t.update(n);let i=t.digest();return wa.encodeByteArray(i)},da=function(...e){let n="";for(let t=0;t<e.length;t++){let i=e[t];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=da.apply(null,i):typeof i=="object"?n+=_e(i):n+=i,n+=" "}return n},Hi=null,SC=!0,sE=function(e,n){v(!n||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(fo.logLevel=H_.VERBOSE,Hi=fo.log.bind(fo),n&&Gg.set("logging_enabled",!0)):typeof e=="function"?Hi=e:(Hi=null,Gg.remove("logging_enabled"))},Ae=function(...e){if(SC===!0&&(SC=!1,Hi===null&&Gg.get("logging_enabled")===!0&&sE(!0)),Hi){let n=da.apply(null,e);Hi(n)}},ha=function(e){return function(...n){Ae(e,...n)}},zg=function(...e){let n="FIREBASE INTERNAL ERROR: "+da(...e);fo.error(n)},Yt=function(...e){let n=`FIREBASE FATAL ERROR: ${da(...e)}`;throw fo.error(n),new Error(n)},Ve=function(...e){let n="FIREBASE WARNING: "+da(...e);fo.warn(n)},uP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Yu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},dP=function(e){if(Bt()||document.readyState==="complete")e();else{let n=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}n||(n=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},ii="[MIN_NAME]",In="[MAX_NAME]",zi=function(e,n){if(e===n)return 0;if(e===ii||n===In)return-1;if(n===ii||e===In)return 1;{let t=MC(e),i=MC(n);return t!==null?i!==null?t-i===0?e.length-n.length:t-i:-1:i!==null?1:e<n?-1:1}},hP=function(e,n){return e===n?0:e<n?-1:1},$s=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+_e(n))},Zm=function(e){if(typeof e!="object"||e===null)return _e(e);let n=[];for(let i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)i!==0&&(t+=","),t+=_e(n[i]),t+=":",t+=Zm(e[n[i]]);return t+="}",t},aE=function(e,n){let t=e.length;if(t<=n)return[e];let i=[];for(let r=0;r<t;r+=n)r+n>t?i.push(e.substring(r,t)):i.push(e.substring(r,r+n));return i};function Oe(e,n){for(let t in e)e.hasOwnProperty(t)&&n(t,e[t])}var lE=function(e){v(!Yu(e),"Invalid JSON number");let n=11,t=52,i=(1<<n-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,t-a)-Math.pow(2,t))):(o=0,s=Math.round(e/Math.pow(2,1-i-t))));let c=[];for(l=t;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},fP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},pP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gP(e,n){let t="Unknown Error";e==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?t="Client doesn't have permission to access the desired data.":e==="unavailable"&&(t="The service is unavailable");let i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}var mP=new RegExp("^-?(0*)\\d{1,10}$"),_P=-2147483648,vP=2147483647,MC=function(e){if(mP.test(e)){let n=Number(e);if(n>=_P&&n<=vP)return n}return null},wo=function(e){try{e()}catch(n){setTimeout(()=>{let t=n.stack||"";throw Ve("Exception was thrown by user callback.",t),n},Math.floor(0))}},yP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ws=function(e,n){let t=setTimeout(e,n);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var Wg=class{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var qg=class{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&t.code==="auth/token-not-initialized"?(Ae("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(n)}},qs=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Tu="5",cE="v",uE="s",dE="r",hE="f",fE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pE="ls",gE="p",Zg="ac",mE="websocket",_E="long_polling";var Iu=class{constructor(n,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){let n=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${t}`}};function DP(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function vE(e,n,t){v(typeof n=="string","typeof type must == string"),v(typeof t=="object","typeof params must == object");let i;if(n===mE)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(n===_E)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);DP(e)&&(t.ns=e.namespace);let r=[];return Oe(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Kg=class{constructor(){this.counters_={}}incrementCounter(n,t=1){ct(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return x_(this.counters_)}};var Fg={},Pg={};function Km(e){let n=e.toString();return Fg[n]||(Fg[n]=new Kg),Fg[n]}function bP(e,n){let t=e.toString();return Pg[t]||(Pg[t]=n()),Pg[t]}var Qg=class{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&wo(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var NC="start",wP="close",CP="pLPCommand",EP="pRTLPCB",yE="id",DE="pw",bE="ser",TP="cb",IP="seg",SP="ts",MP="d",NP="dframe",wE=1870,CE=30,AP=wE-CE,OP=25e3,RP=3e4,Ys=class e{constructor(n,t,i,r,o,s,a){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(n),this.stats_=Km(t),this.urlFn=l=>(this.appCheckToken&&(l[Zg]=this.appCheckToken),vE(t,_E,l))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qg(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RP)),dP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===NC)this.id=a,this.password=l;else if(s===wP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[NC]="t",i[bE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[TP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[cE]=Tu,this.transportSessionId&&(i[uE]=this.transportSessionId),this.lastSessionId&&(i[pE]=this.lastSessionId),this.applicationId&&(i[gE]=this.applicationId),this.appCheckToken&&(i[Zg]=this.appCheckToken),typeof location<"u"&&location.hostname&&fE.test(location.hostname)&&(i[dE]=hE);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Bt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fP()&&!pP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){let t=_e(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let i=R_(t),r=aE(i,AP);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if(Bt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[NP]="t",i[yE]=n,i[DE]=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){let t=_e(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Yg=class e{constructor(n,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Bt())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=rE(),window[CP+this.uniqueCallbackIdentifier]=n,window[EP+this.uniqueCallbackIdentifier]=t,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ae("frame writing exception"),a.stack&&Ae(a.stack),Ae(a)}}}static createIFrame_(){let n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Ae("No IE domain setting required")}catch{let i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let n={};n[yE]=this.myID,n[DE]=this.myPW,n[bE]=this.currentSerial;let t=this.urlFn(n),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+CE+i.length<=wE;){let s=this.pendingSegs.shift();i=i+"&"+IP+r+"="+s.seg+"&"+SP+r+"="+s.ts+"&"+MP+r+"="+s.d,r++}return t=t+i,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);let i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(OP)),o=()=>{clearTimeout(r),i()};this.addTag(n,o)}addTag(n,t){Bt()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ae("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var xP=16384,kP=45e3,Su=null;typeof MozWebSocket<"u"?Su=MozWebSocket:typeof WebSocket<"u"&&(Su=WebSocket);var uo=(()=>{class e{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=Km(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){let a={};return a[cE]=Tu,!Bt()&&typeof location<"u"&&location.hostname&&fE.test(location.hostname)&&(a[dE]=hE),i&&(a[uE]=i),r&&(a[pE]=r),o&&(a[Zg]=o),s&&(a[gE]=s),vE(t,mE,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let r;if(Bt()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Tu}/${Wm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Su(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Su!==null&&!e.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Ca(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(v(this.frames===null,"We already have a frame buffer"),t.length<=6){let i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();let i=_e(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=aE(i,xP);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kP))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),EE=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ys,uo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){let i=uo&&uo.isAvailable(),r=i&&!uo.previouslyFailed();if(t.webSocketOnly&&(i||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),FP=6e4,PP=5e3,LP=10*1024,VP=100*1024,Lg="t",AC="d",BP="s",OC="r",jP="e",RC="o",xC="a",kC="n",FC="p",UP="h",Jg=class{constructor(n,t,i,r,o,s,a,l,c,u){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new EE(t),this.log_("Connection created"),this.start_()}start_(){let n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));let r=n.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ws(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){let t={t:"d",d:n};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Lg in n){let t=n[Lg];t===xC?this.upgradeIfSecondaryHealthy_():t===OC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===RC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){let t=$s("t",n),i=$s("d",n);if(t==="c")this.onSecondaryControl_(i);else if(t==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:kC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){let t=$s("t",n),i=$s("d",n);t==="c"?this.onControl_(i):t==="d"&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){let t=$s(Lg,n);if(AC in n){let i=n[AC];if(t===UP){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(t===kC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===BP?this.onConnectionShutdown_(i):t===OC?this.onReset_(i):t===jP?zg("Server Error: "+i):t===RC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zg("Unknown control packet command: "+t)}}onHandshake_(n){let t=n.ts,i=n.v,r=n.h;this.sessionId=n.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Tu!==i&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Ws(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FP))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ws(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FC,d:{}}}))}onSecondaryConnectionLost_(){let n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Mu=class{put(n,t,i,r){}merge(n,t,i,r){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}};var Nu=class{constructor(n){this.allowedEvents_=n,this.listeners_={},v(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){let i=[...this.listeners_[n]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});let r=this.getInitialEvent(n);r&&t.apply(i,r)}off(n,t,i){this.validateEventType_(n);let r=this.listeners_[n]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(n){v(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}};var Au=class e extends Nu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(n){return v(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}};var PC=32,LC=768,J=class{constructor(n,t){if(t===void 0){this.pieces_=n.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(n+="/"+this.pieces_[t]);return n||"/"}};function Y(){return new J("")}function G(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ri(e){return e.pieces_.length-e.pieceNum_}function se(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new J(e.pieces_,n)}function Qm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function $P(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)e.pieces_[t]!==""&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}function Js(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function TE(e){if(e.pieceNum_>=e.pieces_.length)return null;let n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new J(n,0)}function ce(e,n){let t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof J)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{let i=n.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new J(t,0)}function z(e){return e.pieceNum_>=e.pieces_.length}function Ge(e,n){let t=G(e),i=G(n);if(t===null)return n;if(t===i)return Ge(se(e),se(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function HP(e,n){let t=Js(e,0),i=Js(n,0);for(let r=0;r<t.length&&r<i.length;r++){let o=zi(t[r],i[r]);if(o!==0)return o}return t.length===i.length?0:t.length<i.length?-1:1}function Ym(e,n){if(ri(e)!==ri(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function yt(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(ri(e)>ri(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}var Xg=class{constructor(n,t){this.errorPrefix_=t,this.parts_=Js(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Mo(this.parts_[i]);IE(this)}};function GP(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=Mo(n),IE(e)}function zP(e){let n=e.parts_.pop();e.byteLength_-=Mo(n),e.parts_.length>0&&(e.byteLength_-=1)}function IE(e){if(e.byteLength_>LC)throw new Error(e.errorPrefix_+"has a key path longer than "+LC+" bytes ("+e.byteLength_+").");if(e.parts_.length>PC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PC+") or object contains a cycle "+Ui(e))}function Ui(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var em=class e extends Nu{constructor(){super(["visible"]);let n,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(n){return v(n==="visible","Unknown event type: "+n),[this.visible_]}};var Hs=1e3,WP=60*5*1e3,VC=30*1e3,qP=1.3,ZP=3e4,KP="server_kill",BC=3,Jm=(()=>{class e extends Mu{constructor(t,i,r,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=WP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Bt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");em.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Au.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){let o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(_e(s)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();let i=new Te,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(t,i,r,o){this.initConnection_();let s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){let i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&ct(t,"w")){let r=Mn(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||B_(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=VC)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,i=V_(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let i=t.s,r=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){let r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),v(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);let s={p:t},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(t){let i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){let i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+_e(t));let i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):zg("Unrecognized action received from server: "+_e(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZP&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qP)}this.onConnectStatus_(!1)}establishConnection_(){return qe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){v(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ae("getToken() completed but was canceled"):(Ae("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Jg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,r,p=>{Ve(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(KP)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ve(h),c())}}})}interrupt(t){Ae("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ae("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ea(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;i?r=i.map(s=>Zm(s)).join("$"):r="default";let o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){let r=new J(t).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){Ae("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BC&&(this.reconnectDelay_=VC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ae("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},i="js";Bt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),t["sdk."+i+"."+Wm.replace(/\./g,"-")]=1,vd()?t["framework.cordova"]=1:F_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=Au.getInstance().currentlyOnline();return Ea(this.interruptReasons_)&&t}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),W=class e{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new e(n,t)}};var po=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){let i=new W(ii,n),r=new W(ii,t);return this.compare(i,r)!==0}minPost(){return W.MIN}};var Eu,Ou=class extends po{static get __EMPTY_NODE(){return Eu}static set __EMPTY_NODE(n){Eu=n}compare(n,t){return zi(n.name,t.name)}isDefinedOn(n){throw Qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return W.MIN}maxPost(){return new W(In,Eu)}makePost(n,t){return v(typeof n=="string","KeyIndex indexValue must always be a string."),new W(n,Eu)}toString(){return".key"}},Qt=new Ou;var ho=class{constructor(n,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!n.isEmpty();)if(n=n,s=t?i(n.key,t):1,r&&(s*=-1),s<0)this.isReverse_?n=n.left:n=n.right;else if(s===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(n.key,n.value):t={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}},Lt=(()=>{class e{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??e.RED,this.left=o??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(t,i,r,o,s){return new e(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this,s=r(t,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(t,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(t,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),tm=class{copy(n,t,i,r,o){return this}insert(n,t,i){return new Lt(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dt=class e{constructor(n,t=e.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new e(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,Lt.BLACK,null,null))}remove(n){return new e(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Lt.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,r=null;for(;!i.isEmpty();)if(t=this.comparator_(n,i.key),t===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else t<0?i=i.left:t>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ho(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new ho(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new ho(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new ho(this.root_,null,this.comparator_,!0,n)}};Dt.EMPTY_NODE=new tm;function QP(e,n){return zi(e.name,n.name)}function Xm(e,n){return zi(e,n)}var nm;function YP(e){nm=e}var SE=function(e){return typeof e=="number"?"number:"+lE(e):"string:"+e},ME=function(e){if(e.isLeafNode()){let n=e.val();v(typeof n=="string"||typeof n=="number"||typeof n=="object"&&ct(n,".sv"),"Priority must be a string or number.")}else v(e===nm||e.isEmpty(),"priority of unexpected type.");v(e===nm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var jC,go=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ME(this.priorityNode_)}static set __childrenNodeConstructor(t){jC=t}static get __childrenNodeConstructor(){return jC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return z(t)?this:G(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){let r=G(t);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||ri(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+SE(this.priorityNode_.val())+":");let i=typeof this.value_;t+=i+":",i==="number"?t+=lE(this.value_):t+=this.value_,this.lazyHash_=oE(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(v(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let i=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return v(o>=0,"Unknown leaf type: "+i),v(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),NE,AE;function JP(e){NE=e}function XP(e){AE=e}var im=class extends po{compare(n,t){let i=n.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return o===0?zi(n.name,t.name):o}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return W.MIN}maxPost(){return new W(In,new go("[PRIORITY-POST]",AE))}makePost(n,t){let i=NE(n);return new W(t,new go("[PRIORITY-POST]",i))}toString(){return".priority"}},ae=new im;var eL=Math.log(2),rm=class{constructor(n){let t=o=>parseInt(Math.log(o)/eL,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=t(n+1),this.current_=this.count-1;let r=i(this.count);this.bits_=n+1&r}nextBitIsOne(){let n=!(this.bits_&1<<this.current_);return this.current_--,n}},Ru=function(e,n,t,i){e.sort(n);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=t?t(d):d,new Lt(h,d.node,Lt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=e[f],h=t?t(d):d,new Lt(h,d.node,Lt.BLACK,p,m)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,m){let D=d-p,I=d;d-=p;let B=r(D+1,I),T=e[D],ie=t?t(T):T;f(new Lt(ie,T.node,m,null,B))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),D=Math.pow(2,l.count-(p+1));m?h(D,Lt.BLACK):(h(D,Lt.BLACK),h(D,Lt.RED))}return u},s=new rm(e.length),a=o(s);return new Dt(i||n,a)};var Vg,co={},mo=class e{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return v(co&&ae,"ChildrenNode.ts has not been loaded"),Vg=Vg||new e({".priority":co},{".priority":ae}),Vg}get(n){let t=Mn(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof Dt?t:null}hasIndex(n){return ct(this.indexSet_,n.toString())}addIndex(n,t){v(n!==Qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=t.getIterator(W.Wrap),s=o.getNext();for(;s;)r=r||n.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Ru(i,n.getCompare()):a=co;let l=n.toString(),c=Object.assign({},this.indexSet_);c[l]=n;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(n,t){let i=So(this.indexes_,(r,o)=>{let s=Mn(this.indexSet_,o);if(v(s,"Missing index implementation for "+o),r===co)if(s.isDefinedOn(n.node)){let a=[],l=t.getIterator(W.Wrap),c=l.getNext();for(;c;)c.name!==n.name&&a.push(c),c=l.getNext();return a.push(n),Ru(a,s.getCompare())}else return co;else{let a=t.get(n.name),l=r;return a&&(l=l.remove(new W(n.name,a))),l.insert(n,n.node)}});return new e(i,this.indexSet_)}removeFromIndexes(n,t){let i=So(this.indexes_,r=>{if(r===co)return r;{let o=t.get(n.name);return o?r.remove(new W(n.name,o)):r}});return new e(i,this.indexSet_)}};var Gs,x=(()=>{class e{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ME(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gs||(Gs=new e(new Dt(Xm),null,mo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gs}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let i=this.children_.get(t);return i===null?Gs:i}}getChild(t){let i=G(t);return i===null?this:this.getImmediateChild(i).getChild(se(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(v(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{let r=new W(t,i),o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Gs:this.priorityNode_;return new e(o,a,s)}}updateChild(t,i){let r=G(t);if(r===null)return i;{v(G(t)!==".priority"||ri(t)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(se(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(ae,(a,l)=>{i[a]=l.val(t),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+SE(this.getPriority().val())+":"),this.forEachChild(ae,(i,r)=>{let o=r.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":oE(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new W(t,i));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){let i=this.getFirstChildName(t);return i?new W(i,this.children_.get(i)):null}getLastChildName(t){let i=this.resolveIndex_(t);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){let i=this.getLastChildName(t);return i?new W(i,this.children_.get(i)):null}forEachChild(t,i){let r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{let o=this.children_.getIteratorFrom(t.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{let o=this.children_.getReverseIteratorFrom(t.name,W.Wrap),s=o.peek();for(;s!=null&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fa?-1:0}withIndex(t){if(t===Qt||this.indexMap_.hasIndex(t))return this;{let i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Qt||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ae),o=i.getIterator(ae),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Qt?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),om=class extends x{constructor(){super(new Dt(Xm),x.EMPTY_NODE,mo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return x.EMPTY_NODE}isEmpty(){return!1}},fa=new om;Object.defineProperties(W,{MIN:{value:new W(ii,x.EMPTY_NODE)},MAX:{value:new W(In,fa)}});Ou.__EMPTY_NODE=x.EMPTY_NODE;go.__childrenNodeConstructor=x;YP(fa);XP(fa);var tL=!0;function de(e,n=null){if(e===null)return x.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(n=e[".priority"]),v(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let t=e;return new go(t,de(n))}if(!(e instanceof Array)&&tL){let t=[],i=!1;if(Oe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=de(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new W(s,l)))}}),t.length===0)return x.EMPTY_NODE;let o=Ru(t,QP,s=>s.name,Xm);if(i){let s=Ru(t,ae.getCompare());return new x(o,de(n),new mo({".priority":s},{".priority":ae}))}else return new x(o,de(n),mo.Default)}else{let t=x.EMPTY_NODE;return Oe(e,(i,r)=>{if(ct(e,i)&&i.substring(0,1)!=="."){let o=de(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(de(n))}}JP(de);var Xs=class extends po{constructor(n){super(),this.indexPath_=n,v(!z(n)&&G(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){let i=this.extractChild(n.node),r=this.extractChild(t.node),o=i.compareTo(r);return o===0?zi(n.name,t.name):o}makePost(n,t){let i=de(n),r=x.EMPTY_NODE.updateChild(this.indexPath_,i);return new W(t,r)}maxPost(){let n=x.EMPTY_NODE.updateChild(this.indexPath_,fa);return new W(In,n)}toString(){return Js(this.indexPath_,0).join("/")}};var sm=class extends po{compare(n,t){let i=n.node.compareTo(t.node);return i===0?zi(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(n,t){let i=de(n);return new W(t,i)}toString(){return".value"}},e_=new sm;function OE(e){return{type:"value",snapshotNode:e}}function _o(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function ea(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function ta(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}function nL(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}var na=class{constructor(n){this.index_=n}updateChild(n,t,i,r,o,s){v(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=n.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?n.hasChild(t)?s.trackChildChange(ea(t,a)):v(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_o(t,i)):s.trackChildChange(ta(t,i,a))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return i!=null&&(n.isLeafNode()||n.forEachChild(ae,(r,o)=>{t.hasChild(r)||i.trackChildChange(ea(r,o))}),t.isLeafNode()||t.forEachChild(ae,(r,o)=>{if(n.hasChild(r)){let s=n.getImmediateChild(r);s.equals(o)||i.trackChildChange(ta(r,o,s))}else i.trackChildChange(_o(r,o))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?x.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var xu=class e{constructor(n){this.indexedFilter_=new na(n.getIndex()),this.index_=n.getIndex(),this.startPost_=e.getStartPost_(n),this.endPost_=e.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,r,o,s){return this.matches(new W(t,i))||(i=x.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,r,o,s)}updateFullNode(n,t,i){t.isLeafNode()&&(t=x.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(x.EMPTY_NODE);let o=this;return t.forEachChild(ae,(s,a)=>{o.matches(new W(s,a))||(r=r.updateImmediateChild(s,x.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){let t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){let t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}else return n.getIndex().maxPost()}};var am=class{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{let i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new xu(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,r,o,s){return this.rangedFilter_.matches(new W(t,i))||(i=x.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,r,o,s):this.fullLimitUpdateChild_(n,t,i,o,s)}updateFullNode(n,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=x.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){r=x.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=t.withIndex(this.index_),r=r.updatePriority(x.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,x.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,r,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=n;v(a.numChildren()===this.limit_,"");let l=new W(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){let d=a.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===t||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(ta(t,i,d)),a.updateImmediateChild(t,i);{o?.trackChildChange(ea(t,d));let m=a.updateImmediateChild(t,x.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(_o(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?n:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(ea(c.name,c.node)),o.trackChildChange(_o(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,x.EMPTY_NODE)):n}};var ia=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ii}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:In}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){let n=new e;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}};function iL(e){return e.loadsAllData()?new na(e.getIndex()):e.hasLimit()?new am(e):new xu(e)}function rL(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}function oL(e,n){let t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}function lm(e,n,t){let i=e.copy();return i.startSet_=!0,n===void 0&&(n=null),i.indexStartValue_=n,t!=null?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function sL(e,n,t){let i;return e.index_===Qt||t?i=lm(e,n,t):i=lm(e,n,In),i.startAfterSet_=!0,i}function cm(e,n,t){let i=e.copy();return i.endSet_=!0,n===void 0&&(n=null),i.indexEndValue_=n,t!==void 0?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function aL(e,n,t){let i;return e.index_===Qt||t?i=cm(e,n,t):i=cm(e,n,ii),i.endBeforeSet_=!0,i}function Ju(e,n){let t=e.copy();return t.index_=n,t}function UC(e){let n={};if(e.isDefault())return n;let t;if(e.index_===ae?t="$priority":e.index_===e_?t="$value":e.index_===Qt?t="$key":(v(e.index_ instanceof Xs,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=_e(t),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";n[i]=_e(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+_e(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";n[i]=_e(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+_e(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function $C(e){let n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;t===""&&(e.isViewFromLeft()?t="l":t="r"),n.vf=t}return e.index_!==ae&&(n.i=e.index_.toString()),n}var um=class e extends Mu{constructor(n,t,i,r){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ha("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return t!==void 0?"tag$"+t:(v(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,r){let o=n._path.toString();this.log_("Listen called for "+o+" "+n._queryIdentifier);let s=e.getListenId_(n,i),a={};this.listens_[s]=a;let l=UC(n._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Mn(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(n,t){let i=e.getListenId_(n,t);delete this.listens_[i]}get(n){let t=UC(n._queryParams),i=n._path.toString(),r=new Te;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+j_(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ca(a.responseText)}catch{Ve("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ve("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var dm=class{constructor(){this.rootNode_=x.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}};function ku(){return{value:null,children:new Map}}function Co(e,n,t){if(z(n))e.value=t,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(n,t);else{let i=G(n);e.children.has(i)||e.children.set(i,ku());let r=e.children.get(i);n=se(n),Co(r,n,t)}}function hm(e,n){if(z(n))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let t=e.value;return e.value=null,t.forEachChild(ae,(i,r)=>{Co(e,new J(i),r)}),hm(e,n)}}else if(e.children.size>0){let t=G(n);return n=se(n),e.children.has(t)&&hm(e.children.get(t),n)&&e.children.delete(t),e.children.size===0}else return!0}function fm(e,n,t){e.value!==null?t(n,e.value):lL(e,(i,r)=>{let o=new J(n.toString()+"/"+i);fm(r,o,t)})}function lL(e,n){e.children.forEach((t,i)=>{n(i,t)})}var pm=class{constructor(n){this.collection_=n,this.last_=null}get(){let n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Oe(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=n,t}};var HC=10*1e3,cL=30*1e3,uL=5*60*1e3,gm=class{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new pm(n);let i=HC+(cL-HC)*Math.random();Ws(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let n=this.statsListener_.get(),t={},i=!1;Oe(n,(r,o)=>{o>0&&ct(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Ws(this.reportStats_.bind(this),Math.floor(Math.random()*2*uL))}};var Kt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Kt||{});function t_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function n_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function i_(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var mm=class e{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=Kt.ACK_USER_WRITE,this.source=t_()}operationForChild(n){if(z(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new J(n));return new e(Y(),t,this.revert)}}else return v(G(this.path)===n,"operationForChild called for unrelated child."),new e(se(this.path),this.affectedTree,this.revert)}};var Fu=class e{constructor(n,t){this.source=n,this.path=t,this.type=Kt.LISTEN_COMPLETE}operationForChild(n){return z(this.path)?new e(this.source,Y()):new e(this.source,se(this.path))}};var vo=class e{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=Kt.OVERWRITE}operationForChild(n){return z(this.path)?new e(this.source,Y(),this.snap.getImmediateChild(n)):new e(this.source,se(this.path),this.snap)}};var ra=class e{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=Kt.MERGE}operationForChild(n){if(z(this.path)){let t=this.children.subtree(new J(n));return t.isEmpty()?null:t.value?new vo(this.source,Y(),t.value):new e(this.source,Y(),t)}else return v(G(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new e(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Jt=class{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(z(n))return this.isFullyInitialized()&&!this.filtered_;let t=G(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}};var _m=class{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}};function dL(e,n,t,i){let r=[],o=[];return n.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(nL(s.childName,s.snapshotNode))}),zs(e,r,"child_removed",n,i,t),zs(e,r,"child_added",n,i,t),zs(e,r,"child_moved",o,i,t),zs(e,r,"child_changed",n,i,t),zs(e,r,"value",n,i,t),r}function zs(e,n,t,i,r,o){let s=i.filter(a=>a.type===t);s.sort((a,l)=>fL(e,a,l)),s.forEach(a=>{let l=hL(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&n.push(c.createEvent(l,e.query_))})})}function hL(e,n,t){return n.type==="value"||n.type==="child_removed"||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}function fL(e,n,t){if(n.childName==null||t.childName==null)throw Qi("Should only compare child_ events.");let i=new W(n.childName,n.snapshotNode),r=new W(t.childName,t.snapshotNode);return e.index_.compare(i,r)}function Xu(e,n){return{eventCache:e,serverCache:n}}function Zs(e,n,t,i){return Xu(new Jt(n,t,i),e.serverCache)}function RE(e,n,t,i){return Xu(e.eventCache,new Jt(n,t,i))}function Pu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Bg,pL=()=>(Bg||(Bg=new Dt(hP)),Bg),ze=class e{constructor(n,t=pL()){this.value=n,this.children=t}static fromObject(n){let t=new e(null);return Oe(n,(i,r)=>{t=t.set(new J(i),r)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(this.value!=null&&t(this.value))return{path:Y(),value:this.value};if(z(n))return null;{let i=G(n),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(se(n),t);return o!=null?{path:ce(new J(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(z(n))return this;{let t=G(n),i=this.children.get(t);return i!==null?i.subtree(se(n)):new e(null)}}set(n,t){if(z(n))return new e(t,this.children);{let i=G(n),o=(this.children.get(i)||new e(null)).set(se(n),t),s=this.children.insert(i,o);return new e(this.value,s)}}remove(n){if(z(n))return this.children.isEmpty()?new e(null):new e(null,this.children);{let t=G(n),i=this.children.get(t);if(i){let r=i.remove(se(n)),o;return r.isEmpty()?o=this.children.remove(t):o=this.children.insert(t,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(n){if(z(n))return this.value;{let t=G(n),i=this.children.get(t);return i?i.get(se(n)):null}}setTree(n,t){if(z(n))return t;{let i=G(n),o=(this.children.get(i)||new e(null)).setTree(se(n),t),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(n){return this.fold_(Y(),n)}fold_(n,t){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(ce(n,r),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,Y(),t)}findOnPath_(n,t,i){let r=this.value?i(t,this.value):!1;if(r)return r;if(z(n))return null;{let o=G(n),s=this.children.get(o);return s?s.findOnPath_(se(n),ce(t,o),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,Y(),t)}foreachOnPath_(n,t,i){if(z(n))return this;{this.value&&i(t,this.value);let r=G(n),o=this.children.get(r);return o?o.foreachOnPath_(se(n),ce(t,r),i):new e(null)}}foreach(n){this.foreach_(Y(),n)}foreach_(n,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ce(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}};var Vt=class e{constructor(n){this.writeTree_=n}static empty(){return new e(new ze(null))}};function Ks(e,n,t){if(z(n))return new Vt(new ze(t));{let i=e.writeTree_.findRootMostValueAndPath(n);if(i!=null){let r=i.path,o=i.value,s=Ge(r,n);return o=o.updateChild(s,t),new Vt(e.writeTree_.set(r,o))}else{let r=new ze(t),o=e.writeTree_.setTree(n,r);return new Vt(o)}}}function vm(e,n,t){let i=e;return Oe(t,(r,o)=>{i=Ks(i,ce(n,r),o)}),i}function GC(e,n){if(z(n))return Vt.empty();{let t=e.writeTree_.setTree(n,new ze(null));return new Vt(t)}}function ym(e,n){return Wi(e,n)!=null}function Wi(e,n){let t=e.writeTree_.findRootMostValueAndPath(n);return t!=null?e.writeTree_.get(t.path).getChild(Ge(t.path,n)):null}function zC(e){let n=[],t=e.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(ae,(i,r)=>{n.push(new W(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&n.push(new W(i,r.value))}),n}function ti(e,n){if(z(n))return e;{let t=Wi(e,n);return t!=null?new Vt(new ze(t)):new Vt(e.writeTree_.subtree(n))}}function Dm(e){return e.writeTree_.isEmpty()}function yo(e,n){return xE(Y(),e.writeTree_,n)}function xE(e,n,t){if(n.value!=null)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((r,o)=>{r===".priority"?(v(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):t=xE(ce(e,r),o,t)}),!t.getChild(e).isEmpty()&&i!==null&&(t=t.updateChild(ce(e,".priority"),i)),t}}function ed(e,n){return LE(n,e)}function gL(e,n,t,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:r}),r&&(e.visibleWrites=Ks(e.visibleWrites,n,t)),e.lastWriteId=i}function mL(e,n,t,i){v(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=vm(e.visibleWrites,n,t),e.lastWriteId=i}function _L(e,n){for(let t=0;t<e.allWrites.length;t++){let i=e.allWrites[t];if(i.writeId===n)return i}return null}function vL(e,n){let t=e.allWrites.findIndex(a=>a.writeId===n);v(t>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[t];e.allWrites.splice(t,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=t&&yL(a,i.path)?r=!1:yt(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return DL(e),!0;if(i.snap)e.visibleWrites=GC(e.visibleWrites,i.path);else{let a=i.children;Oe(a,l=>{e.visibleWrites=GC(e.visibleWrites,ce(i.path,l))})}return!0}else return!1}function yL(e,n){if(e.snap)return yt(e.path,n);for(let t in e.children)if(e.children.hasOwnProperty(t)&&yt(ce(e.path,t),n))return!0;return!1}function DL(e){e.visibleWrites=kE(e.allWrites,bL,Y()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function bL(e){return e.visible}function kE(e,n,t){let i=Vt.empty();for(let r=0;r<e.length;++r){let o=e[r];if(n(o)){let s=o.path,a;if(o.snap)yt(t,s)?(a=Ge(t,s),i=Ks(i,a,o.snap)):yt(s,t)&&(a=Ge(s,t),i=Ks(i,Y(),o.snap.getChild(a)));else if(o.children){if(yt(t,s))a=Ge(t,s),i=vm(i,a,o.children);else if(yt(s,t))if(a=Ge(s,t),z(a))i=vm(i,Y(),o.children);else{let l=Mn(o.children,G(a));if(l){let c=l.getChild(se(a));i=Ks(i,Y(),c)}}}else throw Qi("WriteRecord should have .snap or .children")}}return i}function FE(e,n,t,i,r){if(!i&&!r){let o=Wi(e.visibleWrites,n);if(o!=null)return o;{let s=ti(e.visibleWrites,n);if(Dm(s))return t;if(t==null&&!ym(s,Y()))return null;{let a=t||x.EMPTY_NODE;return yo(s,a)}}}else{let o=ti(e.visibleWrites,n);if(!r&&Dm(o))return t;if(!r&&t==null&&!ym(o,Y()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(yt(c.path,n)||yt(n,c.path))},a=kE(e.allWrites,s,n),l=t||x.EMPTY_NODE;return yo(a,l)}}}function wL(e,n,t){let i=x.EMPTY_NODE,r=Wi(e.visibleWrites,n);if(r)return r.isLeafNode()||r.forEachChild(ae,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){let o=ti(e.visibleWrites,n);return t.forEachChild(ae,(s,a)=>{let l=yo(ti(o,new J(s)),a);i=i.updateImmediateChild(s,l)}),zC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=ti(e.visibleWrites,n);return zC(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function CL(e,n,t,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=ce(n,t);if(ym(e.visibleWrites,o))return null;{let s=ti(e.visibleWrites,o);return Dm(s)?r.getChild(t):yo(s,r.getChild(t))}}function EL(e,n,t,i){let r=ce(n,t),o=Wi(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(t)){let s=ti(e.visibleWrites,r);return yo(s,i.getNode().getImmediateChild(t))}else return null}function TL(e,n){return Wi(e.visibleWrites,n)}function IL(e,n,t,i,r,o,s){let a,l=ti(e.visibleWrites,n),c=Wi(l,Y());if(c!=null)a=c;else if(t!=null)a=yo(l,t);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function SL(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Lu(e,n,t,i){return FE(e.writeTree,e.treePath,n,t,i)}function r_(e,n){return wL(e.writeTree,e.treePath,n)}function WC(e,n,t,i){return CL(e.writeTree,e.treePath,n,t,i)}function Vu(e,n){return TL(e.writeTree,ce(e.treePath,n))}function ML(e,n,t,i,r,o){return IL(e.writeTree,e.treePath,n,t,i,r,o)}function o_(e,n,t){return EL(e.writeTree,e.treePath,n,t)}function PE(e,n){return LE(ce(e.treePath,n),e.writeTree)}function LE(e,n){return{treePath:e,writeTree:n}}var bm=class{constructor(){this.changeMap=new Map}trackChildChange(n){let t=n.type,i=n.childName;v(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(t==="child_added"&&o==="child_removed")this.changeMap.set(i,ta(i,n.snapshotNode,r.snapshotNode));else if(t==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(t==="child_removed"&&o==="child_changed")this.changeMap.set(i,ea(i,r.oldSnap));else if(t==="child_changed"&&o==="child_added")this.changeMap.set(i,_o(i,n.snapshotNode));else if(t==="child_changed"&&o==="child_changed")this.changeMap.set(i,ta(i,n.snapshotNode,r.oldSnap));else throw Qi("Illegal combination of changes: "+n+" occurred after "+r)}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}};var wm=class{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}},VE=new wm,oa=class{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{let i=this.optCompleteServerCache_!=null?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return o_(this.writes_,n,i)}}getChildAfterChild(n,t,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),o=ML(this.writes_,r,t,1,i,n);return o.length===0?null:o[0]}};function NL(e){return{filter:e}}function AL(e,n){v(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function OL(e,n,t,i,r){let o=new bm,s,a;if(t.type===Kt.OVERWRITE){let c=t;c.source.fromUser?s=Cm(e,n,c.path,c.snap,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered()&&!z(c.path),s=Bu(e,n,c.path,c.snap,i,r,a,o))}else if(t.type===Kt.MERGE){let c=t;c.source.fromUser?s=xL(e,n,c.path,c.children,i,r,o):(v(c.source.fromServer,"Unknown source."),a=c.source.tagged||n.serverCache.isFiltered(),s=Em(e,n,c.path,c.children,i,r,a,o))}else if(t.type===Kt.ACK_USER_WRITE){let c=t;c.revert?s=PL(e,n,c.path,i,r,o):s=kL(e,n,c.path,c.affectedTree,i,r,o)}else if(t.type===Kt.LISTEN_COMPLETE)s=FL(e,n,t.path,i,o);else throw Qi("Unknown operation type: "+t.type);let l=o.getChanges();return RL(n,s,l),{viewCache:s,changes:l}}function RL(e,n,t){let i=n.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Pu(e);(t.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(OE(Pu(n)))}}function BE(e,n,t,i,r,o){let s=n.eventCache;if(Vu(i,t)!=null)return n;{let a,l;if(z(t))if(v(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){let c=Gi(n),u=c instanceof x?c:x.EMPTY_NODE,d=r_(i,u);a=e.filter.updateFullNode(n.eventCache.getNode(),d,o)}else{let c=Lu(i,Gi(n));a=e.filter.updateFullNode(n.eventCache.getNode(),c,o)}else{let c=G(t);if(c===".priority"){v(ri(t)===1,"Can't have a priority with additional path components");let u=s.getNode();l=n.serverCache.getNode();let d=WC(i,t,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(t),d;if(s.isCompleteForChild(c)){l=n.serverCache.getNode();let h=WC(i,t,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=o_(i,c,n.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Zs(n,a,s.isFullyInitialized()||z(t),e.filter.filtersNodes())}}function Bu(e,n,t,i,r,o,s,a){let l=n.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(z(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=G(t);if(!l.isCompleteForPath(t)&&ri(t)>1)return n;let p=se(t),D=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),D):c=u.updateChild(l.getNode(),f,D,p,VE,null)}let d=RE(n,c,l.isFullyInitialized()||z(t),u.filtersNodes()),h=new oa(r,d,o);return BE(e,d,t,r,h,a)}function Cm(e,n,t,i,r,o,s){let a=n.eventCache,l,c,u=new oa(r,n,o);if(z(t))c=e.filter.updateFullNode(n.eventCache.getNode(),i,s),l=Zs(n,c,!0,e.filter.filtersNodes());else{let d=G(t);if(d===".priority")c=e.filter.updatePriority(n.eventCache.getNode(),i),l=Zs(n,c,a.isFullyInitialized(),a.isFiltered());else{let h=se(t),f=a.getNode().getImmediateChild(d),p;if(z(h))p=i;else{let m=u.getCompleteChild(d);m!=null?Qm(h)===".priority"&&m.getChild(TE(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=x.EMPTY_NODE}if(f.equals(p))l=n;else{let m=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=Zs(n,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function qC(e,n){return e.eventCache.isCompleteForChild(n)}function xL(e,n,t,i,r,o,s){let a=n;return i.foreach((l,c)=>{let u=ce(t,l);qC(n,G(u))&&(a=Cm(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=ce(t,l);qC(n,G(u))||(a=Cm(e,a,u,c,r,o,s))}),a}function ZC(e,n,t){return t.foreach((i,r)=>{n=n.updateChild(i,r)}),n}function Em(e,n,t,i,r,o,s,a){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let l=n,c;z(t)?c=i:c=new ze(null).setTree(t,i);let u=n.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=n.serverCache.getNode().getImmediateChild(d),p=ZC(e,f,h);l=Bu(e,l,new J(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!n.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=n.serverCache.getNode().getImmediateChild(d),m=ZC(e,p,h);l=Bu(e,l,new J(d),m,r,o,s,a)}}),l}function kL(e,n,t,i,r,o,s){if(Vu(r,t)!=null)return n;let a=n.serverCache.isFiltered(),l=n.serverCache;if(i.value!=null){if(z(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Bu(e,n,t,l.getNode().getChild(t),r,o,a,s);if(z(t)){let c=new ze(null);return l.getNode().forEachChild(Qt,(u,d)=>{c=c.set(new J(u),d)}),Em(e,n,t,c,r,o,a,s)}else return n}else{let c=new ze(null);return i.foreach((u,d)=>{let h=ce(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Em(e,n,t,c,r,o,a,s)}}function FL(e,n,t,i,r){let o=n.serverCache,s=RE(n,o.getNode(),o.isFullyInitialized()||z(t),o.isFiltered());return BE(e,s,t,i,VE,r)}function PL(e,n,t,i,r,o){let s;if(Vu(i,t)!=null)return n;{let a=new oa(i,n,r),l=n.eventCache.getNode(),c;if(z(t)||G(t)===".priority"){let u;if(n.serverCache.isFullyInitialized())u=Lu(i,Gi(n));else{let d=n.serverCache.getNode();v(d instanceof x,"serverChildren would be complete if leaf node"),u=r_(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=G(t),d=o_(i,u,n.serverCache);d==null&&n.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,se(t),a,o):n.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,x.EMPTY_NODE,se(t),a,o):c=l,c.isEmpty()&&n.serverCache.isFullyInitialized()&&(s=Lu(i,Gi(n)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=n.serverCache.isFullyInitialized()||Vu(i,Y())!=null,Zs(n,c,s,e.filter.filtersNodes())}}var Tm=class{constructor(n,t){this.query_=n,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new na(i.getIndex()),o=iL(i);this.processor_=NL(o);let s=t.serverCache,a=t.eventCache,l=r.updateFullNode(x.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(x.EMPTY_NODE,a.getNode(),null),u=new Jt(l,s.isFullyInitialized(),r.filtersNodes()),d=new Jt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xu(d,u),this.eventGenerator_=new _m(this.query_)}get query(){return this.query_}};function LL(e){return e.viewCache_.serverCache.getNode()}function VL(e){return Pu(e.viewCache_)}function BL(e,n){let t=Gi(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!z(n)&&!t.getImmediateChild(G(n)).isEmpty())?t.getChild(n):null}function KC(e){return e.eventRegistrations_.length===0}function jL(e,n){e.eventRegistrations_.push(n)}function QC(e,n,t){let i=[];if(t){v(n==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(t,r);s&&i.push(s)})}if(n){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(n))r.push(s);else if(n.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function YC(e,n,t,i){n.type===Kt.MERGE&&n.source.queryId!==null&&(v(Gi(e.viewCache_),"We should always have a full cache before handling merges"),v(Pu(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=OL(e.processor_,r,n,t,i);return AL(e.processor_,o.viewCache),v(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,jE(e,o.changes,o.viewCache.eventCache.getNode(),null)}function UL(e,n){let t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(ae,(o,s)=>{i.push(_o(o,s))}),t.isFullyInitialized()&&i.push(OE(t.getNode())),jE(e,i,t.getNode(),n)}function jE(e,n,t,i){let r=i?[i]:e.eventRegistrations_;return dL(e.eventGenerator_,n,t,r)}var ju,Uu=class{constructor(){this.views=new Map}};function $L(e){v(!ju,"__referenceConstructor has already been defined"),ju=e}function HL(){return v(ju,"Reference.ts has not been loaded"),ju}function GL(e){return e.views.size===0}function s_(e,n,t,i){let r=n.source.queryId;if(r!==null){let o=e.views.get(r);return v(o!=null,"SyncTree gave us an op for an invalid query."),YC(o,n,t,i)}else{let o=[];for(let s of e.views.values())o=o.concat(YC(s,n,t,i));return o}}function UE(e,n,t,i,r){let o=n._queryIdentifier,s=e.views.get(o);if(!s){let a=Lu(t,r?i:null),l=!1;a?l=!0:i instanceof x?(a=r_(t,i),l=!1):(a=x.EMPTY_NODE,l=!1);let c=Xu(new Jt(a,l,!1),new Jt(i,r,!1));return new Tm(n,c)}return s}function zL(e,n,t,i,r,o){let s=UE(e,n,i,r,o);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,s),jL(s,t),UL(s,t)}function WL(e,n,t,i){let r=n._queryIdentifier,o=[],s=[],a=oi(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(QC(c,t,i)),KC(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(QC(l,t,i)),KC(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!oi(e)&&o.push(new(HL())(n._repo,n._path)),{removed:o,events:s}}function $E(e){let n=[];for(let t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function ni(e,n){let t=null;for(let i of e.views.values())t=t||BL(i,n);return t}function HE(e,n){if(n._queryParams.loadsAllData())return td(e);{let i=n._queryIdentifier;return e.views.get(i)}}function GE(e,n){return HE(e,n)!=null}function oi(e){return td(e)!=null}function td(e){for(let n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}var $u;function qL(e){v(!$u,"__referenceConstructor has already been defined"),$u=e}function ZL(){return v($u,"Reference.ts has not been loaded"),$u}var KL=1,Hu=class{constructor(n){this.listenProvider_=n,this.syncPointTree_=new ze(null),this.pendingWriteTree_=SL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function a_(e,n,t,i,r){return gL(e.pendingWriteTree_,n,t,i,r),r?Eo(e,new vo(t_(),n,t)):[]}function QL(e,n,t,i){mL(e.pendingWriteTree_,n,t,i);let r=ze.fromObject(t);return Eo(e,new ra(t_(),n,r))}function ei(e,n,t=!1){let i=_L(e.pendingWriteTree_,n);if(vL(e.pendingWriteTree_,n)){let o=new ze(null);return i.snap!=null?o=o.set(Y(),!0):Oe(i.children,s=>{o=o.set(new J(s),!0)}),Eo(e,new mm(i.path,o,t))}else return[]}function pa(e,n,t){return Eo(e,new vo(n_(),n,t))}function YL(e,n,t){let i=ze.fromObject(t);return Eo(e,new ra(n_(),n,i))}function JL(e,n){return Eo(e,new Fu(n_(),n))}function XL(e,n,t){let i=l_(e,t);if(i){let r=c_(i),o=r.path,s=r.queryId,a=Ge(o,n),l=new Fu(i_(s),a);return u_(e,o,l)}else return[]}function Gu(e,n,t,i,r=!1){let o=n._path,s=e.syncPointTree_.get(o),a=[];if(s&&(n._queryIdentifier==="default"||GE(s,n))){let l=WL(s,n,t,i);GL(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>oi(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=n2(h);for(let p=0;p<f.length;++p){let m=f[p],D=m.query,I=ZE(e,m);e.listenProvider_.startListening(Qs(D),sa(e,D),I.hashFn,I.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Qs(n),null):c.forEach(h=>{let f=e.queryToTagMap.get(id(h));e.listenProvider_.stopListening(Qs(h),f)}))}i2(e,c)}return a}function zE(e,n,t,i){let r=l_(e,i);if(r!=null){let o=c_(r),s=o.path,a=o.queryId,l=Ge(s,n),c=new vo(i_(a),l,t);return u_(e,s,c)}else return[]}function e2(e,n,t,i){let r=l_(e,i);if(r){let o=c_(r),s=o.path,a=o.queryId,l=Ge(s,n),c=ze.fromObject(t),u=new ra(i_(a),l,c);return u_(e,s,u)}else return[]}function Im(e,n,t,i=!1){let r=n._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Ge(h,r);o=o||ni(f,p),s=s||oi(f)});let a=e.syncPointTree_.get(r);a?(s=s||oi(a),o=o||ni(a,Y())):(a=new Uu,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=x.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let m=ni(p,Y());m&&(o=o.updateImmediateChild(f,m))}));let c=GE(a,n);if(!c&&!n._queryParams.loadsAllData()){let h=id(n);v(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=r2();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=ed(e.pendingWriteTree_,r),d=zL(a,n,t,u,o,l);if(!c&&!s&&!i){let h=HE(a,n);d=d.concat(o2(e,n,h))}return d}function nd(e,n,t){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(n,(s,a)=>{let l=Ge(s,n),c=ni(a,l);if(c)return c});return FE(r,n,o,t,!0)}function t2(e,n){let t=n._path,i=null;e.syncPointTree_.foreachOnPath(t,(c,u)=>{let d=Ge(c,t);i=i||ni(u,d)});let r=e.syncPointTree_.get(t);r?i=i||ni(r,Y()):(r=new Uu,e.syncPointTree_=e.syncPointTree_.set(t,r));let o=i!=null,s=o?new Jt(i,!0,!1):null,a=ed(e.pendingWriteTree_,n._path),l=UE(r,n,a,o?s.getNode():x.EMPTY_NODE,o);return VL(l)}function Eo(e,n){return WE(n,e.syncPointTree_,null,ed(e.pendingWriteTree_,Y()))}function WE(e,n,t,i){if(z(e.path))return qE(e,n,t,i);{let r=n.get(Y());t==null&&r!=null&&(t=ni(r,Y()));let o=[],s=G(e.path),a=e.operationForChild(s),l=n.children.get(s);if(l&&a){let c=t?t.getImmediateChild(s):null,u=PE(i,s);o=o.concat(WE(a,l,c,u))}return r&&(o=o.concat(s_(r,e,i,t))),o}}function qE(e,n,t,i){let r=n.get(Y());t==null&&r!=null&&(t=ni(r,Y()));let o=[];return n.children.inorderTraversal((s,a)=>{let l=t?t.getImmediateChild(s):null,c=PE(i,s),u=e.operationForChild(s);u&&(o=o.concat(qE(u,a,l,c)))}),r&&(o=o.concat(s_(r,e,i,t))),o}function ZE(e,n){let t=n.query,i=sa(e,t);return{hashFn:()=>(LL(n)||x.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?XL(e,t._path,i):JL(e,t._path);{let o=gP(r,t);return Gu(e,t,null,o)}}}}function sa(e,n){let t=id(n);return e.queryToTagMap.get(t)}function id(e){return e._path.toString()+"$"+e._queryIdentifier}function l_(e,n){return e.tagToQueryMap.get(n)}function c_(e){let n=e.indexOf("$");return v(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new J(e.substr(0,n))}}function u_(e,n,t){let i=e.syncPointTree_.get(n);v(i,"Missing sync point for query tag that we're tracking");let r=ed(e.pendingWriteTree_,n);return s_(i,t,r,null)}function n2(e){return e.fold((n,t,i)=>{if(t&&oi(t))return[td(t)];{let r=[];return t&&(r=$E(t)),Oe(i,(o,s)=>{r=r.concat(s)}),r}})}function Qs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ZL())(e._repo,e._path):e}function i2(e,n){for(let t=0;t<n.length;++t){let i=n[t];if(!i._queryParams.loadsAllData()){let r=id(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function r2(){return KL++}function o2(e,n,t){let i=n._path,r=sa(e,n),o=ZE(e,t),s=e.listenProvider_.startListening(Qs(n),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!oi(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!z(c)&&u&&oi(u))return[td(u).query];{let h=[];return u&&(h=h.concat($E(u).map(f=>f.query))),Oe(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Qs(u),sa(e,u))}}return s}var Sm=class e{constructor(n){this.node_=n}getImmediateChild(n){let t=this.node_.getImmediateChild(n);return new e(t)}node(){return this.node_}},Mm=class e{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){let t=ce(this.path_,n);return new e(this.syncTree_,t)}node(){return nd(this.syncTree_,this.path_)}},s2=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},JC=function(e,n,t){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return a2(e[".sv"],n,t);if(typeof e[".sv"]=="object")return l2(e[".sv"],n);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},a2=function(e,n,t){switch(e){case"timestamp":return t.timestamp;default:v(!1,"Unexpected server value: "+e)}},l2=function(e,n,t){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=n.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},KE=function(e,n,t,i){return h_(n,new Mm(t,e),i)},d_=function(e,n,t){return h_(e,new Sm(n),t)};function h_(e,n,t){let i=e.getPriority().val(),r=JC(i,n.getImmediateChild(".priority"),t),o;if(e.isLeafNode()){let s=e,a=JC(s.getValue(),n,t);return a!==s.getValue()||r!==s.getPriority().val()?new go(a,de(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new go(r))),s.forEachChild(ae,(a,l)=>{let c=h_(l,n.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var aa=class{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}};function rd(e,n){let t=n instanceof J?n:new J(n),i=e,r=G(t);for(;r!==null;){let o=Mn(i.node.children,r)||{children:{},childCount:0};i=new aa(r,i,o),t=se(t),r=G(t)}return i}function qi(e){return e.node.value}function f_(e,n){e.node.value=n,Nm(e)}function QE(e){return e.node.childCount>0}function c2(e){return qi(e)===void 0&&!QE(e)}function od(e,n){Oe(e.node.children,(t,i)=>{n(new aa(t,e,i))})}function YE(e,n,t,i){t&&!i&&n(e),od(e,r=>{YE(r,n,!0,i)}),t&&i&&n(e)}function u2(e,n,t){let i=t?e:e.parent;for(;i!==null;){if(n(i))return!0;i=i.parent}return!1}function ga(e){return new J(e.parent===null?e.name:ga(e.parent)+"/"+e.name)}function Nm(e){e.parent!==null&&d2(e.parent,e.name,e)}function d2(e,n,t){let i=c2(t),r=ct(e.node.children,n);i&&r?(delete e.node.children[n],e.node.childCount--,Nm(e)):!i&&!r&&(e.node.children[n]=t.node,e.node.childCount++,Nm(e))}var h2=/[\[\].#$\/\u0000-\u001F\u007F]/,f2=/[\[\].#$\u0000-\u001F\u007F]/,jg=10*1024*1024,sd=function(e){return typeof e=="string"&&e.length!==0&&!h2.test(e)},JE=function(e){return typeof e=="string"&&e.length!==0&&!f2.test(e)},p2=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),JE(e)},la=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Yu(e)||e&&typeof e=="object"&&ct(e,".sv")},Xt=function(e,n,t,i){i&&n===void 0||ma(Ze(e,"value"),n,t)},ma=function(e,n,t){let i=t instanceof J?new Xg(t,e):t;if(n===void 0)throw new Error(e+"contains undefined "+Ui(i));if(typeof n=="function")throw new Error(e+"contains a function "+Ui(i)+" with contents = "+n.toString());if(Yu(n))throw new Error(e+"contains "+n.toString()+" "+Ui(i));if(typeof n=="string"&&n.length>jg/3&&Mo(n)>jg)throw new Error(e+"contains a string greater than "+jg+" utf8 bytes "+Ui(i)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let r=!1,o=!1;if(Oe(n,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!sd(s)))throw new Error(e+" contains an invalid key ("+s+") "+Ui(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GP(i,s),ma(e,a,i),zP(i)}),r&&o)throw new Error(e+' contains ".value" child '+Ui(i)+" in addition to actual children.")}},g2=function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];let o=Js(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!sd(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(HP);let r=null;for(t=0;t<n.length;t++){if(i=n[t],r!==null&&yt(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},XE=function(e,n,t,i){if(i&&n===void 0)return;let r=Ze(e,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(r+" must be an object containing the children to replace.");let o=[];Oe(n,(s,a)=>{let l=new J(s);if(ma(r,a,ce(t,l)),Qm(l)===".priority"&&!la(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),g2(r,o)},p_=function(e,n,t){if(!(t&&n===void 0)){if(Yu(n))throw new Error(Ze(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!la(n))throw new Error(Ze(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_a=function(e,n,t,i){if(!(i&&t===void 0)&&!sd(t))throw new Error(Ze(e,n)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},To=function(e,n,t,i){if(!(i&&t===void 0)&&!JE(t))throw new Error(Ze(e,n)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m2=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),To(e,n,t,i)},ot=function(e,n){if(G(n)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},e1=function(e,n){let t=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!sd(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!p2(t))throw new Error(Ze(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Am=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function ad(e,n){let t=null;for(let i=0;i<n.length;i++){let r=n[i],o=r.getPath();t!==null&&!Ym(o,t.path)&&(e.eventLists_.push(t),t=null),t===null&&(t={events:[],path:o}),t.events.push(r)}t&&e.eventLists_.push(t)}function t1(e,n,t){ad(e,t),n1(e,i=>Ym(i,n))}function st(e,n,t){ad(e,t),n1(e,i=>yt(i,n)||yt(n,i))}function n1(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;n(o)?(_2(e.eventLists_[i]),e.eventLists_[i]=null):t=!1}}t&&(e.eventLists_=[]),e.recursionDepth_--}function _2(e){for(let n=0;n<e.events.length;n++){let t=e.events[n];if(t!==null){e.events[n]=null;let i=t.getEventRunner();Hi&&Ae("event: "+t.toString()),wo(i)}}}var i1="repo_interrupt",v2=25,Om=class{constructor(n,t,i,r){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Am,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ku(),this.transactionQueueTree_=new aa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function y2(e,n,t){if(e.stats_=Km(e.repoInfo_),e.forceRestClient_||yP())e.server_=new um(e.repoInfo_,(i,r,o,s)=>{XC(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>eE(e,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Jm(e.repoInfo_,n,(i,r,o,s)=>{XC(e,i,r,o,s)},i=>{eE(e,i)},i=>{D2(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=bP(e.repoInfo_,()=>new gm(e.stats_,e.server_)),e.infoData_=new dm,e.infoSyncTree_=new Hu({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=pa(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),g_(e,"connected",!1),e.serverSyncTree_=new Hu({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);st(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function r1(e){let t=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function va(e){return s2({timestamp:r1(e)})}function XC(e,n,t,i,r){e.dataUpdateCount++;let o=new J(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let s=[];if(r)if(i){let l=So(t,c=>de(c));s=e2(e.serverSyncTree_,o,l,r)}else{let l=de(t);s=zE(e.serverSyncTree_,o,l,r)}else if(i){let l=So(t,c=>de(c));s=YL(e.serverSyncTree_,o,l)}else{let l=de(t);s=pa(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Do(e,o)),st(e.eventQueue_,a,s)}function eE(e,n){g_(e,"connected",n),n===!1&&C2(e)}function D2(e,n){Oe(n,(t,i)=>{g_(e,t,i)})}function g_(e,n,t){let i=new J("/.info/"+n),r=de(t);e.infoData_.updateSnapshot(i,r);let o=pa(e.infoSyncTree_,i,r);st(e.eventQueue_,i,o)}function ld(e){return e.nextWriteId_++}function b2(e,n,t){let i=t2(e.serverSyncTree_,n);return i!=null?Promise.resolve(i):e.server_.get(n).then(r=>{let o=de(r).withIndex(n._queryParams.getIndex());Im(e.serverSyncTree_,n,t,!0);let s;if(n._queryParams.loadsAllData())s=pa(e.serverSyncTree_,n._path,o);else{let a=sa(e.serverSyncTree_,n);s=zE(e.serverSyncTree_,n._path,o,a)}return st(e.eventQueue_,n._path,s),Gu(e.serverSyncTree_,n,t,null,!0),o},r=>(Io(e,"get for query "+_e(n)+" failed: "+r),Promise.reject(new Error(r))))}function m_(e,n,t,i,r){Io(e,"set",{path:n.toString(),value:t,priority:i});let o=va(e),s=de(t,i),a=nd(e.serverSyncTree_,n),l=d_(s,a,o),c=ld(e),u=a_(e.serverSyncTree_,n,l,c,!0);ad(e.eventQueue_,u),e.server_.put(n.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||Ve("set at "+n+" failed: "+h);let m=ei(e.serverSyncTree_,c,!p);st(e.eventQueue_,n,m),si(e,r,h,f)});let d=v_(e,n);Do(e,d),st(e.eventQueue_,d,[])}function w2(e,n,t,i){Io(e,"update",{path:n.toString(),value:t});let r=!0,o=va(e),s={};if(Oe(t,(a,l)=>{r=!1,s[a]=KE(ce(n,a),de(l),e.serverSyncTree_,o)}),r)Ae("update() called with empty data.  Don't do anything."),si(e,i,"ok",void 0);else{let a=ld(e),l=QL(e.serverSyncTree_,n,s,a);ad(e.eventQueue_,l),e.server_.merge(n.toString(),t,(c,u)=>{let d=c==="ok";d||Ve("update at "+n+" failed: "+c);let h=ei(e.serverSyncTree_,a,!d),f=h.length>0?Do(e,n):n;st(e.eventQueue_,f,h),si(e,i,c,u)}),Oe(t,c=>{let u=v_(e,ce(n,c));Do(e,u)}),st(e.eventQueue_,n,[])}}function C2(e){Io(e,"onDisconnectEvents");let n=va(e),t=ku();fm(e.onDisconnect_,Y(),(r,o)=>{let s=KE(r,o,e.serverSyncTree_,n);Co(t,r,s)});let i=[];fm(t,Y(),(r,o)=>{i=i.concat(pa(e.serverSyncTree_,r,o));let s=v_(e,r);Do(e,s)}),e.onDisconnect_=ku(),st(e.eventQueue_,Y(),i)}function E2(e,n,t){e.server_.onDisconnectCancel(n.toString(),(i,r)=>{i==="ok"&&hm(e.onDisconnect_,n),si(e,t,i,r)})}function tE(e,n,t,i){let r=de(t);e.server_.onDisconnectPut(n.toString(),r.val(!0),(o,s)=>{o==="ok"&&Co(e.onDisconnect_,n,r),si(e,i,o,s)})}function T2(e,n,t,i,r){let o=de(t,i);e.server_.onDisconnectPut(n.toString(),o.val(!0),(s,a)=>{s==="ok"&&Co(e.onDisconnect_,n,o),si(e,r,s,a)})}function I2(e,n,t,i){if(Ea(t)){Ae("onDisconnect().update() called with empty data.  Don't do anything."),si(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(n.toString(),t,(r,o)=>{r==="ok"&&Oe(t,(s,a)=>{let l=de(a);Co(e.onDisconnect_,ce(n,s),l)}),si(e,i,r,o)})}function S2(e,n,t){let i;G(n._path)===".info"?i=Im(e.infoSyncTree_,n,t):i=Im(e.serverSyncTree_,n,t),t1(e.eventQueue_,n._path,i)}function Rm(e,n,t){let i;G(n._path)===".info"?i=Gu(e.infoSyncTree_,n,t):i=Gu(e.serverSyncTree_,n,t),t1(e.eventQueue_,n._path,i)}function o1(e){e.persistentConnection_&&e.persistentConnection_.interrupt(i1)}function M2(e){e.persistentConnection_&&e.persistentConnection_.resume(i1)}function Io(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Ae(t,...n)}function si(e,n,t,i){n&&wo(()=>{if(t==="ok")n(null);else{let r=(t||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,n(s)}})}function N2(e,n,t,i,r,o){Io(e,"transaction on "+n);let s={path:n,update:t,onComplete:i,status:null,order:rE(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=__(e,n,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ma("transaction failed: Data returned ",l,s.path),s.status=0;let c=rd(e.transactionQueueTree_,n),u=qi(c)||[];u.push(s),f_(c,u);let d;typeof l=="object"&&l!==null&&ct(l,".priority")?(d=Mn(l,".priority"),v(la(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(nd(e.serverSyncTree_,n)||x.EMPTY_NODE).getPriority().val();let h=va(e),f=de(l,d),p=d_(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=ld(e);let m=a_(e.serverSyncTree_,n,p,s.currentWriteId,s.applyLocally);st(e.eventQueue_,n,m),cd(e,e.transactionQueueTree_)}}function __(e,n,t){return nd(e.serverSyncTree_,n,t)||x.EMPTY_NODE}function cd(e,n=e.transactionQueueTree_){if(n||ud(e,n),qi(n)){let t=a1(e,n);v(t.length>0,"Sending zero length transaction queue"),t.every(r=>r.status===0)&&A2(e,ga(n),t)}else QE(n)&&od(n,t=>{cd(e,t)})}function A2(e,n,t){let i=t.map(c=>c.currentWriteId),r=__(e,n,i),o=r,s=r.hash();for(let c=0;c<t.length;c++){let u=t[c];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ge(n,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=n;e.server_.put(l.toString(),a,c=>{Io(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(ei(e.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();ud(e,rd(e.transactionQueueTree_,n)),cd(e,e.transactionQueueTree_),st(e.eventQueue_,n,u);for(let h=0;h<d.length;h++)wo(d[h])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{Ve("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Do(e,n)}},s)}function Do(e,n){let t=s1(e,n),i=ga(t),r=a1(e,t);return O2(e,r,i),i}function O2(e,n,t){if(n.length===0)return;let i=[],r=[],s=n.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<n.length;a++){let l=n[a],c=Ge(t,l.path),u=!1,d;if(v(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ei(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=v2)u=!0,d="maxretry",r=r.concat(ei(e.serverSyncTree_,l.currentWriteId,!0));else{let h=__(e,l.path,s);l.currentInputSnapshot=h;let f=n[a].update(h.val());if(f!==void 0){ma("transaction failed: Data returned ",f,l.path);let p=de(f);typeof f=="object"&&f!=null&&ct(f,".priority")||(p=p.updatePriority(h.getPriority()));let D=l.currentWriteId,I=va(e),B=d_(p,h,I);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=B,l.currentWriteId=ld(e),s.splice(s.indexOf(D),1),r=r.concat(a_(e.serverSyncTree_,l.path,B,l.currentWriteId,l.applyLocally)),r=r.concat(ei(e.serverSyncTree_,D,!0))}else u=!0,d="nodata",r=r.concat(ei(e.serverSyncTree_,l.currentWriteId,!0))}st(e.eventQueue_,t,r),r=[],u&&(n[a].status=2,function(h){setTimeout(h,Math.floor(0))}(n[a].unwatcher),n[a].onComplete&&(d==="nodata"?i.push(()=>n[a].onComplete(null,!1,n[a].currentInputSnapshot)):i.push(()=>n[a].onComplete(new Error(d),!1,null))))}ud(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)wo(i[a]);cd(e,e.transactionQueueTree_)}function s1(e,n){let t,i=e.transactionQueueTree_;for(t=G(n);t!==null&&qi(i)===void 0;)i=rd(i,t),n=se(n),t=G(n);return i}function a1(e,n){let t=[];return l1(e,n,t),t.sort((i,r)=>i.order-r.order),t}function l1(e,n,t){let i=qi(n);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);od(n,r=>{l1(e,r,t)})}function ud(e,n){let t=qi(n);if(t){let i=0;for(let r=0;r<t.length;r++)t[r].status!==2&&(t[i]=t[r],i++);t.length=i,f_(n,t.length>0?t:void 0)}od(n,i=>{ud(e,i)})}function v_(e,n){let t=ga(s1(e,n)),i=rd(e.transactionQueueTree_,n);return u2(i,r=>{Ug(e,r)}),Ug(e,i),YE(i,r=>{Ug(e,r)}),t}function Ug(e,n){let t=qi(n);if(t){let i=[],r=[],o=-1;for(let s=0;s<t.length;s++)t[s].status===3||(t[s].status===1?(v(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(v(t[s].status===0,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(ei(e.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?f_(n,void 0):t.length=o+1,st(e.eventQueue_,ga(n),r);for(let s=0;s<i.length;s++)wo(i[s])}}function R2(e){let n="",t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}n+="/"+r}return n}function x2(e){let n={};e.charAt(0)==="?"&&(e=e.substring(1));for(let t of e.split("&")){if(t.length===0)continue;let i=t.split("=");i.length===2?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ve(`Invalid query segment '${t}' in query '${e}'`)}return n}var xm=function(e,n){let t=k2(e),i=t.namespace;t.domain==="firebase.com"&&Yt(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&t.domain!=="localhost"&&Yt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||uP();let r=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Iu(t.host,t.secure,i,r,n,"",i!==t.subdomain),path:new J(t.pathString)}},k2=function(e){let n="",t="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),n=e.substring(0,Math.min(u,d)),u<d&&(r=R2(e.substring(u,d)));let h=x2(e.substring(Math.min(e.length,d)));c=n.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(n.substring(c+1),10)):c=n.length;let f=n.slice(0,c);if(f.toLowerCase()==="localhost")t="localhost";else if(f.split(".").length<=2)t=f;else{let p=n.indexOf(".");i=n.substring(0,p).toLowerCase(),t=n.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:n,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var nE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F2=function(){let e=0,n=[];return function(t){let i=t===e;e=t;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=nE.charAt(t%64),t=Math.floor(t/64);v(t===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&n[r]===63;r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=nE.charAt(n[r]);return v(s.length===20,"nextPushId: Length should be 20."),s}}();var zu=class{constructor(n,t,i,r){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){let n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},Wu=class{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ca=class{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}};var qu=class{constructor(n,t){this._repo=n,this._path=t}cancel(){let n=new Te;return E2(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){ot("OnDisconnect.remove",this._path);let n=new Te;return tE(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){ot("OnDisconnect.set",this._path),Xt("OnDisconnect.set",n,this._path,!1);let t=new Te;return tE(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){ot("OnDisconnect.setWithPriority",this._path),Xt("OnDisconnect.setWithPriority",n,this._path,!1),p_("OnDisconnect.setWithPriority",t,!1);let i=new Te;return T2(this._repo,this._path,n,t,i.wrapCallback(()=>{})),i.promise}update(n){ot("OnDisconnect.update",this._path),XE("OnDisconnect.update",n,this._path,!1);let t=new Te;return I2(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}};var We=class e{constructor(n,t,i,r){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return z(this._path)?null:Qm(this._path)}get ref(){return new at(this._repo,this._path)}get _queryIdentifier(){let n=$C(this._queryParams),t=Zm(n);return t==="{}"?"default":t}get _queryObject(){return $C(this._queryParams)}isEqual(n){if(n=Be(n),!(n instanceof e))return!1;let t=this._repo===n._repo,i=Ym(this._path,n._path),r=this._queryIdentifier===n._queryIdentifier;return t&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+$P(this._path)}};function dd(e,n){if(e._orderByCalled===!0)throw new Error(n+": You can't combine multiple orderBy calls.")}function li(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Qt){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ii)throw new Error(i);if(typeof n!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==In)throw new Error(i);if(typeof t!="string")throw new Error(r)}}else if(e.getIndex()===ae){if(n!=null&&!la(n)||t!=null&&!la(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v(e.getIndex()instanceof Xs||e.getIndex()===e_,"unknown index type."),n!=null&&typeof n=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function hd(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var at=class e extends We{constructor(n,t){super(n,t,new ia,!1)}get parent(){let n=TE(this._path);return n===null?null:new e(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}},bo=class e{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){let t=new J(n),i=ai(this.ref,n);return new e(this._node.getChild(t),i,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>n(new e(r,ai(this.ref,i),ae)))}hasChild(n){let t=new J(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function y_(e,n){return e=Be(e),e._checkNotDeleted("ref"),n!==void 0?ai(e._root,n):e._root}function D_(e,n){e=Be(e),e._checkNotDeleted("refFromURL");let t=xm(n,e._repo.repoInfo_.nodeAdmin);e1("refFromURL",t);let i=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Yt("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),y_(e,t.path.toString())}function ai(e,n){return e=Be(e),G(e._path)===null?m2("child","path",n,!1):To("child","path",n,!1),new at(e._repo,ce(e._path,n))}function c1(e,n){e=Be(e),ot("push",e._path),Xt("push",n,e._path,!0);let t=r1(e._repo),i=F2(t),r=ai(e,i),o=ai(e,i),s;return n!=null?s=fd(o,n).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function u1(e){return ot("remove",e._path),fd(e,null)}function fd(e,n){e=Be(e),ot("set",e._path),Xt("set",n,e._path,!1);let t=new Te;return m_(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function d1(e,n){e=Be(e),ot("setPriority",e._path),p_("setPriority",n,!1);let t=new Te;return m_(e._repo,ce(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}function h1(e,n,t){if(ot("setWithPriority",e._path),Xt("setWithPriority",n,e._path,!1),p_("setWithPriority",t,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Te;return m_(e._repo,e._path,n,t,i.wrapCallback(()=>{})),i.promise}function f1(e,n){XE("update",n,e._path,!1);let t=new Te;return w2(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function p1(e){e=Be(e);let n=new ca(()=>{}),t=new ua(n);return b2(e._repo,e,t).then(i=>new bo(i,new at(e._repo,e._path),e._queryParams.getIndex()))}var ua=class e{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,t){let i=t._queryParams.getIndex();return new zu("value",this,new bo(n.snapshotNode,new at(t._repo,t._path),i))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Wu(this,n,t):null}matches(n){return n instanceof e?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Zu=class e{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t=n==="children_added"?"child_added":n;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new Wu(this,n,t):null}createEvent(n,t){v(n.childName!=null,"Child events should have a childName.");let i=ai(new at(t._repo,t._path),n.childName),r=t._queryParams.getIndex();return new zu(n.type,this,new bo(n.snapshotNode,i,r),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof e?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ya(e,n,t,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=t,c=(u,d)=>{Rm(e._repo,e,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}let s=new ca(t,o||void 0),a=n==="value"?new ua(s):new Zu(n,s);return S2(e._repo,e,a),()=>Rm(e._repo,e,a)}function pd(e,n,t,i){return ya(e,"value",n,t,i)}function b_(e,n,t,i){return ya(e,"child_added",n,t,i)}function w_(e,n,t,i){return ya(e,"child_changed",n,t,i)}function C_(e,n,t,i){return ya(e,"child_moved",n,t,i)}function E_(e,n,t,i){return ya(e,"child_removed",n,t,i)}function T_(e,n,t){let i=null,r=t?new ca(t):null;n==="value"?i=new ua(r):n&&(i=new Zu(n,r)),Rm(e._repo,e,i)}var lt=class{},Ku=class extends lt{constructor(n,t){super(),this._value=n,this._key=t,this.type="endAt"}_apply(n){Xt("endAt",this._value,n._path,!0);let t=cm(n._queryParams,this._value,this._key);if(hd(t),li(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new We(n._repo,n._path,t,n._orderByCalled)}};function g1(e,n){return _a("endAt","key",n,!0),new Ku(e,n)}var km=class extends lt{constructor(n,t){super(),this._value=n,this._key=t,this.type="endBefore"}_apply(n){Xt("endBefore",this._value,n._path,!1);let t=aL(n._queryParams,this._value,this._key);if(hd(t),li(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new We(n._repo,n._path,t,n._orderByCalled)}};function m1(e,n){return _a("endBefore","key",n,!0),new km(e,n)}var Qu=class extends lt{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAt"}_apply(n){Xt("startAt",this._value,n._path,!0);let t=lm(n._queryParams,this._value,this._key);if(hd(t),li(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new We(n._repo,n._path,t,n._orderByCalled)}};function _1(e=null,n){return _a("startAt","key",n,!0),new Qu(e,n)}var Fm=class extends lt{constructor(n,t){super(),this._value=n,this._key=t,this.type="startAfter"}_apply(n){Xt("startAfter",this._value,n._path,!1);let t=sL(n._queryParams,this._value,this._key);if(hd(t),li(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new We(n._repo,n._path,t,n._orderByCalled)}};function v1(e,n){return _a("startAfter","key",n,!0),new Fm(e,n)}var Pm=class extends lt{constructor(n){super(),this._limit=n,this.type="limitToFirst"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new We(n._repo,n._path,rL(n._queryParams,this._limit),n._orderByCalled)}};function y1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pm(e)}var Lm=class extends lt{constructor(n){super(),this._limit=n,this.type="limitToLast"}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new We(n._repo,n._path,oL(n._queryParams,this._limit),n._orderByCalled)}};function D1(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Lm(e)}var Vm=class extends lt{constructor(n){super(),this._path=n,this.type="orderByChild"}_apply(n){dd(n,"orderByChild");let t=new J(this._path);if(z(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Xs(t),r=Ju(n._queryParams,i);return li(r),new We(n._repo,n._path,r,!0)}};function b1(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return To("orderByChild","path",e,!1),new Vm(e)}var Bm=class extends lt{constructor(){super(...arguments),this.type="orderByKey"}_apply(n){dd(n,"orderByKey");let t=Ju(n._queryParams,Qt);return li(t),new We(n._repo,n._path,t,!0)}};function w1(){return new Bm}var jm=class extends lt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(n){dd(n,"orderByPriority");let t=Ju(n._queryParams,ae);return li(t),new We(n._repo,n._path,t,!0)}};function C1(){return new jm}var Um=class extends lt{constructor(){super(...arguments),this.type="orderByValue"}_apply(n){dd(n,"orderByValue");let t=Ju(n._queryParams,e_);return li(t),new We(n._repo,n._path,t,!0)}};function E1(){return new Um}var $m=class extends lt{constructor(n,t){super(),this._value=n,this._key=t,this.type="equalTo"}_apply(n){if(Xt("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ku(this._value,this._key)._apply(new Qu(this._value,this._key)._apply(n))}};function T1(e,n){return _a("equalTo","key",n,!0),new $m(e,n)}function bt(e,...n){let t=Be(e);for(let i of n)t=i._apply(t);return t}$L(at);qL(at);var P2="FIREBASE_DATABASE_EMULATOR_HOST",Hm={},L2=!1;function V2(e,n,t,i){e.repoInfo_=new Iu(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function I_(e,n,t,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Yt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ae("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=xm(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[P2]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=xm(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new qs(qs.OWNER):new qg(e.name,e.options,n);e1("Invalid Firebase Database URL",s),z(s.path)||Yt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=j2(a,e,u,new Wg(e.name,t));return new Gm(d,e)}function B2(e,n){let t=Hm[n];(!t||t[e.key]!==e)&&Yt(`Database ${n}(${e.repoInfo_}) has already been deleted.`),o1(e),delete t[e.key]}function j2(e,n,t,i){let r=Hm[n.name];r||(r={},Hm[n.name]=r);let o=r[e.toURLString()];return o&&Yt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Om(e,L2,t,i),r[e.toURLString()]=o,o}var Gm=class{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(y2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new at(this._repo,Y())),this._rootInternal}_delete(){return this._rootInternal!==null&&(B2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Yt("Cannot call "+n+" on a deleted database.")}};function I1(){EE.IS_TRANSPORT_INITIALIZED&&Ve("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function S1(){I1(),Ys.forceDisallow()}function M1(){I1(),uo.forceDisallow(),Ys.forceAllow()}function N1(e,n,t,i={}){e=Be(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Yt("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Yt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qs(qs.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:k_(i.mockUserToken,e.app.options.projectId);o=new qs(s)}V2(r,n,t,o)}function A1(e){e=Be(e),e._checkNotDeleted("goOffline"),o1(e._repo)}function O1(e){e=Be(e),e._checkNotDeleted("goOnline"),M2(e._repo)}function R1(e,n){sE(e,n)}function U2(e){qm(G_),No(new tn("database",(n,{instanceIdentifier:t})=>{let i=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return I_(i,r,o,t)},"PUBLIC").setMultipleInstances(!0)),Nn(TC,IC,e),Nn(TC,IC,"esm2017")}var $2={".sv":"timestamp"};function x1(){return $2}function k1(e){return{".sv":{increment:e}}}var zm=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function F1(e,n,t){var i;if(e=Be(e),ot("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=t?.applyLocally)!==null&&i!==void 0?i:!0,o=new Te,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new bo(u,new at(e._repo,e._path),ae),o.resolve(new zm(c,d)))},a=pd(e,()=>{});return N2(e._repo,e._path,n,s,a,r),o.promise}Jm.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)};Jm.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)};U2();var H2="@firebase/database-compat",G2="1.0.8";var z2=new Yi("@firebase/database-compat"),P1=function(e){let n="FIREBASE WARNING: "+e;z2.warn(n)};var W2=function(e,n,t,i){if(!(i&&t===void 0)&&typeof t!="boolean")throw new Error(Ze(e,n)+"must be a boolean.")},q2=function(e,n,t){if(!(t&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ze(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var S_=class{constructor(n){this._delegate=n}cancel(n){N("OnDisconnect.cancel",0,1,arguments.length),be("OnDisconnect.cancel","onComplete",n,!0);let t=this._delegate.cancel();return n&&t.then(()=>n(null),i=>n(i)),t}remove(n){N("OnDisconnect.remove",0,1,arguments.length),be("OnDisconnect.remove","onComplete",n,!0);let t=this._delegate.remove();return n&&t.then(()=>n(null),i=>n(i)),t}set(n,t){N("OnDisconnect.set",1,2,arguments.length),be("OnDisconnect.set","onComplete",t,!0);let i=this._delegate.set(n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){N("OnDisconnect.setWithPriority",2,3,arguments.length),be("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(n,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(n,t){if(N("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){let r={};for(let o=0;o<n.length;++o)r[""+o]=n[o];n=r,P1("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}be("OnDisconnect.update","onComplete",t,!0);let i=this._delegate.update(n);return t&&i.then(()=>t(null),r=>t(r)),i}};var M_=class{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return N("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Zi=class e{constructor(n,t){this._database=n,this._delegate=t}val(){return N("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return N("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return N("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return N("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return N("DataSnapshot.child",0,1,arguments.length),n=String(n),To("DataSnapshot.child","path",n,!1),new e(this._database,this._delegate.child(n))}hasChild(n){return N("DataSnapshot.hasChild",1,1,arguments.length),To("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return N("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return N("DataSnapshot.forEach",1,1,arguments.length),be("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new e(this._database,t)))}hasChildren(){return N("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return N("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return N("DataSnapshot.ref",0,0,arguments.length),new Sn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},gd=class e{constructor(n,t){this.database=n,this._delegate=t}on(n,t,i,r){var o;N("Query.on",2,4,arguments.length),be("Query.on","callback",t,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{t.call(s.context,new Zi(this.database,c),u)};a.userCallback=t,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(n){case"value":return pd(this._delegate,a,l),t;case"child_added":return b_(this._delegate,a,l),t;case"child_removed":return E_(this._delegate,a,l),t;case"child_changed":return w_(this._delegate,a,l),t;case"child_moved":return C_(this._delegate,a,l),t;default:throw new Error(Ze("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,i){if(N("Query.off",0,3,arguments.length),q2("Query.off",n,!0),be("Query.off","callback",t,!0),yd("Query.off","context",i,!0),t){let r=()=>{};r.userCallback=t,r.context=i,T_(this._delegate,n,r)}else T_(this._delegate,n)}get(){return p1(this._delegate).then(n=>new Zi(this.database,n))}once(n,t,i,r){N("Query.once",1,4,arguments.length),be("Query.once","callback",t,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Te,a=(c,u)=>{let d=new Zi(this.database,c);t&&t.call(o.context,d,u),s.resolve(d)};a.userCallback=t,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(n){case"value":pd(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":b_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":E_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":w_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":C_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ze("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(n){return N("Query.limitToFirst",1,1,arguments.length),new e(this.database,bt(this._delegate,y1(n)))}limitToLast(n){return N("Query.limitToLast",1,1,arguments.length),new e(this.database,bt(this._delegate,D1(n)))}orderByChild(n){return N("Query.orderByChild",1,1,arguments.length),new e(this.database,bt(this._delegate,b1(n)))}orderByKey(){return N("Query.orderByKey",0,0,arguments.length),new e(this.database,bt(this._delegate,w1()))}orderByPriority(){return N("Query.orderByPriority",0,0,arguments.length),new e(this.database,bt(this._delegate,C1()))}orderByValue(){return N("Query.orderByValue",0,0,arguments.length),new e(this.database,bt(this._delegate,E1()))}startAt(n=null,t){return N("Query.startAt",0,2,arguments.length),new e(this.database,bt(this._delegate,_1(n,t)))}startAfter(n=null,t){return N("Query.startAfter",0,2,arguments.length),new e(this.database,bt(this._delegate,v1(n,t)))}endAt(n=null,t){return N("Query.endAt",0,2,arguments.length),new e(this.database,bt(this._delegate,g1(n,t)))}endBefore(n=null,t){return N("Query.endBefore",0,2,arguments.length),new e(this.database,bt(this._delegate,m1(n,t)))}equalTo(n,t){return N("Query.equalTo",1,2,arguments.length),new e(this.database,bt(this._delegate,T1(n,t)))}toString(){return N("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return N("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if(N("Query.isEqual",1,1,arguments.length),!(n instanceof e)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,i){let r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,be(n,"cancel",r.cancel,!0),r.context=i,yd(n,"context",r.context,!0);else if(t)if(typeof t=="object"&&t!==null)r.context=t;else if(typeof t=="function")r.cancel=t;else throw new Error(Ze(n,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Sn(this.database,new at(this._delegate._repo,this._delegate._path))}},Sn=class e extends gd{constructor(n,t){super(n,new We(t._repo,t._path,new ia,!1)),this.database=n,this._delegate=t}getKey(){return N("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return N("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new e(this.database,ai(this._delegate,n))}getParent(){N("Reference.parent",0,0,arguments.length);let n=this._delegate.parent;return n?new e(this.database,n):null}getRoot(){return N("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(n,t){N("Reference.set",1,2,arguments.length),be("Reference.set","onComplete",t,!0);let i=fd(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}update(n,t){if(N("Reference.update",1,2,arguments.length),Array.isArray(n)){let r={};for(let o=0;o<n.length;++o)r[""+o]=n[o];n=r,P1("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ot("Reference.update",this._delegate._path),be("Reference.update","onComplete",t,!0);let i=f1(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(n,t,i){N("Reference.setWithPriority",2,3,arguments.length),be("Reference.setWithPriority","onComplete",i,!0);let r=h1(this._delegate,n,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(n){N("Reference.remove",0,1,arguments.length),be("Reference.remove","onComplete",n,!0);let t=u1(this._delegate);return n&&t.then(()=>n(null),i=>n(i)),t}transaction(n,t,i){N("Reference.transaction",1,3,arguments.length),be("Reference.transaction","transactionUpdate",n,!1),be("Reference.transaction","onComplete",t,!0),W2("Reference.transaction","applyLocally",i,!0);let r=F1(this._delegate,n,{applyLocally:i}).then(o=>new M_(o.committed,new Zi(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(n,t){N("Reference.setPriority",1,2,arguments.length),be("Reference.setPriority","onComplete",t,!0);let i=d1(this._delegate,n);return t&&i.then(()=>t(null),r=>t(r)),i}push(n,t){N("Reference.push",0,2,arguments.length),be("Reference.push","onComplete",t,!0);let i=c1(this._delegate,n),r=i.then(s=>new e(this.database,s));t&&r.then(()=>t(null),s=>t(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ot("Reference.onDisconnect",this._delegate._path),new S_(new qu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ki=class{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:S1,forceLongPolling:M1}}useEmulator(n,t,i={}){N1(this._delegate,n,t,i)}ref(n){if(N("database.ref",0,1,arguments.length),n instanceof Sn){let t=D_(this._delegate,n.toString());return new Sn(this,t)}else{let t=y_(this._delegate,n);return new Sn(this,t)}}refFromURL(n){N("database.refFromURL",1,1,arguments.length);let i=D_(this._delegate,n);return new Sn(this,i)}goOffline(){return N("database.goOffline",0,0,arguments.length),A1(this._delegate)}goOnline(){return N("database.goOnline",0,0,arguments.length),O1(this._delegate)}};Ki.ServerValue={TIMESTAMP:x1(),increment:e=>k1(e)};function Z2({app:e,url:n,version:t,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){qm(t);let a=new Dd("database-standalone"),l=new Ta("auth-internal",a);l.setComponent(new tn("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Ta("app-check-internal",a),c.setComponent(new tn("app-check-internal",()=>r,"PRIVATE"))),{instance:new Ki(I_(e,l,c,n,s),e),namespace:o}}var K2=Object.freeze({__proto__:null,initStandalone:Z2});var Q2=Ki.ServerValue;function Y2(e){e.INTERNAL.registerComponent(new tn("database-compat",(n,{instanceIdentifier:t})=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("database").getImmediate({identifier:t});return new Ki(r,i)},"PUBLIC").setServiceProps({Reference:Sn,Query:gd,Database:Ki,DataSnapshot:Zi,enableLogging:R1,INTERNAL:K2,ServerValue:Q2}).setMultipleInstances(!0)),e.registerVersion(H2,G2)}Y2(wt);function Da(e,n,t="on",i=ar){return new A(r=>{let o=null;return o=e[t](n,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),t==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),t==="on"?{unsubscribe(){o!=null&&e.off(n,o)}}:{unsubscribe(){}}}).pipe(E(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:n,payload:o,prevKey:s,key:a}}),Po())}function J2(e){return typeof e=="string"}function X2(e){return typeof e.exportVal=="function"}function U1(e){return e==null}function $1(e){return typeof e.set=="function"}function L1(e,n){return $1(n)?n:e.ref(n)}function H1(e,n){if(J2(e))return n.stringCase();if($1(e))return n.firebaseCase();if(X2(e))return n.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function G1(e){return(U1(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function z1(e,n,t){n=G1(n);let i=n.map(r=>Da(e,r,"on",t));return pi(...i)}function eV(e,n,t){let i=z1(e,n).pipe(fr((r,o)=>[...r,o],[]));return nV(e,i,t)}function tV(e,n){return Da(e,"value","on",n).pipe(E(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}function nV(e,n,t){return tV(e,t).pipe(pr(n),E(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Wd(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),E(r=>r.actions))}function V1(e,n){return function(i,r){return H1(i,{stringCase:()=>e.child(i)[n](r),firebaseCase:()=>i[n](r),snapshotCase:()=>i.ref[n](r)})}}function iV(e){return function(t){return t?H1(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function rV(e,n,t){return Da(e,"value","once",t).pipe(X(i=>{let r=[C(i)];return n.forEach(o=>r.push(Da(e,o,"on",t))),pi(...r).pipe(fr(sV,[]))}),el())}function W1(e,n){let t=e.length;for(let i=0;i<t;i++)if(e[i].payload.key===n)return i;return-1}function oV(e,n){if(U1(n))return 0;{let t=W1(e,n);return t===-1?e.length:t+1}}function sV(e,n){let{payload:t,prevKey:i,key:r}=n,o=W1(e,r),s=oV(e,i);switch(n.type){case"value":if(n.payload?.exists()){let a=null;n.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==t.key),e.splice(s,0,n));else{if(i==null)return[n,...e];e=e.slice(),e.splice(s,0,n)}return e;case"child_removed":return e.filter(a=>a.payload.key!==t.key);case"child_changed":return e.map(a=>a.payload.key===r?n:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function B1(e,n,t){return n=G1(n),rV(e,n,t)}function aV(e,n){let t=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:V1(i,"update"),set:V1(i,"set"),push:r=>i.push(r),remove:iV(i),snapshotChanges(r){return B1(e,r,t).pipe(Tn)},stateChanges(r){return z1(e,r,t).pipe(Tn)},auditTrail(r){return eV(e,r,t).pipe(Tn)},valueChanges(r,o){return B1(e,r,t).pipe(E(a=>a.map(l=>o&&o.idField?F(y({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Tn)}}}function j1(e,n){return function(){return Da(e,"value","on",n)}}function lV(e,n){return{query:e,snapshotChanges(){return j1(e,n.schedulers.outsideAngular)().pipe(Tn)},update(t){return e.ref.update(t)},set(t){return e.ref.set(t)},remove(){return e.ref.remove()},valueChanges(){return j1(e,n.schedulers.outsideAngular)().pipe(Tn,E(i=>i.payload.exists()?i.payload.val():null))}}}var cV=new w("angularfire2.realtimeDatabaseURL"),uV=new w("angularfire2.database.use-emulator"),dV=(()=>{class e{schedulers;database;constructor(t,i,r,o,s,a,l,c,u,d,h,f,p,m,D){this.schedulers=a;let I=l,B=wu(t,s,i);c&&kg(B,s,u,h,f,p,d,m),this.database=Cu(`${B.name}.database.${r}`,"AngularFireDatabase",B.name,()=>{let T=s.runOutsideAngular(()=>B.database(r||void 0));return I&&T.useEmulator(...I),T},[I])}list(t,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>L1(this.database,t)),o=r;return i&&(o=i(r)),aV(o,this)}object(t){let i=this.schedulers.ngZone.runOutsideAngular(()=>L1(this.database,t));return lV(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||e)(_(Du),_(bu,8),_(cV,8),_(Pe),_(H),_(vu),_(uV,8),_(EC,8),_(Mg,8),_(Ng,8),_(Ag,8),_(Og,8),_(Rg,8),_(xg,8),_(ji,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),q1=(()=>{class e{constructor(){wt.registerVersion("angularfire",Dg.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||e)};static \u0275mod=U({type:e});static \u0275inj=j({providers:[dV]})}return e})();var Z1=(()=>{class e{http;prefix;suffix;constructor(t,i="/assets/i18n/",r=".json"){this.http=t,this.prefix=i,this.suffix=r}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}static \u0275fac=function(i){return new(i||e)(_(Fi),_(String),_(String))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function hV(e){return new Z1(e,"./i18n/",".json")}var md=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=U({type:e,bootstrap:[pu]});static \u0275inj=j({providers:[db()],imports:[bb,fu,lC,Bw,q1,yw.forRoot({loader:{provide:Jn,useFactory:hV,deps:[Fi]}})]})};Db().bootstrapModule(md,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
